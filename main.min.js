vfx={impactLand:{name:"impactLand",colour:"rgba(255,255,255,",frames:8,path:[[[-157,-29],[-94,-5],[-154,-52],[-90,-9],[-145,-51],[-161,-85],[-99,-43],[-137,-78],[-115,-73],[-91,-59],[-155,-110],[-108,-84],[-150,-134],[-109,-108],[-136,-136],[-70,-89],[-94,-125],[-68,-95],[-91,-144],[-59,-109],[-83,-146],[-36,-92],[-38,-126],[-20,-105],[-2,-115],[10,-108],[18,-131],[29,-90],[96,-146],[64,-104],[100,-134],[77,-90],[105,-108],[59,-62],[95,-89],[90,-72],[66,-45],[106,-78],[90,-47],[128,-70],[92,-39],
[163,-81],[143,-47],[102,-18],[161,-51],[113,-12],[164,-28],[113,4],[67,49],[15,70],[-13,69],[-57,54],[-111,10],[0,0],[-111,10],[-139,-8]],[[-213,-28],[-145,1],[-205,-46],[-145,-12],[-198,-50],[-214,-84],[-151,-41],[-190,-74],[-169,-72],[-139,-59],[-211,-109],[-159,-81],[-196,-109],[-207,-137],[-152,-103],[-189,-135],[-94,-74],[-129,-123],[-100,-93],[-115,-118],[-123,-145],[-95,-113],[-115,-148],[-65,-89],[-65,-119],[-31,-95],[-1,-114],[25,-100],[51,-119],[58,-86],[132,-143],[103,-107],[145,-140],
[130,-110],[110,-89],[141,-112],[127,-92],[191,-135],[159,-106],[199,-125],[188,-103],[172,-90],[209,-110],[151,-65],[182,-78],[183,-69],[157,-48],[213,-85],[197,-49],[168,-29],[214,-54],[159,-9],[215,-27],[177,2],[115,15],[65,51],[17,65],[-15,65],[-65,52],[-119,16],[0,0],[-119,16],[-188,1]],[[-264,-30],[-199,-2],[-260,-51],[-192,-11],[-246,-49],[-261,-81],[-203,-44],[-243,-75],[-220,-72],[-182,-55],[-257,-107],[-216,-85],[-243,-105],[-254,-135],[-209,-105],[-241,-139],[-159,-80],[-167,-95],[-139,
-63],[-153,-93],[-130,-79],[-159,-121],[-134,-95],[-149,-122],[-160,-152],[-124,-112],[-155,-157],[-102,-101],[-81,-88],[-87,-105],[-82,-103],[-84,-128],[-79,-115],[-76,-125],[-66,-106],[-50,-116],[-20,-97],[3,-113],[18,-101],[51,-120],[54,-98],[76,-121],[76,-111],[96,-126],[91,-116],[102,-117],[97,-102],[171,-150],[140,-108],[186,-148],[173,-117],[150,-91],[187,-124],[141,-69],[241,-139],[208,-108],[257,-132],[240,-106],[222,-91],[260,-112],[199,-66],[239,-82],[239,-73],[204,-43],[266,-87],[247,
-52],[198,-17],[259,-52],[206,-12],[266,-29],[240,-5],[139,4],[66,47],[1,54],[-71,48],[-141,10],[0,0],[-141,10],[-241,-3]],[[-311,-30],[-245,-2],[-302,-50],[-243,-15],[-290,-47],[-310,-85],[-251,-46],[-290,-80],[-266,-72],[-225,-53],[-304,-110],[-267,-89],[-288,-105],[-298,-130],[-250,-103],[-288,-137],[-189,-71],[-199,-98],[-171,-67],[-185,-96],[-162,-80],[-201,-133],[-169,-99],[-181,-121],[-192,-152],[-159,-118],[-181,-158],[-121,-87],[-101,-98],[-98,-116],[-86,-103],[-93,-129],[-77,-104],[-26,
-116],[38,-115],[77,-97],[101,-119],[94,-101],[113,-106],[114,-95],[104,-71],[205,-152],[181,-116],[224,-148],[208,-119],[188,-95],[226,-127],[180,-75],[204,-91],[202,-81],[290,-139],[250,-106],[301,-134],[284,-106],[261,-89],[309,-114],[247,-66],[280,-81],[254,-49],[313,-84],[296,-51],[256,-26],[310,-56],[272,-27],[311,-31],[282,-2],[156,-3],[63,33],[-50,35],[-156,4],[1,-1],[-156,4],[-281,-1]],[[-359,-35],[-294,-4],[-348,-50],[-287,-14],[-330,-45],[-351,-85],[-296,-45],[-330,-80],[-280,-61],[-351,
-112],[-302,-86],[-333,-108],[-342,-131],[-302,-110],[-331,-138],[-216,-61],[-233,-102],[-199,-62],[-217,-95],[-187,-78],[-234,-137],[-199,-103],[-219,-133],[-226,-159],[-195,-126],[-217,-164],[-151,-88],[-123,-105],[-105,-104],[-108,-127],[-95,-106],[-37,-121],[30,-122],[84,-104],[113,-120],[99,-102],[121,-104],[162,-88],[248,-159],[215,-118],[261,-154],[245,-125],[228,-101],[268,-136],[218,-78],[242,-97],[237,-79],[329,-141],[294,-107],[346,-133],[327,-105],[305,-91],[351,-116],[293,-69],[329,-80],
[304,-58],[353,-84],[339,-54],[304,-27],[350,-55],[306,-21],[353,-32],[327,0],[166,-1],[67,22],[-55,21],[-159,5],[0,0],[-159,5],[-326,-1]],[[-392,-38],[-327,-5],[-382,-50],[-321,-13],[-369,-54],[-387,-90],[-322,-42],[-362,-79],[-321,-59],[-383,-109],[-334,-86],[-367,-109],[-380,-136],[-328,-105],[-365,-141],[-242,-53],[-263,-99],[-219,-58],[-241,-88],[-217,-81],[-201,-64],[-261,-139],[-227,-106],[-249,-141],[-258,-173],[-222,-129],[-244,-168],[-186,-103],[-131,-118],[-120,-126],[-108,-119],[-43,-128],
[51,-126],[130,-106],[167,-110],[163,-101],[194,-94],[281,-164],[249,-125],[295,-162],[282,-131],[260,-107],[302,-139],[255,-87],[282,-98],[258,-67],[362,-139],[326,-106],[377,-133],[343,-89],[387,-115],[308,-57],[364,-83],[325,-45],[389,-86],[368,-52],[316,-14],[387,-58],[320,-6],[388,-33],[354,2],[164,2],[86,9],[-1,9],[-109,10],[-180,3],[0,0],[-180,3],[-365,-2]],[[-417,-29],[-349,1],[-419,-56],[-350,-10],[-398,-48],[-416,-82],[-353,-38],[-397,-78],[-338,-51],[-416,-111],[-366,-83],[-399,-109],[-412,
-135],[-356,-102],[-404,-142],[-257,-40],[-279,-62],[-290,-103],[-240,-52],[-275,-99],[-253,-88],[-225,-62],[-289,-138],[-245,-94],[-273,-136],[-281,-169],[-247,-129],[-271,-167],[-204,-91],[-153,-114],[-135,-128],[-121,-118],[-51,-140],[38,-141],[113,-115],[155,-119],[159,-105],[203,-88],[298,-164],[264,-117],[312,-158],[301,-129],[276,-102],[318,-141],[268,-81],[299,-99],[284,-73],[318,-101],[313,-89],[393,-141],[346,-103],[402,-135],[391,-114],[357,-86],[407,-118],[342,-66],[388,-84],[345,-42],
[413,-89],[394,-56],[344,-18],[407,-56],[351,-11],[411,-34],[388,-2],[147,-1],[26,9],[-41,9],[-177,0],[0,10],[-177,0],[-396,2]],[[-429,-32],[-372,-2],[-426,-48],[-364,-13],[-411,-50],[-429,-87],[-366,-39],[-405,-79],[-348,-52],[-429,-115],[-383,-88],[-408,-107],[-421,-131],[-380,-108],[-411,-140],[-288,-53],[-297,-70],[-282,-55],[-302,-109],[-264,-71],[-283,-100],[-256,-87],[-295,-141],[-265,-115],[-289,-146],[-297,-167],[-255,-130],[-281,-172],[-216,-97],[-132,-127],[-131,-136],[-110,-124],[-47,
-147],[49,-147],[121,-124],[167,-133],[166,-116],[219,-97],[320,-171],[283,-122],[334,-164],[320,-134],[286,-96],[338,-143],[268,-67],[322,-105],[288,-57],[344,-112],[330,-86],[409,-143],[377,-109],[424,-138],[413,-114],[385,-86],[431,-117],[349,-55],[414,-88],[373,-48],[433,-92],[416,-58],[369,-23],[434,-62],[369,-6],[435,-36],[407,-3],[-1,-1],[-405,-1]]]},circleDust:{name:"circleDust",colour:"white",frames:30,circles:[0,0,0,0]},flyingDust:{name:"flyingDust",colour:"white",frames:30},dashDust:{name:"dashDust",
colour:"rgba(255,255,255,",frames:8,path:[[[-84,-287],[107,-135],[-161,-296],[5,-153],[-57,-173],[-15,-138],[-198,-218],[51,-86],[-33,-86],[43,-59],[-184,-80],[39,-36],[-157,-15],[0,0],[-157,-15],[257,-8],[308,-30]],[[172,-92],[189,-65],[98,-124],[174,-63],[118,-89],[166,-53],[90,-88],[138,-58],[99,-73],[154,-38],[130,-41],[55,-105],[73,-76],[25,-102],[70,-62],[-3,-96],[73,-34],[-13,-45],[81,-13],[0,0],[81,-13],[163,-13],[245,-21]],[[185,-112],[201,-66],[151,-110],[189,-60],[131,-119],[172,-65],[88,
-119],[168,-56],[124,-75],[150,-51],[102,-75],[56,-123],[71,-92],[61,-93],[68,-84],[39,-104],[68,-72],[3,-117],[53,-68],[4,-85],[43,-59],[-29,-79],[31,-49],[-39,-50],[19,-39],[-29,-35],[91,-9],[0,0],[91,-9],[138,-13],[239,-17]],[[203,-67],[153,-126],[179,-69],[116,-112],[152,-71],[55,-127],[90,-83],[16,-115],[57,-75],[-109,-182],[4,-63],[-64,-86],[-5,-56],[-75,-61],[-5,-42],[-95,-45],[-10,-28],[-50,-23],[59,-11],[0,0],[59,-11],[159,-12],[221,-16]],[[190,-56],[124,-126],[147,-75],[117,-99],[140,-71],
[59,-142],[131,-71],[24,-137],[92,-81],[10,-116],[86,-65],[-119,-178],[-35,-108],[-104,-136],[-24,-81],[-97,-83],[-22,-55],[-92,-60],[-37,-42],[-137,-53],[-64,-30],[-107,-24],[79,-8],[0,0],[79,-8],[170,-12],[198,-23]],[[160,-71],[118,-97],[121,-69],[40,-118],[69,-93],[20,-119],[98,-69],[69,-84],[92,-59],[10,-106],[87,-51],[11,-80],[-86,-180],[-46,-124],[-127,-176],[-52,-111],[-79,-126],[-60,-104],[-147,-151],[-92,-106],[-131,-123],[-95,-98],[-144,-113],[-55,-61],[-98,-76],[-61,-50],[-114,-62],[-77,
-41],[-165,-48],[-86,-28],[-163,-28],[62,1],[0,0],[62,1],[156,-10],[183,-26]],[[136,-73],[85,-114],[119,-77],[32,-131],[96,-79],[17,-119],[72,-72],[-1,-104],[43,-64],[-16,-77],[-139,-182],[-81,-115],[-119,-139],[-90,-104],[-177,-167],[-133,-121],[-186,-136],[-109,-98],[-170,-101],[-96,-60],[-206,-49],[-92,-40],[-161,-34],[-89,-27],[-205,-19],[-25,-3],[88,-6],[0,0],[88,-6],[163,-34]],[[99,-49],[17,-112],[57,-69],[-11,-93],[32,-67],[-9,-75],[-3,-61],[-137,-161],[-87,-90],[-129,-97],[-85,-67],[-133,
-77],[-88,-58],[-175,-64],[-77,-44],[-161,-44],[-86,-31],[-204,-29],[-67,-9],[43,-3],[0,0],[43,-3],[112,-15]]]},doubleJumpRings:{name:"doubleJumpRings",colour:"#63beff",frames:8,rings:[0,0,0]},blastzoneExplosion:{name:"blastzoneExplosion",frames:20,path1:[[-112,-53],[-117,-82],[-107,-78],[-106,-124],[-86,-72],[-80,-138],[-69,-86],[-63,-122],[-58,-85],[-56,-159],[-43,-89],[-36,-129],[-30,-108],[-26,-165],[-13,-111],[0,-173],[6,-118],[20,-183],[31,-104],[51,-156],[51,-92],[63,-125],[63,-84],[78,-147],
[79,-79],[89,-101],[90,-78],[102,-112],[100,-60],[106,-75],[106,-60],[118,-82],[104,-7],[97,-23],[88,0],[89,-41],[83,-28],[79,-41],[73,-10],[71,-39],[66,-10],[62,-38],[57,-15],[54,-41],[49,-31],[46,-44],[35,-30],[31,-63],[25,-47],[23,-57],[13,-25],[7,-55],[0,-28],[-9,-57],[-12,-41],[-15,-53],[-17,-23],[-32,-54],[-36,-33],[-44,-52],[-44,-26],[-50,-49],[-53,-15],[-60,-38],[-62,-25],[-67,-32],[-71,-14],[-82,-32],[-84,-22],[-89,-27],[-90,-10],[-96,-15],[-96,-4]],path2:[[-35,-678],[-34,-103],[-30,-587],
[-24,-213],[-22,-672],[-19,-523],[-17,-717],[-15,-485],[-12,-533],[-12,-313],[-9,-671],[-4,-471],[-2,-674],[2,-549],[3,-696],[6,-516],[10,-764],[13,-396],[17,-718],[22,-225],[26,-605],[31,-415],[35,-698],[35,-173],[40,-512],[39,-238],[45,-445],[45,0],[-44,0]],path3:[[-46,-497],[-43,-95],[-35,-436],[-29,-237],[-24,-538],[-18,-329],[-16,-400],[-13,-329],[-11,-521],[-4,-291],[-2,-521],[5,-355],[9,-580],[17,-288],[22,-537],[24,-352],[28,-449],[28,-201],[33,-417],[37,-307],[43,-530],[47,-99],[50,-409],
[54,-300],[55,-362],[56,0],[-55,0]],path4:[[-8,-822],[8,0],[-8,0]],svg2Active:[1,3],svg3Active:[4,19],svg2Scale:[[1,1],[1.3,.7],[.7,1.5]],svg3Scale:[[1,.1],[1,1],[1.3,.7],[.5,1.5],[1,1],[1.2,.5],[1,.8],[.7,1.3],[.5,1.5],[.7,1.3],[1.2,.8],[1.6,.4],[1,1],[.5,1.5],[.2,1.5],[.1,1.5]]},cliffcatchspark:{name:"cliffcatchspark",colour:"#63beff",frames:12},swingDair:{name:"swingDair",frames:4,svg:"M201.276-206L2.276,0L201.276-206l64-179c0,0-244.236-85.148-396,132C-282.488-35.852-19.047-477.367,201.276-206 M148-16.14L0,1.86L148-16.14l189,79c0,0,137.557-211.42-60-433C79.443-591.72,318-211.14,148-16.14 M-30.499,10.062l31-10L-30.499,10.062l-14,209c0,0,283,4,391-170S276.501,19.062-30.499,10.062 M-147.487-72.373l148,72L-147.487-72.373l-142,152c0,0,146,137,230,134S162.513,251.627-147.487-72.373 M-203-196.911l203,197L-203-196.911l-201,31c0,0,13,128,87,217S-89,280.089-203-196.911 M-216-251L0,0l-217-252l-200,19c0,0,6,44.5,17,95S-191-168.5-216-251 M-214-311L0,0L-214-311l-189,22c0,0-14.5,47.5-15,55S-203-207.5-214-311".split(" ")},
swingFair:{name:"swingFair",frames:4,path:[[[-33,-424],[1,0],[-33,-424],[-220,-476],[-220,-476,-274,-357,-53,-243],[168,-129,-224,-291,-33,-424]],[[201,-371],[0,0],[201,-371],[267,-554],[267,-554,9,-673,-209,-500],[-427,-327,-55,-533,201,-371]],[[250,-233],[0,0],[250,-233],[447,-216],[447,-216,457,-419,272,-553],[87,-687,273,-319,250,-233]],[[209,-124],[0,0],[209,-124],[351,13],[351,13,463,-164,448,-246],[433,-328,347,-353,209,-124]],[[87,-56],[0,0],[87,-56],[130,104],[130,104,302,55,342,13],[382,
-29,472,-212,87,-56]],[[-6,-69],[0,1],[-6,-69],[-115,51],[-115,51,2,111,97,106],[192,101,174,-17,-6,-69]],[[-49,-105],[0,0],[-49,-105],[-180,-30],[-180,-30,-157,21,-117,51],[-77,82,33,6,-49,-105]],[[-83,-145],[0,0],[-83,-145],[-272,-171],[-272,-171,-267,-109,-184,-37],[-101,36,-72,-107,-83,-145]]]},swingBair:{name:"swingBair",frames:4,svg:"M132.623-222L0.623,0L132.623-222l-112-78c0,0-108-177-105-221S-113.377-505,132.623-222 M166-167L0,0L166-167l49,46c0,0-59.5-54-86-104S122-190.5,166-167 M63.333-148l-62,148L63.333-148l125,130c0,0,102.5-31-21-150S235.333-129.5,63.333-148 M-69.757-137.066l70,137L-69.757-137.066l119,137c0,0,93,6,133-17S309.438-119.075-69.757-137.066 M-253-142.695l253,143L-253-142.695l-72,170c0,0,126,27.5,213-3S80-79.695-253-142.695 M-298-296.852l298,297L-298-296.852l-196-9c0,0-8,155,144,318S-299-157.852-298-296.852 M-229-397L0,0L-229-397l-99-188c0,0-151,98-166,284S-234-408-229-397 M-105-413L0,0l-105-414l67-173c0,0-145-57-294,1S-315-420-105-413 M-91-409L0,0L-91-409l71-173c0,0-7-3-50-17S-120-430-91-409".split(" ")},
swingNair1:{name:"swingNair1",frames:4,svg:["M-39-260L0,0L-39-260l-112,45c0,0-167,75-197,77S-191-253-39-260","M247.523-214L0.523,0L247.523-214l189,30c0,0-469-88-469-80S250.523-214,247.523-214","M131-235L0,0L131-235l-26-40c0,0,293,33,338,88S31-286,131-235","M-3.748-281l4,281L-3.748-281l-103-157c0,0,74-2,203,165S2.252-298-3.748-281"]},swingNair2:{name:"swingNair2",frames:4,svg:["M38.995-187l-39,187l39-186l-120-68c0,0-141.5-130.5-67-133S-79.505-295,38.995-187","M213.352-150L0.352,0L213.352-150l172,110c0,0-38,27-389-163S177.352-103,213.352-150",
"M-16.922-268l17,268L-16.922-268l100,42l307,185C390.078-41-4.922-270-16.922-268","M-216.494-395l217,395L-216.494-395l-155-107c0,0,429,223,403,239S-187.494-377-216.494-395"]},swingUpair:{name:"swingUpair",frames:4,svg:"M169-366L0,0L169-366l161,80c0,0-42.899,166.873-119,230S231.949-175.593,169-366 M67-462L0,0L67-462l166-85c0,0,88,117,94,205S363-237,67-462 M-52.549-483l53,483L-52.549-483l45-182c0,0,142.181,35.103,192,77S316.155-483-52.549-483 M-176.169-422l176,422L-176.169-422l-104-164c0,0,100-63,166-70S135.831-631-176.169-422 M-235-335L0,0L-235-335l-144-140c0,0,25.788-49.426,75-90C-254.788-605.574-133.082-532.903-235-335 M-236-229L0,0L-236-229l-164-116c0,0-8-9,8-76S-243-491-236-229 M-212-149L0,0L-212-149l-172-70c0,0-9-3-15-79S-269-312-212-149 M-173-107L0,0L-173-107l-180-12c0,0-9-8-23-62S-309-246-173-107 M-129-86L0,0L-129-86l-168,61c0,0-21,0-41-57S-238-139-129-86 M-84-80.007l84,80L-84-80.007l-153,102c0,0-41-19-64-53S-202-80.007-84-80.007".split(" ")},
swingUpb:{name:"swingUpb",frames:4,svg:"M-85-100L0,0L-85-100l-188,73c0,0-86-140-46-272S-130-160-85-100 M67.578-115.246l-67,115L67.578-115.246l46,195c0,0-205,61-344-65S17.578-72.246,67.578-115.246 M134-142.348L0,0.652L134-142.348l167,113c0,0-75,95-171,105S-43-31.348,134-142.348 M213-300.235L0,0.765L213-300.235l193,19c0,0-91,534-115,572S33,663.765,213-300.235 M164.245-457.263l-164,457L164.245-457.263l141-130c0,0,100.81,421.001,92,643S226.245,356.737,164.245-457.263 M127-511L0,0L127-511l131-135c0,0,38.229,217.695,34,246S176.46-107.697,127-511 M95-523L0,0L95-523l121-138c0,0,21.5,41.5,30,64S123.5-396,95-523 M60-531L0,0L60-531l99-154c0,0,39.5,52.5,45,64S99.5-413,60-531 M22-525L0,0L22-525l45-195c0,0,60.5,37,76,68S81-437.5,22-525".split(" ")},
swingUptilt:{name:"swingUptilt",frames:4,svg:"M160.099-173l-142,122l-18,51l18-51c0,0-90.5,7-115-15S175.099-173.5,160.099-173 M305.175-296L0.175,0L305.175-296l103,145c0,0-185,199-400,102S181.175-58,305.175-296 M276-453L0,0L276-453l151-95c0,0,97,187-15,385S377-262,276-453 M175-512L0,0L175-512l62-175c0,0,116,52,170,118S486-374,175-512 M86.843-504l-86,504L86.843-504l-24-182c0,0,121-22,183-1S368.843-552,86.843-504 M12.059-460l-12,460L12.059-460l-54-161c0,0,90-70,113-68S212.059-589,12.059-460 M-32.058-364l32,364L-32.058-364l-109-142c0,0,52-75,64-88S76.942-643-32.058-364 M-37-272L0,0L-37-272l-165-111c0,0,5-53,39-103S-63-534-37-272 M6.036-196l-6,196L6.036-196l-123,49c0,0-80-96-91-192S-100.964-325,6.036-196 M21.047-168l-21,168L21.047-168l-108,88c0,0-10-3-32-70S-12.953-192,21.047-168".split(" ")},
swingDtilt:{name:"swingDtilt",frames:4,svg:["M189-88L0,0L189-88l157,37L68-105C68-105,181.5-96,189-88","M406-53L0,0L406-53L569-2c0,0-288.5-70.5-292-72S405-61,406-53","M408-60L0,0L408-60l186,50c0,0-14.5,7.5-27,3S409.5-44,408-60","M405-63L0,0L405-63l191,52c0,0-0.5,3.5-7,3S407-57,405-63"]},hitFlair:{name:"hitFlair",frames:8},hitSparks:{name:"hitSparks",frames:3,path1:[[-35,-59],[-96,-226],[-69,-200],[-95,-317],[-42,-191],[-82,-426],[-25,-207],[-10,-275],[11,-164],[74,-407],[63,-179],[96,-246],[90,-187],
[135,-310],[68,-89],[104,-153],[66,-54],[144,-120],[107,-74],[153,-87],[78,-9],[193,-48],[146,-20],[191,-13],[122,8],[210,31],[115,45],[156,55],[116,62],[137,86],[97,84],[123,129],[64,87]],path2:[[212,-99],[315,-168],[278,-130],[343,-150],[296,-118],[363,-139],[302,-93],[320,-82],[306,-75],[390,-77],[239,-48],[278,-73],[251,-75],[274,-85],[208,-65],[259,-95],[228,-93],[261,-113],[212,-99]]},hitCurve:{name:"hitCurve",frames:10,svg:"M-31.706,133.877c0,0,41.958-39.632,45.247-135.092c3.288-95.459-43.856-144.771-43.856-144.771S19.189-1.544-31.706,133.877"},
groundBounce:{name:"groundBounce",frames:8,colour:"rgba(102,255,56,",path:[[[0,0],[-94,0],[-207,-259],[-110,-81],[-120,-116],[-77,-51],[-155,-184],[-95,-109],[-99,-171],[-63,-76],[-72,-128],[-53,-81],[-89,-287],[-41,-108],[-35,-177],[-20,-125],[-22,-419],[-5,-170],[8,-227],[10,-130],[17,-208],[23,-123],[58,-303],[49,-161],[105,-433],[64,-144],[81,-223],[61,-100],[74,-123],[70,-96],[91,-165],[83,-117],[115,-182],[95,-112],[157,-185],[94,-83],[113,-100],[104,-52],[143,-120],[127,-80],[187,-183],[165,
-129],[189,-162],[96,-1]],[[0,0],[-168,-4],[-326,-135],[-165,-38],[-300,-162],[-176,-92],[-228,-175],[-88,-72],[-140,-200],[-92,-137],[-137,-377],[-59,-129],[-79,-316],[-23,-150],[-8,-211],[12,-149],[25,-187],[23,-88],[43,-184],[41,-137],[61,-253],[63,-146],[89,-207],[86,-118],[201,-380],[97,-74],[146,-97],[113,-59],[172,-94],[167,-79],[219,-133],[186,-59],[198,-59],[177,-27],[315,-125],[169,0]],[[0,0],[-227,-1],[-515,-148],[-220,-23],[-461,-171],[-283,-105],[-367,-167],[-253,-120],[-290,-161],[-140,
-86],[-284,-376],[-128,-109],[-144,-201],[-117,-163],[-127,-241],[-107,-179],[-115,-261],[-38,-97],[-32,-185],[-19,-106],[-1,-143],[6,-104],[45,-312],[49,-119],[100,-202],[70,-121],[105,-142],[98,-110],[211,-336],[122,-57],[154,-84],[140,-57],[377,-171],[175,-34],[317,-101],[286,-68],[538,-189],[232,0]],[[0,0],[-281,0],[-448,-84],[-253,-45],[-610,-172],[-265,-73],[-382,-146],[-226,-75],[-303,-133],[-181,-81],[-264,-160],[-204,-133],[-352,-362],[-179,-153],[-90,-99],[-92,-208],[-50,-118],[-27,-233],
[-5,-140],[14,-162],[34,-115],[119,-292],[94,-82],[215,-272],[151,-96],[226,-194],[173,-76],[439,-182],[243,-59],[448,-125],[210,-14],[558,-107],[275,2]],[[0,0],[-327,-2],[-622,-59],[-205,-20],[-540,-139],[-241,-53],[-575,-218],[-193,-75],[-353,-249],[-159,-62],[-196,-161],[-169,-123],[-291,-392],[-73,-63],[-77,-147],[-21,-54],[-34,-204],[0,-59],[5,-139],[17,-84],[59,-142],[52,-85],[135,-223],[144,-128],[192,-176],[197,-111],[313,-228],[202,-52],[396,-111],[342,-75],[552,-139],[315,-36],[361,-38],
[328,-13],[616,-62],[329,0]],[[0,0],[-325,0],[-655,-44],[-315,-10],[-399,-51],[-266,-36],[-618,-137],[-253,-46],[-337,-108],[-196,-59],[-286,-164],[-182,-69],[-305,-257],[-177,-125],[-235,-265],[-82,-75],[-67,-114],[-64,-72],[-34,-360],[9,-105],[49,-176],[53,-69],[84,-141],[88,-80],[204,-161],[192,-132],[295,-200],[200,-47],[546,-153],[235,-20],[435,-46],[370,-10],[704,-52],[359,2]],[[0,0],[-394,1],[-694,-51],[-202,-16],[-625,-132],[-224,-38],[-339,-111],[-194,-51],[-285,-151],[-187,-69],[-323,-263],
[-183,-124],[-246,-274],[-70,-55],[-90,-156],[-56,-97],[-34,-264],[19,-82],[59,-170],[51,-81],[96,-118],[91,-50],[213,-164],[208,-130],[309,-196],[185,-47],[539,-139],[257,-31],[355,-38],[314,-15],[661,-40],[378,2]],[[0,0],[-398,3],[-760,-25],[-323,-6],[-333,-15],[-80,-23],[-121,-41],[-16,-24],[-35,-41],[-1,-27],[25,-45],[21,-27],[162,-41],[148,-24],[306,-27],[246,-11],[546,-41],[421,-12],[838,-53],[403,4]]]},furaFura:{name:"furaFura",frames:30},breakShield:{name:"breakShield",frames:20},powerShield:{name:"powerShield",
frames:6},wallBounce:{name:"wallBounce"}};vfx.wallBounce.path=vfx.groundBounce.path;vfx.wallBounce.colour=vfx.groundBounce.colour;vfx.wallBounce.frames=vfx.groundBounce.frames;
dVfx={general:function(a,b){var d=vfxQueue[a][0].colour+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.8+")";c.save();c.translate(4.5*vfxQueue[a][2].x+600,-4.5*vfxQueue[a][2].y+480);c.rotate(b);drawArrayPath(d,vfxQueue[a][3],0,0,vfxQueue[a][0].path[vfxQueue[a][1]-1],.2,.2);c.restore()},swing:function(a){var b=vfxQueue[a][0].path[vfxQueue[a][4]],d=vfxQueue[a][3];c.fillStyle="rgba(97, 226, 255,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.9*.65+")";c.beginPath();for(var e=
0;e<b.length;e++){var f=.2*b[e][0]*d+4.5*vfxQueue[a][2].x+600,k=.2*b[e][1]+-4.5*vfxQueue[a][2].y+480;0==e?c.moveTo(f,k):2<b[e].length?c.bezierCurveTo(f,k,.2*b[e][2]*d+4.5*vfxQueue[a][2].x+600,.2*b[e][3]+-4.5*vfxQueue[a][2].y+480,.2*b[e][4]*d+4.5*vfxQueue[a][2].x+600,.2*b[e][5]+-4.5*vfxQueue[a][2].y+480):c.lineTo(f,k)}c.closePath();c.fill()},impactLand:function(a){dVfx.general(a,0)},circleDust:function(a){for(var b=0;b<vfxQueue[a][0].circles.length;b++){var d=4.5*(vfxQueue[a][2].x+vfxQueue[a][0].circles[b]*
(1+vfxQueue[a][1]/vfxQueue[a][0].frames))+600,e=-4.5*(vfxQueue[a][2].y+4*(0+vfxQueue[a][1]/vfxQueue[a][0].frames))+480;c.fillStyle="rgba(255,255,255,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.7+")";c.beginPath();c.arc(d,e,12,twoPi,0);c.fill()}},flyingDust:function(a){c.fillStyle="rgba(255,255,255,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.7+")";c.beginPath();c.arc(4.5*vfxQueue[a][2].x+600,-4.5*vfxQueue[a][2].y+480,12,twoPi,0);c.fill()},dashDust:function(a){dVfx.general(a,
0)},doubleJumpRings:function(a){c.strokeStyle="rgba(99,190,255,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.7+")";for(var b=0;b<vfxQueue[a][0].rings.length;b++)c.save(),c.scale(1,.25),c.beginPath(),c.arc(4.5*vfxQueue[a][2].x+600,4*(-4.5*vfxQueue[a][2].y+480),5*vfxQueue[a][1]+4.5*b,twoPi,0),c.lineWidth=3,c.stroke(),c.closePath(),c.restore()},blastzoneExplosion:function(a){c.save();c.translate(4.5*vfxQueue[a][2].x+600,-4.5*vfxQueue[a][2].y+480);c.rotate(vfxQueue[a][3]*Math.PI/180);
var b="rgba(149,255,163,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.8+")";drawArrayPath(b,1,0,-200-(20+vfxQueue[a][1]/20*100),vfxQueue[a][0].path1,1.3,1.3);vfxQueue[a][1]>=vfxQueue[a][0].svg2Active[0]&&vfxQueue[a][1]<=vfxQueue[a][0].svg2Active[1]&&drawArrayPath("rgb(166,223,255)",1,0,-90,vfxQueue[a][0].path2,1.5*vfxQueue[a][0].svg2Scale[vfxQueue[a][1]-1][0],1.5*vfxQueue[a][0].svg2Scale[vfxQueue[a][1]-1][1]);vfxQueue[a][1]>=vfxQueue[a][0].svg3Active[0]&&vfxQueue[a][1]<=vfxQueue[a][0].svg3Active[1]&&
drawArrayPath("rgb(255,161,161)",1,0,-90,vfxQueue[a][0].path2,1.5*vfxQueue[a][0].svg3Scale[vfxQueue[a][1]-vfxQueue[a][0].svg3Active[0]][0],1.5*vfxQueue[a][0].svg3Scale[vfxQueue[a][1]-vfxQueue[a][0].svg3Active[0]][1]);b="rgba(242,255,93,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.8+")";drawArrayPath(b,1,0,0,vfxQueue[a][0].path4,1.5,1.5);10>vfxQueue[a][1]&&(c.fillStyle="rgba(255,255,255,"+(10-vfxQueue[a][1])/10*.8+")",c.scale(.5,1),c.beginPath(),c.arc(0,0,vfxQueue[a][1]/10*450+170,
twoPi,0),c.fill(),c.closePath());c.restore()},cliffcatchspark:function(a){c.fillStyle="rgba(88,255,255,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.9+")";c.beginPath();c.arc(4.5*vfxQueue[a][2].x+600,-4.5*vfxQueue[a][2].y+480,vfxQueue[a][1]/vfxQueue[a][0].frames*15+6,twoPi,0);c.fill()},swingDair:function(a){},swingFair:function(a){dVfx.swing(a)},swingBair:function(a){},swingNair1:function(a){},swingNair2:function(a){},swingUpair:function(a){},swingUpb:function(a){},swingUptilt:function(a){},
swingDtilt:function(a){},hitFlair:function(a){var b=4.5*vfxQueue[a][2].x+600,d=-4.5*vfxQueue[a][2].y+480;c.strokeStyle="rgba(146,217,164,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.7+")";c.lineWidth=5;c.beginPath();c.arc(b,d,15,twoPi,0);c.closePath();c.stroke();c.lineWidth=1;c.fillStyle="rgba(146,217,164,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.8+")";c.beginPath();c.moveTo(b+3,d-3);c.lineTo(b+30,d);c.lineTo(b+3,d+3);c.lineTo(b,d+30);c.lineTo(b-3,d+3);c.lineTo(b-
30,d);c.lineTo(b-3,d-3);c.lineTo(b,d-30);c.closePath();c.fill()},hitSparks:function(a){drawArrayPath("rgba(143,128,233,0.7)",vfxQueue[a][3],4.5*vfxQueue[a][2].x+610,-4.5*vfxQueue[a][2].y+480,vfxQueue[a][0].path1,.2,.2);drawArrayPath("rgba(143,128,233,0.7)",vfxQueue[a][3],4.5*vfxQueue[a][2].x+610,-4.5*vfxQueue[a][2].y+480,vfxQueue[a][0].path2,.2,.2);c.save();c.translate(4.5*vfxQueue[a][2].x+600,-4.5*vfxQueue[a][2].y+480);c.rotate(Math.PI);drawArrayPath("rgba(143,128,233,0.7)",vfxQueue[a][3],0,0,vfxQueue[a][0].path1,
.2,.2);drawArrayPath("rgba(143,128,233,0.7)",vfxQueue[a][3],0,0,vfxQueue[a][0].path2,.2,.2);c.restore()},hitCurve:function(a){},groundBounce:function(a){dVfx.general(a,0)},wallBounce:function(a){vfxQueue[a][4]?dVfx.general(a,Math.PI/2):dVfx.general(a,1.5*Math.PI)},furaFura:function(a){c.fillStyle="rgba(255,254,108,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.9+")";c.beginPath();c.arc(4.5*vfxQueue[a][2].x+600,-4.5*vfxQueue[a][2].y+480,5,twoPi,0);c.fill()},breakShield:function(a){c.fillStyle=
"rgba(73,255,244,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.9+")";c.beginPath();c.arc(4.5*vfxQueue[a][2].x+600,-4.5*vfxQueue[a][2].y+430,10+3*vfxQueue[a][1],twoPi,0);c.fill();c.fillStyle="#cd8eff";for(var b=0;3>b;b++)c.beginPath(),c.arc(4.5*vfxQueue[a][2].x+550+100*Math.random(),-4.5*vfxQueue[a][2].y+380+100*Math.random(),8,twoPi,0),c.fill()},powerShield:function(a){c.strokeStyle="rgba(255,255,255,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.8+")";c.lineWidth=
10;c.beginPath();c.arc(4.5*vfxQueue[a][2].x+600,-4.5*vfxQueue[a][2].y+480,4.5*vfxQueue[a][4]+10+5*(vfxQueue[a][1]-1),twoPi,0);c.stroke();c.lineWidth=5;c.beginPath();c.arc(4.5*vfxQueue[a][2].x+600,-4.5*vfxQueue[a][2].y+480,4.5*vfxQueue[a][4]+5*(vfxQueue[a][1]-1),twoPi,0);c.stroke();c.lineWidth=1}};hitQueue=[];angleConversion=Math.PI/180;
function hitDetection(a){for(var b=0;b<playerAmount;b++)if(b!=a&&1!=player[b].phys.hurtBoxState){for(var d=!1,e=0;e<player[a].hitboxes.hitList.length;e++)if(b==player[a].hitboxes.hitList[e]){d=!0;break}if(!d)for(d=0;4>d;d++)if(player[a].hitboxes.active[d])if(player[b].phys.shielding&&hitShieldCollision(b,a,d)){hitQueue.push([b,a,d,!0,!1,!1]);player[a].hitboxes.hitList.push(b);break}else if(hitHurtCollision(b,a,d)){hitQueue.push([b,a,d,!1,!1,!1]);player[a].hitboxes.hitList.push(b);break}}}
function hitShieldCollision(a,b,d){var e=new Vec2D(player[b].phys.pos.x+player[b].hitboxes["id"+d].offset[player[b].hitboxes.frame].x*player[b].phys.face,player[b].phys.pos.y+player[b].hitboxes["id"+d].offset[player[b].hitboxes.frame].y),f=player[a].phys.shieldPositionReal;return Math.pow(f.x-e.x,2)+Math.pow(e.y-f.y,2)<=Math.pow(player[b].hitboxes["id"+d].size+player[a].phys.shieldSize,2)}
function hitHurtCollision(a,b,d){var e=new Vec2D(player[b].phys.pos.x+player[b].hitboxes["id"+d].offset[player[b].hitboxes.frame].x*player[b].phys.face,player[b].phys.pos.y+player[b].hitboxes["id"+d].offset[player[b].hitboxes.frame].y);a=new Vec2D((player[a].phys.hurtbox.min.x+player[a].phys.hurtbox.max.x)/2,(player[a].phys.hurtbox.min.y+player[a].phys.hurtbox.max.y)/2);e=new Vec2D(Math.abs(e.x-a.x),Math.abs(e.y-a.y));return e.x>4+player[b].hitboxes["id"+d].size||e.y>9+player[b].hitboxes["id"+d].size?
!1:4>=e.x||9>=e.y?!0:Math.pow(e.x-4,2)+Math.pow(e.y-9,2)<=Math.pow(player[b].hitboxes["id"+d].size,2)}
function executeHits(){for(var a=0;a<hitQueue.length;a++){var b=hitQueue[a][0],d=hitQueue[a][1],e=hitQueue[a][2],f=hitQueue[a][3],k=hitQueue[a][4],l=hitQueue[a][5];if(2==player[d].hitboxes["id"+e].type)-1==player[b].phys.grabbedBy&&-1==player[d].phys.grabbing&&0==player[b].phys.hurtBoxState&&(player[b].phys.cVel=new Vec2D(0,0),player[b].phys.kVel=new Vec2D(0,0),player[d].phys.cVel=new Vec2D(0,0),player[d].phys.kVel=new Vec2D(0,0),player[b].phys.grabbedBy=d,player[d].phys.grabbing=b,aS[74].init(b));
else{var h=player[d].hitboxes["id"+e].dmg;player[d].phys.charging&&(h*=1+.3671/60*player[d].phys.chargeFrames);player[d].hit.hitlag=Math.floor(1/3*h+3);if(f){if(!player[b].phys.powerShieldActive&&(player[b].phys.shieldHP-=h,0>player[b].phys.shieldHP)){player[b].phys.shielding=!1;player[b].phys.cVel.y=2.5;player[b].phys.grounded=!1;player[b].phys.shieldHP=0;drawVfx("breakShield",player[b].phys.pos,player[b].phys.face);aS[69].init(b);break}player[b].hit.hitlag=Math.floor(1/3*h+3);e=.6;player[b].phys.powerShieldActive&&
(e=1,player[b].phys.powerShielded=!0,player[b].hit.powershield=!0,drawVfx("powerShield",player[b].phys.shieldPositionReal,player[b].phys.face,player[b].phys.shieldSize));player[b].hit.shieldstun=Math.floor(h)*(.65*(1-(player[b].phys.shieldAnalog-.3)/.7)+.3)*1.5+2;e*=Math.floor(h)*(.195*(1-(player[b].phys.shieldAnalog-.3)/.7)+.09)+.4;2<e&&(e=2);h=.1*Math.floor(h)*(player[b].phys.shieldAnalog-.3)+.02;player[d].phys.pos.x<player[b].phys.pos.x?(player[b].phys.cVel.x+=e,player[d].phys.cVel.x-=h):(player[b].phys.cVel.x-=
e,player[d].phys.cVel.x+=h)}else 0==player[b].phys.hurtBoxState&&(player[b].hit.knockback=getKnockback(player[d].hitboxes["id"+e],h,h,player[b].percent,player[b].charAttributes.weight),player[b].hit.angle=player[d].hitboxes["id"+e].angle,361==player[b].hit.angle&&(32.1>player[b].hit.knockback?player[b].hit.angle=0:32.1<=player[b].hit.knockback&&(player[b].hit.angle=44)),player[b].hit.hitlag=Math.floor(1/3*h+3),k?(player[b].phys.pos=new Vec2D(player[d].phys.pos.x+player[d].hitboxes["id"+e].offset.x*
player[d].phys.face,player[d].phys.pos.y+player[d].hitboxes["id"+e].offset.y),player[b].phys.grabbedBy=-1,player[b].hit.hitlag=1,player[d].hit.hitlag=1,player[b].hit.reverse=1==player[d].phys.face?!1:!0,l&&drawVfx("groundBounce",player[b].phys.pos,player[b].phys.face)):(player[b].hit.hitPoint=new Vec2D(player[d].phys.pos.x+player[d].hitboxes["id"+e].offset[player[d].hitboxes.frame].x*player[d].phys.face,player[d].phys.pos.y+player[d].hitboxes["id"+e].offset[player[d].hitboxes.frame].y),player[d].phys.pos.x<
player[b].phys.pos.x?(player[b].hit.reverse=!1,player[b].phys.face=-1):(player[b].hit.reverse=!0,player[b].phys.face=1)),player[b].percent+=h,-1==player[b].phys.grabbedBy||44<player[b].hit.knockback?(player[b].hit.hitstun=getHitstun(player[b].hit.knockback),80<=player[b].hit.knockback||k?aS[39].init(b,!k):aS[41].init(b)):aS[80].init(b),player[b].phys.grounded&&180<player[b].hit.angle&&80<=player[b].hit.knockback&&(drawVfx("groundBounce",player[b].phys.pos,player[b].phys.face),player[b].hit.angle=
360-player[b].hit.angle,player[b].hit.knockback*=.8),screenShake(player[b].hit.knockback),percentShake(player[b].hit.knockback,b))}}}function getKnockback(a,b,d,e,f){a=0==a.sk?.01*a.kg*(1.4*(.05*d*(b+Math.floor(e))+.1*(b+Math.floor(e)))*(2-.02*f/(1+.01*f))+18)+a.bk:a.kg/100*(200/(f+100)*(10*a.sk/20+1)*1.4+18)+a.bk;2500<a&&(a=2500);return a}
function getLaunchAngle(a,b,d,e,f,k){var l=!1,h;80>b&&player[k].phys.grounded&&(0==a||180==a)&&(l=!0);.2875>e&&-.2875<e&&(e=0);.2875>f&&-.2875<f&&(f=0);0==e&&0>f?h=270:0==e&&0<f?h=90:0==e&&0==f?l=!0:(h=180/Math.PI*Math.atan(f/e)*1,0>e?h+=180:0>f&&(h+=360));361==a?32.1>b?a=d?180:0:32.1<=b?a=d?136:44:(prompt("Why would this ever get called?"),a=440*(b-32),d&&(a=180-a,0>a&&(a=360+a))):d&&(a=180-a,0>a&&(a=360+a));l?e=0:(b=a-h,180<b&&(b-=360),e=Math.sin(b*angleConversion)*Math.sqrt(e*e+f*f),e=e*e*18,18<
e&&(e=18),0>b&&-180<b&&(e*=-1));a-=e;.01>a&&(a=0);return a}function getHorizontalVelocity(a,b){var d=.03*a*Math.cos(b*angleConversion);return d=Math.round(1E5*d)/1E5}function getVerticalVelocity(a,b,d,e){b=.03*a*Math.sin(b*angleConversion);b=Math.round(1E5*b)/1E5;80>a&&d&&(0==e||180==e)&&(b=0);return b}function getHorizontalDecay(a){a=.051*Math.cos(a*angleConversion);return a=Math.round(1E5*a)/1E5}function getVerticalDecay(a){a=.051*Math.sin(a*angleConversion);return a=Math.round(1E5*a)/1E5}
function getHitstun(a){return Math.floor(.4*a)}function Vec2D(a,b){this.x=a;this.y=b}function Box2D(a,b){this.min=new Vec2D(a[0],a[1]);this.max=new Vec2D(b[0],b[1])}
offsets={fair:{id0:[new Vec2D(9.26,16.34),new Vec2D(11.15,9.93),new Vec2D(9.19,5.23),new Vec2D(3.87,2.43)],id1:[new Vec2D(5.46,13.21),new Vec2D(6.26,10.84),new Vec2D(5.82,8.63),new Vec2D(3.93,6.98)],id2:[new Vec2D(.88,13.2),new Vec2D(1.14,12.76),new Vec2D(1.2,12.41),new Vec2D(1.21,12.14)],id3:[new Vec2D(11.1,21.41),new Vec2D(16.53,9.67),new Vec2D(13.15,1.64),new Vec2D(5.34,-2.18)]},bair:{id0:[new Vec2D(-7.86,9.56),new Vec2D(-8.73,11.06),new Vec2D(-7.8,12.38),new Vec2D(-5.82,12.95),new Vec2D(-5.42,
12.91)],id1:[new Vec2D(-7.88,9.56),new Vec2D(-8.73,11.06),new Vec2D(-7.8,12.38),new Vec2D(-5.82,12.95),new Vec2D(-5.42,12.91)],id2:[new Vec2D(-2.84,13.05),new Vec2D(-2.76,13.05),new Vec2D(-2.71,13.05),new Vec2D(-2.69,13.06),new Vec2D(-2.68,13.06)],id3:[new Vec2D(-13.71,1.75),new Vec2D(-18.52,13.41),new Vec2D(-12.25,21.73),new Vec2D(-2.71,22.27),new Vec2D(-2.02,22.08)]},dair:{id0:[new Vec2D(10.13,-.93),new Vec2D(-1.89,-4.63),new Vec2D(-9.24,.37),new Vec2D(-12.98,8.16)],id1:[new Vec2D(6.38,.55),new Vec2D(-1.68,
-.6),new Vec2D(-6.75,3.33),new Vec2D(-9.01,8.9)],id2:[new Vec2D(2.96,4.21),new Vec2D(.04,4.02),new Vec2D(-2.94,6.59),new Vec2D(-4.13,8.61)],id3:[new Vec2D(2.66,10.54),new Vec2D(2.71,10.14),new Vec2D(2.46,9.84),new Vec2D(1.93,9.66)]},upair:{id0:[new Vec2D(12.14,14.6),new Vec2D(7.42,23.27),new Vec2D(-1.33,26.74),new Vec2D(-10.99,23.29)],id1:[new Vec2D(7.46,16.76),new Vec2D(2.7,20.8),new Vec2D(-2.77,21.56),new Vec2D(-8.3,18.63)],id2:[new Vec2D(2.63,15.58),new Vec2D(-.33,16.52),new Vec2D(-2.6,16.32),
new Vec2D(-4.92,14.73)],id3:[new Vec2D(.43,11.46),new Vec2D(.25,12.43),new Vec2D(.07,12.93),new Vec2D(-.42,13.26)]},nair1:{id0:[new Vec2D(14.63,8.71),new Vec2D(6.37,12.57)],id1:[new Vec2D(8.65,10.24),new Vec2D(6.42,11.23)],id2:[new Vec2D(.07,13.43),new Vec2D(.67,13.4)],id3:[new Vec2D(-.47,7.74),new Vec2D(-.47,7.74)]},nair2:{id0:[new Vec2D(12.35,4.38),new Vec2D(.52,9.91),new Vec2D(-12.86,19.45),new Vec2D(-7.52,17.11),new Vec2D(5.76,10.14),new Vec2D(12.26,5.79),new Vec2D(11.8,5.33)],id1:[new Vec2D(7.18,
7.89),new Vec2D(-1.38,11.67),new Vec2D(-7.63,16.29),new Vec2D(-3.81,14.73),new Vec2D(3.67,11.08),new Vec2D(6.86,8.92),new Vec2D(6.69,8.52)],id2:[new Vec2D(.7,13.51),new Vec2D(.26,13.43),new Vec2D(1.01,12.94),new Vec2D(.8,13.13),new Vec2D(-.01,13.41),new Vec2D(-.68,13.66),new Vec2D(-.46,13.68)],id3:[new Vec2D(-.47,7.74),new Vec2D(-.47,7.74),new Vec2D(-.47,7.74),new Vec2D(-.47,7.74),new Vec2D(-.48,7.74),new Vec2D(-.48,7.74),new Vec2D(-.48,7.74)]},upb1:{id0:[new Vec2D(9.74,4.31)],id1:[new Vec2D(6.39,
6.58)],id2:[new Vec2D(-.53,5.88)]},upb2:{id0:[new Vec2D(13.85,13.53),new Vec2D(10.6,24.21),new Vec2D(8.68,26.72),new Vec2D(6.97,27.35),new Vec2D(4.78,27.94)],id1:[new Vec2D(9.83,13.99),new Vec2D(7.55,21.56),new Vec2D(5.85,23.84),new Vec2D(4.32,24.33),new Vec2D(2.61,24.55)],id2:[new Vec2D(.01,8.8),new Vec2D(.07,10.68),new Vec2D(.07,11.68),new Vec2D(.07,11.68),new Vec2D(.09,11.67)]},dtilt:{id0:[new Vec2D(18.9,2.38),new Vec2D(18.96,2.87),new Vec2D(18.81,2.94)],id1:[new Vec2D(13.12,4.02),new Vec2D(13.17,
4.45),new Vec2D(13.07,4.69)],id2:[new Vec2D(8.81,7.67),new Vec2D(8.72,7.77),new Vec2D(8.64,7.85)],id3:[new Vec2D(23.6,.88),new Vec2D(23.72,1.55),new Vec2D(23.57,1.62)]},uptilt1:{id0:[new Vec2D(14.64,13.62),new Vec2D(12.78,21.24),new Vec2D(7.78,23.94)],id1:[new Vec2D(9.86,15.22),new Vec2D(8.52,17.26),new Vec2D(6.52,18.25)],id2:[new Vec2D(3.56,13.4),new Vec2D(4.28,13.19),new Vec2D(5.37,12.98)],id3:[new Vec2D(16.87,10.48),new Vec2D(16.18,23.26),new Vec2D(9.25,27.69)]},uptilt2:{id0:[new Vec2D(3.5,23.34),
new Vec2D(.18,20.96),new Vec2D(-2,16.58),new Vec2D(-2.09,12.08)],id1:[new Vec2D(4.81,17.71),new Vec2D(3.27,16.16),new Vec2D(2.75,13.91),new Vec2D(2.98,11.92)],id2:[new Vec2D(7.18,13.37),new Vec2D(8.38,12.76),new Vec2D(8.69,12.45),new Vec2D(8.67,12.4)],id3:[new Vec2D(3.11,27.3),new Vec2D(-.87,24.71),new Vec2D(-4.29,19.86),new Vec2D(-5.3,14.32)]},ftilt:{id0:[new Vec2D(8.54,4.11),new Vec2D(16.17,9.33),new Vec2D(18.1,13.45),new Vec2D(14.84,18.26)],id1:[new Vec2D(9.39,8.39),new Vec2D(11.99,12.21),new Vec2D(13.09,
11.9),new Vec2D(12.1,13.63)],id2:[new Vec2D(4.58,12.75),new Vec2D(5.7,11.87),new Vec2D(7.1,10.66),new Vec2D(8.58,9.6)],id3:[new Vec2D(4.12,1.46),new Vec2D(18.41,4.48),new Vec2D(23.49,13.65),new Vec2D(18.61,22.11)]},dashattack:{id0:[new Vec2D(11.03,3.26),new Vec2D(15.21,6.22),new Vec2D(15.05,7.87),new Vec2D(13.97,12.26)],id1:[new Vec2D(9.54,5.43),new Vec2D(10.63,7.23),new Vec2D(10.13,8.36),new Vec2D(9.47,10.73)],id2:[new Vec2D(5.49,9.14),new Vec2D(6.38,7.95),new Vec2D(7.27,7.04),new Vec2D(7.26,6.89)],
id3:[new Vec2D(6.48,1.06),new Vec2D(19.59,2.77),new Vec2D(21.26,6.96),new Vec2D(20.08,13.48)]},jab1:{id0:[new Vec2D(13.68,7.34),new Vec2D(16.64,10.96),new Vec2D(15.79,15.1),new Vec2D(12.7,18.69)],id1:[new Vec2D(10.22,9.87),new Vec2D(12.21,11.53),new Vec2D(11.63,13.74),new Vec2D(10.03,15.89)],id2:[new Vec2D(5.18,12.23),new Vec2D(5.58,12.1),new Vec2D(5.96,12.11),new Vec2D(6.75,12.65)],id3:[new Vec2D(16.45,1.88),new Vec2D(22.52,8.98),new Vec2D(21.85,16.4),new Vec2D(18.57,20.4)]},jab2:{id0:[new Vec2D(16.61,
8.05),new Vec2D(16.65,13.43),new Vec2D(13.12,17.59),new Vec2D(7.91,18.53),new Vec2D(3.47,16.83)],id1:[new Vec2D(12.87,10.31),new Vec2D(12.38,13.23),new Vec2D(10.27,15.37),new Vec2D(7.7,15.82),new Vec2D(5.58,15.06)],id2:[new Vec2D(7.04,13.09),new Vec2D(6.3,13.75),new Vec2D(5.2,13.28),new Vec2D(5.26,12.96),new Vec2D(5.59,13.11)],id3:[new Vec2D(19.38,3.39),new Vec2D(22.57,12.52),new Vec2D(17.07,19.43),new Vec2D(9.85,21.01),new Vec2D(4.67,18.33)]},sidespecial:{id0:[new Vec2D(11.97,19.81),new Vec2D(18.79,
12.44),new Vec2D(16.47,5)],id1:[new Vec2D(9.62,25.13),new Vec2D(23.82,15.4),new Vec2D(21.42,1.9)],id2:[new Vec2D(11.6,14.07),new Vec2D(13.01,11.51),new Vec2D(12.41,9.36)],id3:[new Vec2D(5.43,14.48),new Vec2D(7.02,14.17),new Vec2D(9.5,11.87)]},fsmash:{id0:[new Vec2D(14.73,20.43),new Vec2D(23.35,12.45),new Vec2D(18.63,.49),new Vec2D(18.83,.19)],id1:[new Vec2D(14.85,15.44),new Vec2D(18.3,10.69),new Vec2D(15.87,4.03),new Vec2D(15.37,3.52)],id2:[new Vec2D(9.32,8.08),new Vec2D(10.74,6.82),new Vec2D(12.01,
5.69),new Vec2D(12.01,5.08)],id3:[new Vec2D(10.98,24.89),new Vec2D(28.11,15.83),new Vec2D(24.45,.79),new Vec2D(24.65,.33)]},upsmash:{id0:[new Vec2D(6.29,7.64),new Vec2D(6.29,7.64),new Vec2D(6.29,7.64),new Vec2D(6.29,7.64)],id1:[new Vec2D(-6.29,7.64),new Vec2D(-6.29,7.64),new Vec2D(-6.29,7.64),new Vec2D(-6.29,7.64)],id2:[new Vec2D(.91,21.71),new Vec2D(.82,21.13),new Vec2D(.78,20.56),new Vec2D(.78,20.87)],id3:[new Vec2D(.19,26.06),new Vec2D(.03,25.46),new Vec2D(-.04,24.89),new Vec2D(-.03,25.2)]},dsmash1:{id0:[new Vec2D(13.69,
4.12),new Vec2D(19.33,5.53),new Vec2D(15.33,6.2)],id1:[new Vec2D(12.67,7.34),new Vec2D(14.83,8.08),new Vec2D(12.92,8.48)],id2:[new Vec2D(6.48,6.94),new Vec2D(7.05,6.49),new Vec2D(6.79,6.43)],id3:[new Vec2D(11.96,2.87),new Vec2D(24.08,3.3),new Vec2D(19.09,3.9)]},dsmash2:{id0:[new Vec2D(-9.69,3.24),new Vec2D(-12.61,2.91),new Vec2D(-10.56,3.43)],id1:[new Vec2D(-6.68,4.54),new Vec2D(-8.18,4.3),new Vec2D(-7.89,4.3)],id2:[new Vec2D(-.35,5.31),new Vec2D(-.65,5.17),new Vec2D(-.63,5.09)],id3:[new Vec2D(-10.28,
2.16),new Vec2D(-17.91,2.01),new Vec2D(-14.94,2.54)]},grab:{id0:[new Vec2D(14.82,9.43),new Vec2D(14.82,9.43)],id1:[new Vec2D(11.23,8.98),new Vec2D(11.23,8.98)],id2:[new Vec2D(8.09,8.53),new Vec2D(8.09,8.53)]},downattack1:{id0:[new Vec2D(-11.59,7.12),new Vec2D(-11.57,7.18),new Vec2D(-11.59,7.2),new Vec2D(-11.61,7.26)],id1:[new Vec2D(-7.46,8.54),new Vec2D(-7.43,8.59),new Vec2D(-7.43,8.56),new Vec2D(-7.43,8.57)],id2:[new Vec2D(-3.85,11.23),new Vec2D(-3.84,11.27),new Vec2D(-3.84,11.21),new Vec2D(-3.83,
11.17)],id3:[new Vec2D(-17.85,7.02),new Vec2D(-17.84,7.07),new Vec2D(-17.86,7.15),new Vec2D(-17.89,7.3)]},downattack2:{id0:[new Vec2D(17.65,9.84),new Vec2D(18.77,10.73)],id1:[new Vec2D(13.16,10.31),new Vec2D(14.52,10.42)],id2:[new Vec2D(6.59,11.2),new Vec2D(8.36,10.74)],id3:[new Vec2D(23.38,8.95),new Vec2D(25.05,10.63)]},pummel:{id0:[new Vec2D(8.87,10.75)]}};
function charAttributes(a,b,d,e,f,k,l,h,m,g){this.dFrameMin=a;this.dFrameMax=b;this.dInitV=d;this.dMaxV=e;this.dAccA=f;this.dAccB=k;this.dTInitV=l;this.traction=h;this.maxWalk=m;this.jumpSquat=g;this.sHopInitV=1.5;this.fHopInitV=2.4;this.gravity=.085;this.groundToAir=.8;this.jumpHmaxV=1.2;this.jumpHinitV=1;this.terminalV=2.2;this.airMobA=.03;this.airMobB=.02;this.aerialHmaxV=.9;this.airFriction=.005;this.fastFallV=2.5;this.walkInitV=.15;this.walkAcc=0;this.walkMaxV=1.6;this.djMultiplier=.88;this.shieldScale=
11.75;this.modelScale=1.15;this.weight=87}
function charObject(a){this.attributes=a;this.animations=0;this.hitboxes={fair:new hitboxObject(new hitbox(offsets.fair.id0,3.906,10,361,70,30,0,1),new hitbox(offsets.fair.id1,3.906,9,361,70,20,0,1),new hitbox(offsets.fair.id2,3.906,9,361,70,20,0,1),new hitbox(offsets.fair.id3,3.906,13,67,70,42,0,1)),bair:new hitboxObject(new hitbox(offsets.bair.id0,3.906,10,361,70,30,0,1),new hitbox(offsets.bair.id1,3.906,9,361,70,25,0,1),new hitbox(offsets.bair.id2,3.906,9,361,70,10,0,1),new hitbox(offsets.bair.id3,
3.906,13,361,70,30,0,1)),nair1:new hitboxObject(new hitbox(offsets.nair1.id0,3.906,4,100,40,30,0,1),new hitbox(offsets.nair1.id1,3.906,4,100,40,30,0,1),new hitbox(offsets.nair1.id2,3.906,4,100,40,30,0,1),new hitbox(offsets.nair1.id3,3.906,4,90,40,30,0,0)),nair2:new hitboxObject(new hitbox(offsets.nair2.id0,3.906,10,361,80,50,0,1),new hitbox(offsets.nair2.id1,3.906,10,361,80,50,0,1),new hitbox(offsets.nair2.id2,3.906,10,361,80,50,0,1),new hitbox(offsets.nair2.id3,3.906,10,361,80,50,0,0)),dair:new hitboxObject(new hitbox(offsets.dair.id0,
3.515,13,290,70,40,0,1),new hitbox(offsets.dair.id1,3.515,10,80,70,40,0,1),new hitbox(offsets.dair.id2,3.515,9,361,70,30,0,1),new hitbox(offsets.dair.id3,3.515,9,361,70,20,0,1)),upair:new hitboxObject(new hitbox(offsets.upair.id0,3.906,13,90,70,40,0,0),new hitbox(offsets.upair.id1,3.906,10,80,70,30,0,1),new hitbox(offsets.upair.id2,3.906,9,80,70,20,0,1),new hitbox(offsets.upair.id3,3.906,9,80,70,18,0,1)),upb1:new hitboxObject(new hitbox(offsets.upb1.id0,3.906,13,361,70,80,0,1),new hitbox(offsets.upb1.id1,
3.906,10,74,70,60,0,1),new hitbox(offsets.upb1.id2,3.906,10,74,70,60,0,1)),upb2:new hitboxObject(new hitbox(offsets.upb2.id0,3.906,7,361,90,20,0,1),new hitbox(offsets.upb2.id1,3.906,7,74,90,20,0,1),new hitbox(offsets.upb2.id2,3.125,6,74,90,20,0,0)),dtilt:new hitboxObject(new hitbox(offsets.dtilt.id0,3.906,9,30,40,30,0,1),new hitbox(offsets.dtilt.id1,2.734,8,30,40,25,0,1),new hitbox(offsets.dtilt.id2,3.047,8,30,40,20,0,1),new hitbox(offsets.dtilt.id3,3.906,10,30,40,50,0,1)),uptilt1:new hitboxObject(new hitbox(offsets.uptilt1.id0,
3.906,9,110,120,40,0,1),new hitbox(offsets.uptilt1.id1,3.125,9,361,118,40,0,1),new hitbox(offsets.uptilt1.id2,3.047,8,361,116,40,0,1),new hitbox(offsets.uptilt1.id3,3.906,12,110,100,50,0,1)),uptilt2:new hitboxObject(new hitbox(offsets.uptilt2.id0,3.906,10,85,120,40,0,1),new hitbox(offsets.uptilt2.id1,2.734,9,361,118,30,0,1),new hitbox(offsets.uptilt2.id2,2.265,9,361,116,30,0,1),new hitbox(offsets.uptilt2.id3,3.906,13,85,100,50,0,1)),ftilt:new hitboxObject(new hitbox(offsets.ftilt.id0,3.906,9,361,
70,30,0,1),new hitbox(offsets.ftilt.id1,2.734,9,361,70,30,0,1),new hitbox(offsets.ftilt.id2,3.047,9,361,70,30,0,1),new hitbox(offsets.ftilt.id3,3.906,13,361,70,60,0,1)),dashattack:new hitboxObject(new hitbox(offsets.dashattack.id0,3.906,11,110,55,70,0,1),new hitbox(offsets.dashattack.id1,3.125,9,361,60,35,0,0),new hitbox(offsets.dashattack.id2,2.344,9,361,60,35,0,0),new hitbox(offsets.dashattack.id3,3.906,12,110,55,70,0,1)),jab1:new hitboxObject(new hitbox(offsets.jab1.id0,3.906,4,361,50,20,0,1),
new hitbox(offsets.jab1.id1,3.125,4,361,50,20,0,1),new hitbox(offsets.jab1.id2,2.344,4,361,50,20,0,1),new hitbox(offsets.jab1.id3,3.906,6,361,60,30,0,1)),jab2:new hitboxObject(new hitbox(offsets.jab2.id0,3.906,4,361,50,20,0,1),new hitbox(offsets.jab2.id1,3.125,4,361,50,20,0,1),new hitbox(offsets.jab2.id2,2.344,4,361,50,20,0,1),new hitbox(offsets.jab2.id3,3.906,6,361,60,30,0,1)),sidespecial:new hitboxObject(new hitbox(offsets.sidespecial.id0,3.906,4,85,25,55,0,1),new hitbox(offsets.sidespecial.id1,
3.125,4,96,25,55,0,1),new hitbox(offsets.sidespecial.id2,3.125,4,80,25,55,0,1),new hitbox(offsets.sidespecial.id3,2.344,4,76,25,55,0,1)),fsmash:new hitboxObject(new hitbox(offsets.fsmash.id0,3.906,14,361,70,60,0,1),new hitbox(offsets.fsmash.id1,3.125,14,361,70,60,0,1),new hitbox(offsets.fsmash.id2,3.515,14,361,70,60,0,1),new hitbox(offsets.fsmash.id3,3.906,20,361,70,80,0,1)),upsmash:new hitboxObject(new hitbox(offsets.upsmash.id0,4.297,8,70,100,100,0,0),new hitbox(offsets.upsmash.id1,4.297,8,70,100,
100,0,0),new hitbox(offsets.upsmash.id2,4.687,15,90,80,30,0,1),new hitbox(offsets.upsmash.id3,4.297,18,90,80,60,0,1)),dsmash1:new hitboxObject(new hitbox(offsets.dsmash1.id0,4.297,11,75,72,70,0,1),new hitbox(offsets.dsmash1.id1,3.125,11,361,100,20,0,1),new hitbox(offsets.dsmash1.id2,3.515,11,361,100,16,0,1),new hitbox(offsets.dsmash1.id3,3.906,16,70,100,70,0,1)),dsmash2:new hitboxObject(new hitbox(offsets.dsmash2.id0,3.906,11,75,72,70,0,1),new hitbox(offsets.dsmash2.id1,3.125,11,361,100,30,0,1),new hitbox(offsets.dsmash2.id2,
3.515,11,361,100,15,0,1),new hitbox(offsets.dsmash2.id3,3.906,16,75,100,70,0,1)),grab:new hitboxObject(new hitbox(offsets.grab.id0,3.906,0,361,100,0,0,2),new hitbox(offsets.grab.id1,3.906,0,361,100,0,0,2),new hitbox(offsets.grab.id2,3.906,0,361,100,0,0,2)),downattack1:new hitboxObject(new hitbox(offsets.downattack1.id0,5.468,6,361,50,80,0,1),new hitbox(offsets.downattack1.id1,3.906,6,361,50,80,0,1),new hitbox(offsets.downattack1.id2,3.906,6,361,50,80,0,1),new hitbox(offsets.downattack1.id3,4.687,
6,361,50,80,0,1)),downattack2:new hitboxObject(new hitbox(offsets.downattack2.id0,5.468,6,361,50,80,0,1),new hitbox(offsets.downattack2.id1,3.906,6,361,50,80,0,1),new hitbox(offsets.downattack2.id2,3.906,6,361,50,80,0,1),new hitbox(offsets.downattack2.id3,4.687,6,361,50,80,0,1)),pummel:new hitboxObject(new hitbox(offsets.pummel.id0,4.687,3,80,100,0,30,0)),throwup:new hitboxObject(new hitbox(new Vec2D(5.02334,15.9095),0,4,93,130,60,0,0)),throwdown:new hitboxObject(new hitbox(new Vec2D(3.57509,0),0,
5,135,50,65,0,0)),throwback:new hitboxObject(new hitbox(new Vec2D(-1.29306,0),0,4,117,60,70,0,0)),throwforward:new hitboxObject(new hitbox(new Vec2D(7.69851,0),0,4,50,45,70,0,0))}}function hitboxObject(a,b,d,e){this.id0=a;this.id1=b;this.id2=d;this.id3=e}function hitbox(a,b,d,e,f,k,l,h){this.offset=a;this.size=b;this.dmg=d;this.angle=e;this.kg=f;this.bk=k;this.sk=l;this.type=h}function actionState(a,b,d){this.totalFrames=a;this.timer=0;this.name=b;this.hb=d}
chars={marth:new charObject(new charAttributes(15,27,1.56,1.8,.06,0,1.5,.06,1.6,4))};function ActiveHitbox(a,b,d,e,f,k,l,h){this.size=a;this.offset=b;this.dmg=d;this.angle=e;this.kg=f;this.bk=k;this.sk=l;this.type=h}
function hitboxes(){this.active=[!1,!1,!1,!1];this.frame=0;this.id0=new ActiveHitbox(0,new Vec2D(0,0),0,0,0,0,0,0);this.id1=new ActiveHitbox(0,new Vec2D(0,0),0,0,0,0,0,0);this.id2=new ActiveHitbox(0,new Vec2D(0,0),0,0,0,0,0,0);this.id3=new ActiveHitbox(0,new Vec2D(0,0),0,0,0,0,0,0);this.hitList=[]}
function physicsObject(a,b){this.cVel=new Vec2D(0,0);this.kVel=new Vec2D(0,0);this.kDec=new Vec2D(0,0);this.pos=new Vec2D(a[0],a[1]);this.posPrev=new Vec2D(0,0);this.posDelta=new Vec2D(0,0);this.grounded=!0;this.airborneTimer=0;this.fastfalled=!1;this.face=b;this.ECBp=[new Vec2D(0,0),new Vec2D(3,7),new Vec2D(0,14),new Vec2D(-3,7)];this.ECB1=[new Vec2D(0,0),new Vec2D(3,7),new Vec2D(0,14),new Vec2D(-3,7)];this.ECB2=[new Vec2D(0,0),new Vec2D(3,7),new Vec2D(0,14),new Vec2D(-3,7)];this.abovePlatforms=
[!1,!1,!1];this.onSurface=-1;this.doubleJumped=!1;this.shieldHP=60;this.shieldAnalog=this.shieldSize=0;this.shielding=!1;this.shieldPosition=new Vec2D(0,0);this.shieldPosition=new Vec2D(0,0);this.powerShieldActive=!1;this.onLedge=-1;this.ledgeSnapBoxF=new Box2D([0,5],[8,10]);this.ledgeSnapBoxB=new Box2D([0,5],[-8,10]);this.ledgeRegrabTimeout=0;this.ledgeRegrabCount=!1;this.hurtbox=new Box2D([-4,18],[4,0]);this.invincibleTimer=this.intangibleTimer=this.hurtBoxState=0;this.lCancel=!1;this.lCancelTimer=
0;this.autoCancel=!1;this.landingLagScaling=1;this.jabCombo=this.passFastfall=!1;this.sideBJumpFlag=!0;this.charging=!1;this.techTimer=this.stuckTimer=this.chargeFrames=0;this.grabbing=this.grabbedBy=-1;this.dashbuffer=!1;this.jumpType=0;this.wallJumpTimer=254;this.canWallJump=!1;this.upbAngleMultiplier=0}
function inputObject(){this.lStickAxis=[new Vec2D(0,0),new Vec2D(0,0),new Vec2D(0,0),new Vec2D(0,0),new Vec2D(0,0),new Vec2D(0,0),new Vec2D(0,0),new Vec2D(0,0)];this.cStickAxis=[new Vec2D(0,0),new Vec2D(0,0),new Vec2D(0,0),new Vec2D(0,0),new Vec2D(0,0),new Vec2D(0,0),new Vec2D(0,0),new Vec2D(0,0)];this.lAnalog=[0,0,0,0,0,0,0,0];this.rAnalog=[0,0,0,0,0,0,0,0];this.z=[!1,!1,!1,!1,!1,!1,!1,!1];this.a=[!1,!1,!1,!1,!1,!1,!1,!1];this.b=[!1,!1,!1,!1,!1,!1,!1,!1];this.x=[!1,!1,!1,!1,!1,!1,!1,!1];this.y=[!1,
!1,!1,!1,!1,!1,!1,!1];this.r=[!1,!1,!1,!1,!1,!1,!1,!1];this.l=[!1,!1,!1,!1,!1,!1,!1,!1];this.dpadleft=[!1,!1,!1,!1,!1,!1,!1];this.dpaddown=[!1,!1,!1,!1,!1,!1,!1];this.dpadright=[!1,!1,!1,!1,!1,!1,!1];this.dpadup=[!1,!1,!1,!1,!1,!1,!1]}
function playerObject(a,b,d){this.phys=new physicsObject(b,d);this.timer=this.actionState=0;this.inputs=new inputObject;this.charAttributes=chars[a].attributes;this.charHitboxes=chars[a].hitboxes;this.showHitbox=this.showECB=this.showLedgeGrabBox=!1;this.spawnWaitTime=0;this.hitboxes=new hitboxes;this.hit={knockback:0,hitlag:0,hitstun:0,angle:0,hitPoint:new Vec2D(0,0),powershield:!1,shieldstun:0};this.percent=0;this.stocks=4;this.miniView=!1;this.miniViewPoint=new Vec2D(0,0)}
function convertATname(a){switch(a){case 0:return"Wait";case 1:return"Dash";case 2:return"Run";case 3:return"SmashTurn";case 4:return"TiltTurn";case 5:return"RunBrake";case 6:return"RunTurnaround";case 7:return"JumpSquat";case 8:return"Jump";case 9:return"DoubleJump";case 10:return"Fall";case 11:return"Landing";case 12:return"Jab";case 13:return"Usmash";case 14:return"Dsmash";case 15:return"Fsmash"}}function getAngle(a,b){var d=0;if(0!=a||0!=b)d=Math.atan2(b,a);return d}
function turnOffHitboxes(a){player[a].hitboxes.active=[!1,!1,!1,!1];player[a].hitboxes.hitList=[]}
function shieldTilt(a){var b=player[a].inputs.lStickAxis[0].x,d=player[a].inputs.lStickAxis[0].y,e=3*Math.sqrt(b*b+d*d),b=getAngle(b,d);targetPosition=new Vec2D(Math.cos(b)*e,Math.sin(b)*e);player[a].phys.shieldPosition=new Vec2D(player[a].phys.shieldPosition.x+((targetPosition.x-player[a].phys.shieldPosition.x)/5+.01),player[a].phys.shieldPosition.y+((targetPosition.y-player[a].phys.shieldPosition.y)/5+.01));player[a].phys.shieldPositionReal=new Vec2D(player[a].phys.pos.x+player[a].phys.shieldPosition.x+
5*player[a].phys.face/4.5,player[a].phys.pos.y+player[a].phys.shieldPosition.y+40/4.5)}
function reduceByTraction(a,b){0<player[a].phys.cVel.x?(player[a].phys.cVel.x=b&&player[a].phys.cVel.x>player[a].charAttributes.maxWalk?player[a].phys.cVel.x-2*player[a].charAttributes.traction:player[a].phys.cVel.x-player[a].charAttributes.traction,0>player[a].phys.cVel.x&&(player[a].phys.cVel.x=0)):(player[a].phys.cVel.x=b&&player[a].phys.cVel.x<-player[a].charAttributes.maxWalk?player[a].phys.cVel.x+2*player[a].charAttributes.traction:player[a].phys.cVel.x+player[a].charAttributes.traction,0<player[a].phys.cVel.x&&
(player[a].phys.cVel.x=0))}
function airDrift(a){var b=.3>Math.abs(player[a].inputs.lStickAxis[0].x)?0:player[a].charAttributes.aerialHmaxV*player[a].inputs.lStickAxis[0].x;0>b&&player[a].phys.cVel.x<b||0<b&&player[a].phys.cVel.x>b?0<player[a].phys.cVel.x?(player[a].phys.cVel.x-=player[a].charAttributes.airFriction,0>player[a].phys.cVel.x&&(player[a].phys.cVel.x=0)):(player[a].phys.cVel.x+=player[a].charAttributes.airFriction,0<player[a].phys.cVel.x&&(player[a].phys.cVel.x=0)):.3<Math.abs(player[a].inputs.lStickAxis[0].x)&&(0>
b&&player[a].phys.cVel.x>b||0<b&&player[a].phys.cVel.x<b)&&(player[a].phys.cVel.x+=player[a].charAttributes.airMobA*player[a].inputs.lStickAxis[0].x+Math.sign(player[a].inputs.lStickAxis[0].x)*player[a].charAttributes.airMobB);.3>Math.abs(player[a].inputs.lStickAxis[0].x)&&(0<player[a].phys.cVel.x?(player[a].phys.cVel.x-=player[a].charAttributes.airFriction,0>player[a].phys.cVel.x&&(player[a].phys.cVel.x=0)):(player[a].phys.cVel.x+=player[a].charAttributes.airFriction,0<player[a].phys.cVel.x&&(player[a].phys.cVel.x=
0)))}function fastfall(a){player[a].phys.fastfalled||(player[a].phys.cVel.y-=player[a].charAttributes.gravity,player[a].phys.cVel.y<-player[a].charAttributes.terminalV&&(player[a].phys.cVel.y=-player[a].charAttributes.terminalV),-.65>player[a].inputs.lStickAxis[0].y&&-.1<player[a].inputs.lStickAxis[3].y&&0>player[a].phys.cVel.y&&(player[a].phys.fastfalled=!0,player[a].phys.cVel.y=-player[a].charAttributes.fastFallV))}
function shieldDepletion(a){var b=Math.max(player[a].inputs.lAnalog[0],player[a].inputs.rAnalog[0]);player[a].phys.shieldHP-=.28*b-(1-b)/10;0>=player[a].phys.shieldHP&&(player[a].phys.shielding=!1,player[a].phys.cVel.y=2.5,player[a].phys.grounded=!1,player[a].phys.shieldHP=0,drawVfx("breakShield",player[a].phys.pos,player[a].phys.face),aS[69].init(a))}
function shieldSize(a,b){player[a].phys.shieldAnalog=Math.max(player[a].inputs.lAnalog[0],player[a].inputs.rAnalog[0]);b&&0==player[a].phys.shieldAnalog&&(player[a].phys.shieldAnalog=1);player[a].phys.shieldSize=player[a].phys.shieldHP/60*player[a].charAttributes.shieldScale*player[a].charAttributes.modelScale*.575+.6*(1-player[a].phys.shieldAnalog)*player[a].charAttributes.shieldScale+(60-player[a].phys.shieldHP)/60*2}
function mashOut(a){return player[a].inputs.a[0]&&!player[a].inputs.a[1]?!0:player[a].inputs.b[0]&&!player[a].inputs.b[1]?!0:player[a].inputs.x[0]&&!player[a].inputs.x[1]?!0:player[a].inputs.y[0]&&!player[a].inputs.y[1]?!0:.8<player[a].inputs.lStickAxis[0].x&&.7>!player[a].inputs.lStickAxis[1].x?!0:-.8>player[a].inputs.lStickAxis[0].x&&-.7>!player[a].inputs.lStickAxis[1].x?!0:.8<player[a].inputs.lStickAxis[0].y&&.7>!player[a].inputs.lStickAxis[1].y?!0:-.8>player[a].inputs.lStickAxis[0].y&&-.7< !player[a].inputs.lStickAxis[1].y?
!0:.8<player[a].inputs.cStickAxis[0].x&&.7>!player[a].inputs.cStickAxis[1].x?!0:-.8>player[a].inputs.cStickAxis[0].x&&-.7>!player[a].inputs.cStickAxis[1].x?!0:.8<player[a].inputs.cStickAxis[0].y&&.7>!player[a].inputs.cStickAxis[1].y?!0:-.8>player[a].inputs.cStickAxis[0].y&&-.7< !player[a].inputs.cStickAxis[1].y?!0:!1}
function checkForSmashes(a){return player[a].inputs.a[0]&&!player[a].inputs.a[1]?.7<=Math.abs(player[a].inputs.lStickAxis[0].x)&&.3>player[a].inputs.lStickAxis[2].x*Math.sign(player[a].inputs.lStickAxis[0].x)&&-.05<Math.abs(player[a].inputs.lStickAxis[0].x)-Math.abs(player[a].inputs.lStickAxis[0].y)?(player[a].phys.face=Math.sign(player[a].inputs.lStickAxis[0].x),[!0,57]):.7<=player[a].inputs.lStickAxis[0].y&&.3>player[a].inputs.lStickAxis[2].y?[!0,58]:-.7>=player[a].inputs.lStickAxis[0].y&&-.3<player[a].inputs.lStickAxis[2].y?
[!0,59]:[!1,!1]:.7<=Math.abs(player[a].inputs.cStickAxis[0].x)?(player[a].phys.face=Math.sign(player[a].inputs.cStickAxis[0].x),[!0,57]):.7<=player[a].inputs.cStickAxis[0].y?[!0,58]:-.7>=player[a].inputs.cStickAxis[0].y?[!0,59]:[!1,!1]}
function checkForTilts(a,b){return player[a].inputs.a[0]&&!player[a].inputs.a[1]?.3<player[a].inputs.lStickAxis[0].x*player[a].phys.face*(b||1)&&-.05<Math.abs(player[a].inputs.lStickAxis[0].x)-Math.abs(player[a].inputs.lStickAxis[0].y)?[!0,49]:-.3>player[a].inputs.lStickAxis[0].y?[!0,47]:.3<player[a].inputs.lStickAxis[0].y?[!0,48]:[!0,50]:[!1,!1]}
function checkForSpecials(a){if(player[a].inputs.b[0]&&!player[a].inputs.b[1]){if(.5<player[a].inputs.lStickAxis[0].y)return[!0,38];if(.6<Math.abs(player[a].inputs.lStickAxis[0].x))return player[a].phys.face=Math.sign(player[a].inputs.lStickAxis[0].x),[!0,56]}return[!1,!1]}
function checkForAerials(a){return.7<player[a].inputs.cStickAxis[0].x*player[a].phys.face?[!0,33]:-.7>player[a].inputs.cStickAxis[0].x*player[a].phys.face?[!0,34]:.7<player[a].inputs.cStickAxis[0].y?[!0,35]:-.7>player[a].inputs.cStickAxis[0].y?[!0,36]:player[a].inputs.a[0]&&!player[a].inputs.a[1]||player[a].inputs.z[0]&&!player[a].inputs.z[1]?.7<player[a].inputs.lStickAxis[0].x*player[a].phys.face?[!0,33]:-.7>player[a].inputs.lStickAxis[0].x*player[a].phys.face?[!0,34]:.7<player[a].inputs.lStickAxis[0].y?
[!0,35]:-.7>player[a].inputs.lStickAxis[0].y?[!0,36]:[!0,37]:[!1,0]}function checkForDash(a){return.79<player[a].inputs.lStickAxis[0].x*player[a].phys.face&&.3>player[a].inputs.lStickAxis[2].x*player[a].phys.face?!0:!1}function checkForSmashTurn(a){return-.79>player[a].inputs.lStickAxis[0].x*player[a].phys.face&&-.3<player[a].inputs.lStickAxis[2].x*player[a].phys.face?!0:!1}function tiltTurnDashBuffer(a){return-.3<player[a].inputs.lStickAxis[1].x*player[a].phys.face?!0:!1}
function checkForTiltTurn(a){return-.3>player[a].inputs.lStickAxis[0].x*player[a].phys.face?!0:!1}function checkForJump(a){return player[a].inputs.x[0]&&!player[a].inputs.x[1]||player[a].inputs.y[0]&&!player[a].inputs.y[1]?!0:.6<player[a].inputs.lStickAxis[0].y&&.3>player[a].inputs.lStickAxis[3].y?!0:!1}function checkForSquat(a){return-.69>player[a].inputs.lStickAxis[0].y?!0:!1}
aS=[{name:"WAIT",canEdgeCancel:!0,init:function(a){player[a].actionState=0;player[a].timer=1;aS[0].main(a)},main:function(a){player[a].timer+=.5;aS[0].interrupt(a)||(reduceByTraction(a,!1),45<=player[a].timer&&aS[0].init(a))},interrupt:function(a){var b=checkForSpecials(a),d=checkForTilts(a),e=checkForSmashes(a);return checkForJump(a)?(aS[8].init(a),!0):player[a].inputs.l[0]||player[a].inputs.r[0]||0<player[a].inputs.lAnalog[0]||0<player[a].inputs.rAnalog[0]?(aS[21].init(a),!0):b[0]?(aS[b[1]].init(a),
!0):e[0]?(aS[e[1]].init(a),!0):d[0]?(aS[d[1]].init(a),!0):checkForSquat(a)?(aS[16].init(a),!0):checkForDash(a)?(aS[1].init(a),!0):checkForSmashTurn(a)?(aS[3].init(a),!0):checkForTiltTurn(a)?(player[a].phys.dashbuffer=tiltTurnDashBuffer(a),aS[4].init(a),!0):.3<Math.abs(player[a].inputs.lStickAxis[0].x)?(aS[7].init(a,!0),!0):!1}},{name:"DASH",canEdgeCancel:!0,init:function(a){player[a].actionState=1;player[a].timer=0;aS[1].main(a)},main:function(a){player[a].timer++;if(!aS[1].interrupt(a)&&(2==player[a].timer&&
(player[a].phys.cVel.x+=player[a].charAttributes.dInitV*player[a].phys.face,Math.abs(player[a].phys.cVel.x)>player[a].charAttributes.dMaxV&&(player[a].phys.cVel.x=player[a].charAttributes.dMaxV*player[a].phys.face)),4==player[a].timer&&drawVfx("dashDust",player[a].phys.pos,player[a].phys.face),1<player[a].timer))if(.3>Math.abs(player[a].inputs.lStickAxis[0].x))reduceByTraction(a,!1);else{var b=player[a].inputs.lStickAxis[0].x*player[a].charAttributes.dMaxV,d=player[a].inputs.lStickAxis[0].x*player[a].charAttributes.dAccA;
player[a].phys.cVel.x+=d;if(0<b&&player[a].phys.cVel.x>b||0>b&&player[a].phys.cVel.x<b){if(reduceByTraction(a,!1),0<b&&player[a].phys.cVel.x<b||0>b&&player[a].phys.cVel.x>b)player[a].phys.cVel.x=b}else if(player[a].phys.cVel.x+=d,0<b&&player[a].phys.cVel.x>b||0>b&&player[a].phys.cVel.x<b)player[a].phys.cVel.x=b}},interrupt:function(a){return player[a].inputs.l[0]||player[a].inputs.r[0]||0<player[a].inputs.lAnalog[0]||0<player[a].inputs.rAnalog[0]?(player[a].phys.cVel.x*=.25,aS[21].init(a),!0):player[a].inputs.a[0]&&
!player[a].inputs.a[1]?(4>player[a].timer&&.8<=player[a].inputs.lStickAxis[0].x*player[a].phys.face?(player[a].phys.cVel.x*=.25,aS[57].init(a)):0<player[a].inputs.lAnalog[0]||0<player[a].inputs.rAnalog[0]?aS[73].init(a):aS[55].init(a),!0):checkForJump(a)?(aS[8].init(a),!0):player[a].inputs.b[0]&&!player[a].inputs.b[1]&&.6<Math.abs(player[a].inputs.lStickAxis[0].x)?(player[a].phys.face=Math.sign(player[a].inputs.lStickAxis[0].x),aS[56].init(a),!0):4<player[a].timer&&checkForSmashTurn(a)?(player[a].phys.cVel.x*=
.25,aS[3].init(a),!0):20<player[a].timer&&.79<player[a].inputs.lStickAxis[0].x*player[a].phys.face&&.3>player[a].inputs.lStickAxis[2].x*player[a].phys.face?(aS[1].init(a),!0):player[a].timer>player[a].charAttributes.dFrameMin&&.62<player[a].inputs.lStickAxis[0].x*player[a].phys.face?(aS[2].init(a),!0):player[a].timer>player[a].charAttributes.dFrameMax?(aS[0].init(a),!0):!1}},{name:"RUN",canEdgeCancel:!0,init:function(a){player[a].actionState=2;player[a].timer=1;aS[2].main(a)},main:function(a){16<
player[a].timer&&(player[a].timer=1);if(!aS[2].interrupt(a)){var b=player[a].inputs.lStickAxis[0].x*player[a].charAttributes.dMaxV;player[a].phys.cVel.x+=1/(2.5*player[a].charAttributes.dMaxV)*(player[a].charAttributes.dMaxV*player[a].inputs.lStickAxis[0].x-player[a].phys.cVel.x)*(player[a].charAttributes.dAccA+player[a].charAttributes.dAccB/Math.sign(player[a].inputs.lStickAxis[0].x));player[a].phys.cVel.x*player[a].phys.face>b*player[a].phys.face&&(player[a].phys.cVel.x=b);b=player[a].phys.cVel.x*
player[a].phys.face/player[a].charAttributes.dMaxV;0<b&&(player[a].timer+=b)}},interrupt:function(a){if(player[a].inputs.a[0]&&!player[a].inputs.a[1])return 0<player[a].inputs.lAnalog[0]||0<player[a].inputs.rAnalog[0]?aS[73].init(a):aS[55].init(a),!0;if(checkForJump(a))return aS[8].init(a),!0;if(player[a].inputs.b[0]&&!player[a].inputs.b[1]&&.6<Math.abs(player[a].inputs.lStickAxis[0].x))return player[a].phys.face=Math.sign(player[a].inputs.lStickAxis[0].x),aS[56].init(a),!0;if(player[a].inputs.l[0]||
player[a].inputs.r[0]||0<player[a].inputs.lAnalog[0]||0<player[a].inputs.rAnalog[0])return aS[21].init(a),!0;if(.3>Math.abs(player[a].inputs.lStickAxis[0].x))return aS[5].init(a),!0;if(-.3>player[a].inputs.lStickAxis[0].x*player[a].phys.face)return aS[6].init(a),!0}},{name:"SMASHTURN",canEdgeCancel:!0,reverseModel:!0,init:function(a){player[a].actionState=3;player[a].timer=0;player[a].phys.face*=-1;aS[3].main(a)},main:function(a){player[a].timer++;aS[3].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){var b=
checkForTilts(a),d=checkForSmashes(a);if(checkForJump(a))return aS[8].init(a),!0;if(player[a].inputs.b[0]&&!player[a].inputs.b[1]&&.6<Math.abs(player[a].inputs.lStickAxis[0].x))return player[a].phys.face=Math.sign(player[a].inputs.lStickAxis[0].x),aS[56].init(a),!0;if(player[a].inputs.l[0]||player[a].inputs.r[0]||0<player[a].inputs.lAnalog[0]||0<player[a].inputs.rAnalog[0])return aS[21].init(a),!0;if(d[0])return aS[d[1]].init(a),!0;if(b[0])aS[b[1]].init(a);else return 2==player[a].timer&&.79<player[a].inputs.lStickAxis[0].x*
player[a].phys.face?(aS[1].init(a),!0):11<player[a].timer?(aS[0].init(a),!0):!1}},{name:"TILTTURN",canEdgeCancel:!0,init:function(a){player[a].actionState=4;player[a].timer=0;aS[4].main(a)},main:function(a){player[a].timer++;6==player[a].timer&&(player[a].phys.face*=-1);aS[4].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){var b=checkForTilts(a,-1),d=checkForSmashes(a);if(checkForJump(a))return aS[8].init(a),!0;if(player[a].inputs.b[0]&&!player[a].inputs.b[1]&&.6<Math.abs(player[a].inputs.lStickAxis[0].x))return player[a].phys.face=
Math.sign(player[a].inputs.lStickAxis[0].x),aS[56].init(a),!0;if(player[a].inputs.l[0]||player[a].inputs.r[0]||0<player[a].inputs.lAnalog[0]||0<player[a].inputs.rAnalog[0])return aS[21].init(a),!0;if(d[0])return aS[d[1]].init(a),!0;if(b[0])player[a].phys.face*=-1,aS[b[1]].init(a);else return 11<player[a].timer?(aS[0].init(a),!0):6==player[a].timer&&.79<player[a].inputs.lStickAxis[0].x*player[a].phys.face&&player[a].phys.dashbuffer?(aS[1].init(a),!0):!1}},{name:"RUNBRAKE",canEdgeCancel:!0,init:function(a){player[a].actionState=
5;player[a].timer=0;aS[5].main(a)},main:function(a){player[a].timer++;aS[5].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){return checkForJump(a)?(aS[8].init(a),!0):1<player[a].timer&&checkForSquat(a)?(aS[16].init(a),!0):-.3>player[a].inputs.lStickAxis[0].x*player[a].phys.face?(aS[6].init(a),!0):25<player[a].timer?(aS[0].init(a),!0):!1}},{name:"RUNTURN",canEdgeCancel:!1,init:function(a){player[a].actionState=6;player[a].timer=0;aS[6].main(a)},main:function(a){player[a].timer++;if(!aS[6].interrupt(a)){19==
player[a].timer&&(player[a].phys.face*=-1);if(19>player[a].timer&&-.3>player[a].inputs.lStickAxis[0].x*player[a].phys.face){var b=(player[a].charAttributes.dAccA-(1-Math.abs(player[a].inputs.lStickAxis[0].x))*player[a].charAttributes.dAccA)*player[a].phys.face;player[a].phys.cVel.x-=b}else 18<player[a].timer&&.3<player[a].inputs.lStickAxis[0].x*player[a].phys.face?(b=(player[a].charAttributes.dAccA-(1-Math.abs(player[a].inputs.lStickAxis[0].x))*player[a].charAttributes.dAccA)*player[a].phys.face,
player[a].phys.cVel.x+=b):reduceByTraction(a,!0);18==player[a].timer&&0<player[a].phys.cVel.x*player[a].phys.face&&player[a].timer--}},interrupt:function(a){return checkForJump(a)?(aS[8].init(a),!0):30<player[a].timer?(.6<player[a].inputs.lStickAxis[0].x*player[a].phys.face?aS[2].init(a):aS[0].init(a),!0):!1}},{name:"WALK",canEdgeCancel:!0,init:function(a,b){player[a].actionState=7;player[a].timer=1;if(b){var d=player[a].charAttributes.walkInitV*player[a].phys.face;if(0<d&&player[a].phys.cVel.x<d||
0>d&&player[a].phys.cVel.x>d)player[a].phys.cVel.x+=player[a].charAttributes.walkInitV*player[a].phys.face}aS[7].main(a)},main:function(a){if(!aS[7].interrupt(a)){var b=player[a].charAttributes.walkMaxV*player[a].inputs.lStickAxis[0].x;Math.abs(player[a].phys.cVel.x)>Math.abs(b)?reduceByTraction(a,!0):(player[a].phys.cVel.x+=1/(2*player[a].charAttributes.walkMaxV)*(b-player[a].phys.cVel.x)*(player[a].charAttributes.walkInitV+player[a].charAttributes.walkAcc),player[a].phys.cVel.x*player[a].phys.face>
b*player[a].phys.face&&(player[a].phys.cVel.x=b));b=player[a].phys.cVel.x*player[a].phys.face/player[a].charAttributes.walkMaxV;0<b&&(player[a].timer+=b)}},interrupt:function(a){var b=checkForSpecials(a),d=checkForTilts(a),e=checkForSmashes(a);return 18<player[a].timer?(aS[7].init(a,!1),!0):0==player[a].inputs.lStickAxis[0].x?(aS[0].init(a),!0):checkForJump(a)?(aS[8].init(a),!0):player[a].inputs.l[0]||player[a].inputs.r[0]||0<player[a].inputs.lAnalog[0]||0<player[a].inputs.rAnalog[0]?(aS[21].init(a),
!0):b[0]?(aS[b[1]].init(a),!0):e[0]?(aS[e[1]].init(a),!0):d[0]?(aS[d[1]].init(a),!0):checkForSquat(a)?(aS[16].init(a),!0):checkForDash(a)?(aS[1].init(a),!0):checkForSmashTurn(a)?(aS[3].init(a),!0):checkForTiltTurn(a)?(player[a].phys.dashbuffer=tiltTurnDashBuffer(a),aS[4].init(a),!0):!1}},{name:"KNEEBEND",canEdgeCancel:!0,init:function(a){player[a].actionState=8;player[a].timer=0;player[a].phys.jumpType=1;aS[8].main(a)},main:function(a){player[a].timer++;aS[8].interrupt(a)||(reduceByTraction(a,!0),
player[a].inputs.x[0]||player[a].inputs.y[0]||(player[a].phys.jumpType=0))},interrupt:function(a){var b=checkForSpecials(a);return player[a].timer>player[a].charAttributes.jumpSquat?(-.3<=player[a].inputs.lStickAxis[2].x*player[a].phys.face?aS[9].init(a,player[a].phys.jumpType):aS[15].init(a,player[a].phys.jumpType),!0):player[a].inputs.a[0]&&!player[a].inputs.a[1]&&(0<player[a].inputs.lAnalog[0]||0<player[a].inputs.rAnalog[0])?(aS[73].init(a),!0):player[a].inputs.a[0]&&!player[a].inputs.a[1]&&.8<=
player[a].inputs.lStickAxis[0].y&&.3>player[a].inputs.lStickAxis[3].y||.8<=player[a].inputs.cStickAxis[0].y&&.3>player[a].inputs.cStickAxis[3].y?(aS[58].init(a),!0):b[0]?(aS[b[1]].init(a),!0):!1}},{name:"JUMPF",canPassThrough:!0,canGrabLedge:[!0,!1],wallJumpAble:!0,init:function(a,b){player[a].actionState=9;player[a].timer=0;player[a].phys.cVel.y=b?player[a].phys.cVel.y+player[a].charAttributes.fHopInitV:player[a].phys.cVel.y+player[a].charAttributes.sHopInitV;player[a].phys.cVel.x=player[a].phys.cVel.x*
player[a].charAttributes.groundToAir+player[a].inputs.lStickAxis[0].x*player[a].charAttributes.jumpHmaxV;Math.abs(player[a].phys.cVel.x)>player[a].charAttributes.jumpHmaxV&&(player[a].phys.cVel.x=player[a].charAttributes.jumpHmaxV*Math.sign(player[a].phys.cVel.x));player[a].phys.grounded=!1;aS[9].main(a)},main:function(a){player[a].timer++;!aS[9].interrupt(a)&&1<player[a].timer&&(fastfall(a),airDrift(a))},interrupt:function(a){var b=checkForAerials(a),d=checkForSpecials(a);return b[0]?(aS[b[1]].init(a),
!0):player[a].inputs.l[0]&&!player[a].inputs.l[1]||player[a].inputs.r[0]&&!player[a].inputs.r[1]?(aS[11].init(a),!0):player[a].inputs.x[0]&&!player[a].inputs.x[1]||player[a].inputs.y[0]&&!player[a].inputs.y[1]&&!player[a].phys.doubleJumped?(aS[19].init(a),!0):d[0]?(aS[d[1]].init(a),!0):45<player[a].timer?(aS[13].init(a),!0):!1}},{name:"LANDING",canEdgeCancel:!0,init:function(a){player[a].actionState=10;player[a].timer=0;drawVfx("impactLand",player[a].phys.pos,player[a].phys.face);drawVfx("circleDust",
player[a].phys.pos,player[a].phys.face);aS[10].main(a)},main:function(a){player[a].timer++;aS[10].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){if(4<player[a].timer&&30>=player[a].timer){var b=checkForSpecials(a),d=checkForTilts(a),e=checkForSmashes(a);return checkForJump(a)?(aS[8].init(a),!0):player[a].inputs.l[0]||player[a].inputs.r[0]||0<player[a].inputs.lAnalog[0]||0<player[a].inputs.rAnalog[0]?(aS[21].init(a),!0):b[0]?(aS[b[1]].init(a),!0):e[0]?(aS[e[1]].init(a),!0):d[0]?(aS[d[1]].init(a),
!0):checkForDash(a)?(aS[1].init(a),!0):checkForSmashTurn(a)?(aS[3].init(a),!0):checkForTiltTurn(a)?(player[a].phys.dashbuffer=tiltTurnDashBuffer(a),aS[4].init(a),!0):.3<Math.abs(player[a].inputs.lStickAxis[0].x)?(aS[7].init(a,!0),!0):5==player[a].timer&&-.5>player[a].inputs.lStickAxis[0].y?(aS[17].init(a),!0):!1}return 30<player[a].timer?(aS[0].init(a),!0):!1}},{name:"ESCAPEAIR",canPassThrough:!1,canGrabLedge:[!1,!1],wallJumpAble:!1,init:function(a){player[a].actionState=11;player[a].timer=0;if(0<
Math.abs(player[a].inputs.lStickAxis[0].x)||0<Math.abs(player[a].inputs.lStickAxis[0].y)){var b=getAngle(player[a].inputs.lStickAxis[0].x,player[a].inputs.lStickAxis[0].y);player[a].phys.cVel.x=3.1*Math.cos(b);player[a].phys.cVel.y=3.1*Math.sin(b)}else player[a].phys.cVel.x=0,player[a].phys.cVel.y=0;player[a].phys.fastfalled=!1;aS[11].main(a)},main:function(a){player[a].timer++;aS[11].interrupt(a)||(30>player[a].timer?(player[a].phys.cVel.x*=.9,player[a].phys.cVel.y*=.9):(airDrift(a),fastfall(a)),
4==player[a].timer&&(player[a].phys.intangibleTimer=25))},interrupt:function(a){return 49<player[a].timer?(aS[14].init(a),!0):!1}},{name:"LANDINGFALLSPECIAL",canEdgeCancel:!0,init:function(a){player[a].actionState=12;player[a].timer=0;drawVfx("circleDust",player[a].phys.pos,player[a].phys.face);aS[12].main(a)},main:function(a){player[a].timer+=3;aS[12].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){return 30<player[a].timer?(aS[0].init(a),!0):!1}},{name:"FALL",canPassThrough:!0,canGrabLedge:[!0,
!1],wallJumpAble:!0,init:function(a){player[a].actionState=13;player[a].timer=0;aS[13].main(a)},main:function(a){player[a].timer++;aS[13].interrupt(a)||(fastfall(a),airDrift(a))},interrupt:function(a){var b=checkForAerials(a),d=checkForSpecials(a);return b[0]?(aS[b[1]].init(a),!0):player[a].inputs.l[0]&&!player[a].inputs.l[1]||player[a].inputs.r[0]&&!player[a].inputs.r[1]?(aS[11].init(a),!0):(player[a].inputs.x[0]&&!player[a].inputs.x[1]||player[a].inputs.y[0]&&!player[a].inputs.y[1])&&!player[a].phys.doubleJumped?
(aS[19].init(a),!0):d[0]?(aS[d[1]].init(a),!0):10<player[a].timer?(aS[13].init(a),!0):!1}},{name:"FALLSPECIAL",canPassThrough:!0,canGrabLedge:[!0,!1],wallJumpAble:!1,init:function(a){player[a].actionState=14;player[a].timer=0;aS[14].main(a)},main:function(a){player[a].timer++;aS[14].interrupt(a)||(fastfall(a),airDrift(a))},interrupt:function(a){return 10<player[a].timer?(aS[14].init(a),!0):!1}},{name:"JUMPB",canPassThrough:!0,canGrabLedge:[!0,!1],wallJumpAble:!0,init:function(a,b){player[a].actionState=
15;player[a].timer=0;player[a].phys.cVel.y=b?player[a].phys.cVel.y+player[a].charAttributes.fHopInitV:player[a].phys.cVel.y+player[a].charAttributes.sHopInitV;player[a].phys.cVel.x=player[a].phys.cVel.x*player[a].charAttributes.groundToAir+player[a].inputs.lStickAxis[0].x*player[a].charAttributes.jumpHmaxV;Math.abs(player[a].phys.cVel.x)>player[a].charAttributes.jumpHmaxV&&(player[a].phys.cVel.x=player[a].charAttributes.jumpHmaxV*Math.sign(player[a].phys.cVel.x));player[a].phys.grounded=!1;aS[15].main(a)},
main:function(a){player[a].timer++;!aS[15].interrupt(a)&&1<player[a].timer&&(fastfall(a),airDrift(a))},interrupt:function(a){var b=checkForAerials(a),d=checkForSpecials(a);return b[0]?(aS[b[1]].init(a),!0):player[a].inputs.l[0]&&!player[a].inputs.l[1]||player[a].inputs.r[0]&&!player[a].inputs.r[1]?(aS[11].init(a),!0):player[a].inputs.x[0]&&!player[a].inputs.x[1]||player[a].inputs.y[0]&&!player[a].inputs.y[1]&&!player[a].phys.doubleJumped?(aS[19].init(a),!0):d[0]?(aS[d[1]].init(a),!0):55<player[a].timer?
(aS[13].init(a),!0):!1}},{name:"SQUAT",canEdgeCancel:!0,init:function(a){player[a].actionState=16;player[a].timer=0;aS[16].main(a)},main:function(a){player[a].timer++;aS[16].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){var b=checkForSpecials(a),d=checkForTilts(a),e=checkForSmashes(a);return 4==player[a].timer&&(-.65>player[a].inputs.lStickAxis[0].y||-.65>player[a].inputs.lStickAxis[1].y||-.65>player[a].inputs.lStickAxis[2].y)&&-.3<player[a].inputs.lStickAxis[6].y&&-1<player[a].phys.onSurface?
(aS[20].init(a),!0):player[a].inputs.l[0]||player[a].inputs.r[0]||0<player[a].inputs.lAnalog[0]||0<player[a].inputs.rAnalog[0]?(aS[21].init(a),!0):b[0]?(aS[b[1]].init(a),!0):e[0]?(aS[e[1]].init(a),!0):d[0]?(aS[d[1]].init(a),!0):7<player[a].timer?(aS[17].init(a),!0):checkForJump(a)?(aS[8].init(a),!0):!1}},{name:"SQUATWAIT",canEdgeCancel:!0,init:function(a){player[a].actionState=17;player[a].timer=0;aS[17].main(a)},main:function(a){player[a].timer++;aS[17].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){var b=
checkForSpecials(a),d=checkForTilts(a),e=checkForSmashes(a);return-.61<player[a].inputs.lStickAxis[0].y?(aS[18].init(a),!0):checkForJump(a)?(aS[8].init(a),!0):player[a].inputs.l[0]||player[a].inputs.r[0]||0<player[a].inputs.lAnalog[0]||0<player[a].inputs.rAnalog[0]?(aS[21].init(a),!0):b[0]?(aS[b[1]].init(a),!0):e[0]?(aS[e[1]].init(a),!0):d[0]?(aS[d[1]].init(a),!0):checkForDash(a)?(aS[1].init(a),!0):checkForSmashTurn(a)?(aS[3].init(a),!0):!1}},{name:"SQUATRV",canEdgeCancel:!0,init:function(a){player[a].actionState=
18;player[a].timer=0;aS[18].main(a)},main:function(a){player[a].timer++;aS[18].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){var b=checkForSpecials(a),d=checkForTilts(a),e=checkForSmashes(a);return 8<player[a].timer?(aS[0].init(a),!0):checkForJump(a)?(aS[8].init(a),!0):player[a].inputs.l[0]||player[a].inputs.r[0]||0<player[a].inputs.lAnalog[0]||0<player[a].inputs.rAnalog[0]?(aS[21].init(a),!0):b[0]?(aS[b[1]].init(a),!0):e[0]?(aS[e[1]].init(a),!0):d[0]?(aS[d[1]].init(a),!0):checkForSmashTurn(a)?
(aS[3].init(a),!0):.3<Math.abs(player[a].inputs.lStickAxis[0].x)?(aS[7].init(a,!0),!0):!1}},{name:"JUMPAERIALF",canPassThrough:!0,canGrabLedge:[!0,!1],wallJumpAble:!0,init:function(a){player[a].actionState=19;player[a].timer=0;player[a].phys.fastfalled=!1;player[a].phys.doubleJumped=!0;player[a].phys.cVel.y=player[a].charAttributes.fHopInitV*player[a].charAttributes.djMultiplier;player[a].phys.cVel.x=1*player[a].inputs.lStickAxis[0].x;drawVfx("doubleJumpRings",player[a].phys.pos,player[a].phys.face);
aS[19].main(a)},main:function(a){player[a].timer++;aS[19].interrupt(a)||(fastfall(a),airDrift(a))},interrupt:function(a){var b=checkForAerials(a),d=checkForSpecials(a);return b[0]?(aS[b[1]].init(a),!0):player[a].inputs.l[0]&&!player[a].inputs.l[1]||player[a].inputs.r[0]&&!player[a].inputs.r[1]?(aS[11].init(a),!0):d[0]?(aS[d[1]].init(a),!0):50<player[a].timer?(aS[32].init(a),!0):!1}},{name:"PASS",canPassThrough:!0,canGrabLedge:[!0,!1],wallJumpAble:!0,init:function(a){player[a].actionState=20;player[a].timer=
0;player[a].phys.grounded=!1;player[a].phys.passFastfall=!1;player[a].phys.abovePlatforms[player[a].phys.onSurface]=!1;player[a].phys.cVel.y=-.5;aS[20].main(a)},main:function(a){player[a].timer++;1<player[a].timer&&!aS[20].interrupt(a)&&(player[a].phys.passFastfall?fastfall(a):(player[a].phys.cVel.y-=player[a].charAttributes.gravity,player[a].phys.cVel.y<-player[a].charAttributes.terminalV&&(player[a].phys.cVel.y=-player[a].charAttributes.terminalV),-.3<player[a].inputs.lStickAxis[0].y&&(player[a].phys.passFastfall=
!0)),airDrift(a))},interrupt:function(a){var b=checkForAerials(a),d=checkForSpecials(a);return b[0]?(aS[b[1]].init(a),!0):player[a].inputs.l[0]&&!player[a].inputs.l[1]||player[a].inputs.r[0]&&!player[a].inputs.r[1]?(aS[11].init(a),!0):player[a].inputs.x[0]&&!player[a].inputs.x[1]||player[a].inputs.y[0]&&!player[a].inputs.y[1]&&!player[a].phys.doubleJumped?(aS[19].init(a),!0):d[0]?(aS[d[1]].init(a),!0):30<player[a].timer?(aS[13].init(a),!0):!1}},{name:"GUARDON",canEdgeCancel:!0,init:function(a){player[a].actionState=
21;player[a].timer=0;player[a].phys.shielding=!0;player[a].phys.shieldPosition=new Vec2D(0,0);player[a].phys.powerShielded=!1;shieldSize(a,!0);player[a].phys.powerShieldActive=1==Math.max(player[a].inputs.lAnalog[0],player[a].inputs.rAnalog[0])?!0:!1;aS[21].main(a)},main:function(a){0<player[a].phys.shieldstun?reduceByTraction(a,!1):(player[a].timer++,2==player[a].timer&&1==Math.max(player[a].inputs.lAnalog[0],player[a].inputs.rAnalog[0])&&(player[a].phys.powerShieldActive=!0),aS[21].interrupt(a)||
(reduceByTraction(a,!1),player[a].phys.shieldstun&&shieldDepletion(a),shieldSize(a,!0),shieldTilt(a)))},interrupt:function(a){return checkForJump(a)||.6<player[a].inputs.cStickAxis[0].y&&.3>player[a].inputs.cStickAxis[3].y?(player[a].phys.shielding=!1,aS[8].init(a),!0):player[a].inputs.a[0]&&!player[a].inputs.a[1]?(player[a].phys.shielding=!1,aS[73].init(a),!0):-.7>player[a].inputs.lStickAxis[0].y&&-.3<player[a].inputs.lStickAxis[4].y||-.7>player[a].inputs.cStickAxis[0].y?(player[a].phys.shielding=
!1,aS[54].init(a),!0):.7<player[a].inputs.lStickAxis[0].x*player[a].phys.face&&.3>player[a].inputs.lStickAxis[4].x*player[a].phys.face||.7<player[a].inputs.cStickAxis[0].x*player[a].phys.face?(player[a].phys.shielding=!1,aS[53].init(a),!0):-.7>player[a].inputs.lStickAxis[0].x*player[a].phys.face&&-.3<player[a].inputs.lStickAxis[4].x*player[a].phys.face||-.7>player[a].inputs.cStickAxis[0].x*player[a].phys.face?(player[a].phys.shielding=!1,aS[52].init(a),!0):1<player[a].timer&&-.65>player[a].inputs.lStickAxis[0].y&&
-.3<player[a].inputs.lStickAxis[6].y&&-1<player[a].phys.onSurface?(player[a].phys.shielding=!1,aS[20].init(a),!0):8<player[a].timer?(aS[22].init(a),!0):!1}},{name:"GUARD",canEdgeCancel:!0,init:function(a){player[a].actionState=22;player[a].timer=0;player[a].phys.powerShieldActive=!1;aS[22].main(a)},main:function(a){0<player[a].phys.shieldstun?reduceByTraction(a,!1):(player[a].timer++,aS[22].interrupt(a)||(reduceByTraction(a,!1),shieldDepletion(a),shieldSize(a),shieldTilt(a)))},interrupt:function(a){return checkForJump(a)||
.6<player[a].inputs.cStickAxis[0].y&&.3>player[a].inputs.cStickAxis[3].y?(player[a].phys.shielding=!1,aS[8].init(a),!0):player[a].inputs.a[0]&&!player[a].inputs.a[1]?(player[a].phys.shielding=!1,aS[73].init(a),!0):-.7>player[a].inputs.lStickAxis[0].y&&-.3<player[a].inputs.lStickAxis[4].y||-.7>player[a].inputs.cStickAxis[0].y?(player[a].phys.shielding=!1,aS[54].init(a),!0):.7<player[a].inputs.lStickAxis[0].x*player[a].phys.face&&.3>player[a].inputs.lStickAxis[4].x*player[a].phys.face||.7<player[a].inputs.cStickAxis[0].x*
player[a].phys.face?(player[a].phys.shielding=!1,aS[53].init(a),!0):-.7>player[a].inputs.lStickAxis[0].x*player[a].phys.face&&-.3<player[a].inputs.lStickAxis[4].x*player[a].phys.face||-.7>player[a].inputs.cStickAxis[0].x*player[a].phys.face?(player[a].phys.shielding=!1,aS[52].init(a),!0):-.65>player[a].inputs.lStickAxis[0].y&&-.3<player[a].inputs.lStickAxis[6].y&&-1<player[a].phys.onSurface?(player[a].phys.shielding=!1,aS[20].init(a),!0):.3>player[a].inputs.lAnalog[0]&&.3>player[a].inputs.rAnalog[0]?
(player[a].phys.shielding=!1,aS[23].init(a),!0):1<player[a].timer?(aS[22].init(a),!0):!1}},{name:"GUARDOFF",canEdgeCancel:!0,init:function(a){player[a].actionState=23;player[a].timer=0;aS[23].main(a)},main:function(a){player[a].timer++;aS[23].interrupt(a)||(reduceByTraction(a,!1),shieldDepletion(a),shieldSize(a))},interrupt:function(a){if(checkForJump(a))return aS[8].init(a),!0;if(16<player[a].timer)return aS[0].init(a),!0;if(player[a].phys.powerShielded){var b=checkForTilts(a),d=checkForSmashes(a);
if(d[0])return aS[d[1]].init(a),!0;if(b[0])return aS[b[1]].init(a),!0;if(checkForSquat(a))return aS[16].init(a),!0;if(checkForDash(a))return aS[1].init(a),!0;if(checkForSmashTurn(a))return aS[3].init(a),!0;if(checkForTiltTurn(a))return player[a].phys.dashbuffer=tiltTurnDashBuffer(a),aS[4].init(a),!0;if(.3<Math.abs(player[a].inputs.lStickAxis[0].x))return aS[7].init(a,!0),!0}return!1}},{name:"CLIFFCATCH",init:function(a){player[a].actionState=24;player[a].timer=0;player[a].phys.cVel.x=0;player[a].phys.cVel.y=
0;player[a].phys.kVel.x=0;player[a].phys.kVel.y=0;player[a].phys.fastfalled=!1;player[a].phys.doubleJumped=!1;player[a].phys.intangibleTimer=38;drawVfx("cliffcatchspark",new Vec2D(edges[player[a].phys.onLedge][0][0],edges[player[a].phys.onLedge][0][1]),player[a].phys.face);aS[24].main(a)},main:function(a){player[a].timer++;aS[24].interrupt(a)||(player[a].phys.pos=new Vec2D(cliffcatchOffset[player[a].timer-1][0]*player[a].phys.face,cliffcatchOffset[player[a].timer-1][1]))},interrupt:function(a){return 7<
player[a].timer?(aS[25].init(a),!0):!1}},{name:"CLIFFWAIT",init:function(a){player[a].actionState=25;player[a].timer=0;aS[25].main(a)},main:function(a){player[a].timer++;aS[25].interrupt(a)},interrupt:function(a){return-.5>player[a].inputs.lStickAxis[0].x*player[a].phys.face||-.5>player[a].inputs.lStickAxis[0].y?(player[a].phys.onLedge=-1,player[a].phys.ledgeRegrabCount=!0,aS[13].init(a),!0):60<player[a].timer?(aS[25].init(a),!0):!1}},{name:"DEADLEFT",init:function(a){player[a].actionState=26;player[a].timer=
0;player[a].phys.cVel.x=0;player[a].phys.cVel.y=0;player[a].phys.kVel.x=0;player[a].phys.kVel.y=0;player[a].percent=0;drawVfx("blastzoneExplosion",player[a].phys.pos,90);screenShake(500);percentShake(500,a);aS[26].main(a)},main:function(a){player[a].timer++;aS[26].interrupt(a)||5!=player[a].timer||(screenShake(500),percentShake(500,a))},interrupt:function(a){return 60<player[a].timer?(aS[30].init(a),!0):!1}},{name:"DEADRIGHT",init:function(a){player[a].actionState=27;player[a].timer=0;player[a].phys.cVel.x=
0;player[a].phys.cVel.y=0;player[a].phys.kVel.x=0;player[a].phys.kVel.y=0;player[a].percent=0;drawVfx("blastzoneExplosion",player[a].phys.pos,-90);screenShake(500);percentShake(500,a);aS[27].main(a)},main:function(a){player[a].timer++;aS[27].interrupt(a)||5!=player[a].timer||(screenShake(500),percentShake(500,a))},interrupt:function(a){return 60<player[a].timer?(aS[30].init(a),!0):!1}},{name:"DEADUP",init:function(a){player[a].actionState=28;player[a].timer=0;player[a].phys.cVel.x=0;player[a].phys.cVel.y=
0;player[a].phys.kVel.x=0;player[a].phys.kVel.y=0;player[a].percent=0;drawVfx("blastzoneExplosion",player[a].phys.pos,180);screenShake(500);percentShake(500,a);aS[28].main(a)},main:function(a){player[a].timer++;aS[28].interrupt(a)||5!=player[a].timer||(screenShake(500),percentShake(500,a))},interrupt:function(a){return 60<player[a].timer?(aS[30].init(a),!0):!1}},{name:"DEADDOWN",init:function(a){player[a].actionState=29;player[a].timer=0;player[a].phys.cVel.x=0;player[a].phys.cVel.y=0;player[a].phys.kVel.x=
0;player[a].phys.kVel.y=0;player[a].percent=0;drawVfx("blastzoneExplosion",player[a].phys.pos,0);screenShake(500);percentShake(500,a);aS[29].main(a)},main:function(a){player[a].timer++;aS[29].interrupt(a)||5!=player[a].timer||(screenShake(500),percentShake(500,a))},interrupt:function(a){return 60<player[a].timer?(aS[30].init(a),!0):!1}},{name:"REBIRTH",init:function(a){player[a].actionState=30;player[a].timer=1;player[a].phys.pos.x=respawnPoints[a][0];player[a].phys.pos.y=respawnPoints[a][1]+135;
player[a].phys.cVel.x=0;player[a].phys.cVel.y=-1.5;player[a].phys.face=respawnPoints[a][2];player[a].phys.doubleJumped=!1;player[a].phys.fastfalled=!1;player[a].spawnWaitTime=0;player[a].percent=0;player[a].phys.kVel.x=0;player[a].phys.kVel.y=0},main:function(a){player[a].timer+=.5;aS[30].interrupt(a)},interrupt:function(a){return 45<=player[a].timer?(aS[31].init(a),!0):!1}},{name:"REBIRTHWAIT",init:function(a){player[a].actionState=31;player[a].timer=1;player[a].phys.cVel.y=0},main:function(a){player[a].timer+=
.5;player[a].spawnWaitTime++;aS[31].interrupt(a)},interrupt:function(a){return 45<=player[a].timer?(aS[31].init(a),!0):300<player[a].spawnWaitTime||.3<Math.abs(player[a].inputs.lStickAxis[0].x)||.3<Math.abs(player[a].inputs.lStickAxis[0].y)?(player[a].phys.grounded=!1,player[a].phys.invincibleTimer=120,aS[13].init(a),!0):!1}},{name:"FALLAERIAL",canPassThrough:!0,canGrabLedge:[!0,!1],wallJumpAble:!0,init:function(a){player[a].actionState=32;player[a].timer=0;aS[32].main(a)},main:function(a){player[a].timer++;
aS[32].interrupt(a)||(fastfall(a),airDrift(a))},interrupt:function(a){var b=checkForAerials(a),d=checkForSpecials(a);return b[0]?(aS[b[1]].init(a),!0):player[a].inputs.l[0]&&!player[a].inputs.l[1]||player[a].inputs.r[0]&&!player[a].inputs.r[1]?(aS[11].init(a),!0):(player[a].inputs.x[0]&&!player[a].inputs.x[1]||player[a].inputs.y[0]&&!player[a].inputs.y[1])&&!player[a].phys.doubleJumped?(aS[19].init(a),!0):d[0]?(aS[d[1]].init(a),!0):10<player[a].timer?(aS[32].init(a),!0):!1}},{name:"ATTACKAIRF",canPassThrough:!1,
canGrabLedge:[!1,!1],wallJumpAble:!1,init:function(a){player[a].actionState=33;player[a].timer=0;player[a].phys.autoCancel=!1;player[a].inAerial=!0;player[a].hitboxes.id0=player[a].charHitboxes.fair.id0;player[a].hitboxes.id1=player[a].charHitboxes.fair.id1;player[a].hitboxes.id2=player[a].charHitboxes.fair.id2;player[a].hitboxes.id3=player[a].charHitboxes.fair.id3;turnOffHitboxes(a);aS[33].main(a)},main:function(a){player[a].timer++;aS[33].interrupt(a)||(fastfall(a),airDrift(a),2<player[a].timer&&
11>player[a].timer&&drawVfx("swingFair",new Vec2D(player[a].phys.pos.x+player[a].phys.cVel.x,player[a].phys.pos.y+player[a].phys.cVel.y),player[a].phys.face,player[a].timer-3),4==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0),4<player[a].timer&&8>player[a].timer&&player[a].hitboxes.frame++,8==player[a].timer&&turnOffHitboxes(a),27==player[a].timer&&(player[a].phys.autoCancel=!0))},interrupt:function(a){if(33<player[a].timer)return aS[13].init(a),!0;if(29<player[a].timer){var b=
checkForAerials(a);if((player[a].inputs.x[0]&&!player[a].inputs.x[1]||player[a].inputs.y[0]&&!player[a].inputs.y[1])&&!player[a].phys.doubleJumped)return aS[19].init(a),!0;if(b[0])return aS[b[1]].init(a),!0}return!1}},{name:"ATTACKAIRB",canPassThrough:!1,canGrabLedge:[!1,!1],wallJumpAble:!1,init:function(a){player[a].actionState=34;player[a].timer=0;player[a].phys.autoCancel=!1;player[a].inAerial=!0;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.bair.id0;player[a].hitboxes.id1=player[a].charHitboxes.bair.id1;
player[a].hitboxes.id2=player[a].charHitboxes.bair.id2;player[a].hitboxes.id3=player[a].charHitboxes.bair.id3;aS[34].main(a)},main:function(a){player[a].timer++;aS[34].interrupt(a)||(30==player[a].timer&&(player[a].phys.face*=-1),fastfall(a),airDrift(a),2<player[a].timer&&12>player[a].timer&&drawVfx("swingBair",new Vec2D(player[a].phys.pos.x+player[a].phys.cVel.x,player[a].phys.pos.y+player[a].phys.cVel.y),player[a].phys.face,player[a].timer-3),7==player[a].timer&&(player[a].hitboxes.active=[!0,!0,
!0,!0],player[a].hitboxes.frame=0),7<player[a].timer&&12>player[a].timer&&player[a].hitboxes.frame++,12==player[a].timer&&turnOffHitboxes(a),32==player[a].timer&&(player[a].phys.autoCancel=!0))},interrupt:function(a){if(39<player[a].timer)return aS[13].init(a),!0;if(34<player[a].timer){var b=checkForAerials(a);if((player[a].inputs.x[0]&&!player[a].inputs.x[1]||player[a].inputs.y[0]&&!player[a].inputs.y[1])&&!player[a].phys.doubleJumped)return aS[19].init(a),!0;if(b[0])return aS[b[1]].init(a),!0}return!1}},
{name:"ATTACKAIRU",canPassThrough:!1,canGrabLedge:[!1,!1],wallJumpAble:!1,init:function(a){player[a].actionState=35;player[a].timer=0;player[a].phys.autoCancel=!0;player[a].inAerial=!0;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.upair.id0;player[a].hitboxes.id1=player[a].charHitboxes.upair.id1;player[a].hitboxes.id2=player[a].charHitboxes.upair.id2;player[a].hitboxes.id3=player[a].charHitboxes.upair.id3;aS[35].main(a)},main:function(a){player[a].timer++;aS[35].interrupt(a)||(fastfall(a),
airDrift(a),4<player[a].timer&&15>player[a].timer&&drawVfx("swingUpair",new Vec2D(player[a].phys.pos.x+player[a].phys.cVel.x,player[a].phys.pos.y+player[a].phys.cVel.y),player[a].phys.face,player[a].timer-5),5==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0,player[a].phys.autoCancel=!1),5<player[a].timer&&9>player[a].timer&&player[a].hitboxes.frame++,9==player[a].timer&&turnOffHitboxes(a),27==player[a].timer&&(player[a].phys.autoCancel=!0))},interrupt:function(a){return 45<
player[a].timer?(aS[13].init(a),!0):!1}},{name:"ATTACKAIRD",canPassThrough:!1,canGrabLedge:[!1,!1],wallJumpAble:!1,init:function(a){player[a].actionState=36;player[a].timer=0;player[a].phys.autoCancel=!0;player[a].inAerial=!0;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.dair.id0;player[a].hitboxes.id1=player[a].charHitboxes.dair.id1;player[a].hitboxes.id2=player[a].charHitboxes.dair.id2;player[a].hitboxes.id3=player[a].charHitboxes.dair.id3;aS[36].main(a)},main:function(a){player[a].timer++;
aS[36].interrupt(a)||(fastfall(a),airDrift(a),4<player[a].timer&&12>player[a].timer&&drawVfx("swingDair",new Vec2D(player[a].phys.pos.x+player[a].phys.cVel.x,player[a].phys.pos.y+player[a].phys.cVel.y),player[a].phys.face,player[a].timer-5),6==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0,player[a].phys.autoCancel=!1),6<player[a].timer&&10>player[a].timer&&player[a].hitboxes.frame++,10==player[a].timer&&turnOffHitboxes(a),48==player[a].timer&&(player[a].phys.autoCancel=
!0))},interrupt:function(a){return 59<player[a].timer?(aS[13].init(a),!0):!1}},{name:"ATTACKAIRN",canPassThrough:!1,canGrabLedge:[!1,!1],wallJumpAble:!1,init:function(a){player[a].actionState=37;player[a].timer=0;player[a].phys.autoCancel=!0;player[a].inAerial=!0;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.nair1.id0;player[a].hitboxes.id1=player[a].charHitboxes.nair1.id1;player[a].hitboxes.id2=player[a].charHitboxes.nair1.id2;player[a].hitboxes.id3=player[a].charHitboxes.nair1.id3;
aS[37].main(a)},main:function(a){player[a].timer++;aS[37].interrupt(a)||(fastfall(a),airDrift(a),4<player[a].timer&&9>player[a].timer&&drawVfx("swingNair1",new Vec2D(player[a].phys.pos.x+player[a].phys.cVel.x,player[a].phys.pos.y+player[a].phys.cVel.y),player[a].phys.face,player[a].timer-5),13<player[a].timer&&18>player[a].timer&&drawVfx("swingNair2",new Vec2D(player[a].phys.pos.x+player[a].phys.cVel.x,player[a].phys.pos.y+player[a].phys.cVel.y),player[a].phys.face,player[a].timer-14),6==player[a].timer&&
(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0,player[a].phys.autoCancel=!1),7==player[a].timer&&player[a].hitboxes.frame++,8==player[a].timer&&turnOffHitboxes(a),15==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.id0=player[a].charHitboxes.nair2.id0,player[a].hitboxes.id1=player[a].charHitboxes.nair2.id1,player[a].hitboxes.id2=player[a].charHitboxes.nair2.id2,player[a].hitboxes.id3=player[a].charHitboxes.nair2.id3,player[a].hitboxes.frame=0),15<
player[a].timer&&22>player[a].timer&&player[a].hitboxes.frame++,22==player[a].timer&&turnOffHitboxes(a),25==player[a].timer&&(player[a].phys.autoCancel=!0))},interrupt:function(a){return 49<player[a].timer?(aS[13].init(a),!0):!1}},{name:"UPSPECIAL",canPassThrough:!0,canGrabLedge:[!0,!1],setVelocities:[[.75685,14.41555],[.7145,15.51062],[.67334,8.65633],[.63338,2.42162],[.59462,2.11897],[.55706,1.83569],[.52069,1.57181],[.48552,1.32731],[.45155,1.10218],[.41878,.89645],[.3872,.7101],[.35682,.54314],
[.32765,.39556],[.29966,.26735],[.27288,.15855],[.24729,.06912],[.2229,-9.3E-4]],wallJumpAble:!1,init:function(a){player[a].actionState=38;player[a].timer=0;player[a].phys.cVel=new Vec2D(0,0);player[a].phys.grounded=!1;player[a].phys.fastfalled=!1;player[a].phys.upbAngleMultiplier=0;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.upb1.id0;player[a].hitboxes.id1=player[a].charHitboxes.upb1.id1;player[a].hitboxes.id2=player[a].charHitboxes.upb1.id2;aS[38].main(a)},main:function(a){player[a].timer++;
aS[38].interrupt(a)||(0>=player[a].phys.cVel.y&&(player[a].phys.canWallJump=!0),6>player[a].timer&&.7<Math.abs(player[a].inputs.lStickAxis[0].x)&&(player[a].phys.upbAngleMultiplier=-player[a].inputs.lStickAxis[0].x*Math.PI/16),6==player[a].timer&&-.7>player[a].inputs.lStickAxis[0].x*player[a].phys.face&&(player[a].phys.face*=-1),5<player[a].timer&&23>player[a].timer?player[a].phys.cVel=new Vec2D(aS[38].setVelocities[player[a].timer-6][0]*player[a].phys.face*Math.cos(player[a].phys.upbAngleMultiplier)-
aS[38].setVelocities[player[a].timer-6][1]*Math.sin(player[a].phys.upbAngleMultiplier),aS[38].setVelocities[player[a].timer-6][0]*player[a].phys.face*Math.sin(player[a].phys.upbAngleMultiplier)+aS[38].setVelocities[player[a].timer-6][1]*Math.cos(player[a].phys.upbAngleMultiplier)):22<player[a].timer&&(fastfall(a),airDrift(a)),5==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!1],player[a].hitboxes.frame=0),6==player[a].timer&&(player[a].hitboxes.id0=player[a].charHitboxes.upb2.id0,player[a].hitboxes.id1=
player[a].charHitboxes.upb2.id1,player[a].hitboxes.id2=player[a].charHitboxes.upb2.id2),6<player[a].timer&&11>player[a].timer&&player[a].hitboxes.frame++,11==player[a].timer&&turnOffHitboxes(a),2<player[a].timer&&12>player[a].timer&&drawVfx("swingUpb",new Vec2D(player[a].phys.pos.x+player[a].phys.cVel.x,player[a].phys.pos.y+player[a].phys.cVel.y),player[a].phys.face,player[a].timer-3))},interrupt:function(a){return 39<player[a].timer?(aS[14].init(a),!0):!1}},{name:"DAMAGEFLYN",canPassThrough:!1,canGrabLedge:[!1,
!1],wallJumpAble:!1,init:function(a,b){player[a].actionState=39;player[a].timer=0;player[a].phys.grabbing=-1;player[a].phys.grabbedBy=-1;turnOffHitboxes(a);b&&(drawVfx("hitSparks",player[a].hit.hitPoint,player[a].phys.face),drawVfx("hitFlair",player[a].hit.hitPoint,player[a].phys.face),drawVfx("hitCurve",player[a].hit.hitPoint,player[a].phys.face,player[a].hit.angle));aS[39].main(a)},main:function(a){29>player[a].timer&&player[a].timer++;0==player[a].hit.hitstun%10&&drawVfx("flyingDust",player[a].phys.pos);
!aS[39].interrupt(a)&&1<player[a].timer&&(player[a].hit.hitstun--,player[a].phys.grounded||(player[a].phys.cVel.y-=player[a].charAttributes.gravity,player[a].phys.cVel.y<-player[a].charAttributes.terminalV&&(player[a].phys.cVel.y=-player[a].charAttributes.terminalV)))},interrupt:function(a){return 1<player[a].timer&&0==player[a].hit.hitstun?(aS[40].init(a),!0):!1}},{name:"DAMAGEFALL",canPassThrough:!1,canGrabLedge:[!0,!1],wallJumpAble:!1,init:function(a){player[a].actionState=40;player[a].timer=0;
aS[40].main(a)},main:function(a){player[a].timer++;aS[40].interrupt(a)||(fastfall(a),airDrift(a))},interrupt:function(a){return 30<player[a].timer?(aS[40].init(a),!0):player[a].inputs.x[0]&&!player[a].inputs.x[1]||player[a].inputs.y[0]&&!player[a].inputs.y[1]?(aS[19].init(a),!0):!1}},{name:"DAMAGEN2",canEdgeCancel:!0,canPassThrough:!1,canGrabLedge:[!1,!1],wallJumpAble:!1,init:function(a){player[a].actionState=41;player[a].timer=0;player[a].phys.grabbing=-1;player[a].phys.grabbedBy=-1;turnOffHitboxes(a);
drawVfx("hitSparks",player[a].hit.hitPoint,player[a].phys.face);drawVfx("hitFlair",player[a].hit.hitPoint,player[a].phys.face);drawVfx("hitCurve",player[a].hit.hitPoint,player[a].phys.face,player[a].hit.angle);aS[41].main(a)},main:function(a){player[a].timer++;!aS[41].interrupt(a)&&1<player[a].timer&&(player[a].hit.hitstun--,player[a].phys.grounded?reduceByTraction(a,!1):(player[a].phys.cVel.y-=player[a].charAttributes.gravity,player[a].phys.cVel.y<-player[a].charAttributes.terminalV&&(player[a].phys.cVel.y=
-player[a].charAttributes.terminalV)))},interrupt:function(a){return 23<player[a].timer?(player[a].phys.grounded?aS[0].init(a):aS[13].init(a),!0):!1}},{name:"LANDINGATTACKAIRN",canEdgeCancel:!0,init:function(a){player[a].actionState=42;player[a].timer=0;player[a].phys.landingLagScaling=player[a].phys.lCancel?2:1;drawVfx("circleDust",player[a].phys.pos,player[a].phys.face);aS[42].main(a)},main:function(a){player[a].timer+=2*player[a].phys.landingLagScaling;aS[42].interrupt(a)||reduceByTraction(a,!0)},
interrupt:function(a){return 30<player[a].timer?(aS[0].init(a),!0):!1}},{name:"LANDINGATTACKAIRF",canEdgeCancel:!0,init:function(a){player[a].actionState=43;player[a].timer=0;player[a].phys.landingLagScaling=player[a].phys.lCancel?2:1;drawVfx("circleDust",player[a].phys.pos,player[a].phys.face);aS[43].main(a)},main:function(a){player[a].timer+=2*player[a].phys.landingLagScaling;aS[43].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){return 30<player[a].timer?(aS[0].init(a),!0):!1}},{name:"LANDINGATTACKAIRB",
canEdgeCancel:!0,init:function(a){player[a].actionState=44;player[a].timer=0;player[a].phys.landingLagScaling=player[a].phys.lCancel?2:1;drawVfx("circleDust",player[a].phys.pos,player[a].phys.face);aS[44].main(a)},main:function(a){player[a].timer+=1.25*player[a].phys.landingLagScaling;aS[44].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){return 30<player[a].timer?(aS[0].init(a),!0):!1}},{name:"LANDINGATTACKAIRD",canEdgeCancel:!0,init:function(a){player[a].actionState=45;player[a].timer=
0;player[a].phys.landingLagScaling=player[a].phys.lCancel?2:1;drawVfx("circleDust",player[a].phys.pos,player[a].phys.face);aS[45].main(a)},main:function(a){player[a].timer+=.9375*player[a].phys.landingLagScaling;aS[45].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){return 30<player[a].timer?(aS[0].init(a),!0):!1}},{name:"LANDINGATTACKAIRU",canEdgeCancel:!0,init:function(a){player[a].actionState=46;player[a].timer=0;player[a].phys.landingLagScaling=player[a].phys.lCancel?2:1;drawVfx("circleDust",
player[a].phys.pos,player[a].phys.face);aS[46].main(a)},main:function(a){player[a].timer+=2*player[a].phys.landingLagScaling;aS[46].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){return 30<player[a].timer?(aS[0].init(a),!0):!1}},{name:"DOWNTILT",canEdgeCancel:!1,init:function(a){player[a].actionState=47;player[a].timer=0;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.dtilt.id0;player[a].hitboxes.id1=player[a].charHitboxes.dtilt.id1;player[a].hitboxes.id2=player[a].charHitboxes.dtilt.id2;
player[a].hitboxes.id3=player[a].charHitboxes.dtilt.id3;aS[47].main(a)},main:function(a){player[a].timer++;aS[47].interrupt(a)||(reduceByTraction(a,!0),5<player[a].timer&&10>player[a].timer&&drawVfx("swingDtilt",new Vec2D(player[a].phys.pos.x+player[a].phys.cVel.x,player[a].phys.pos.y+player[a].phys.cVel.y),player[a].phys.face,player[a].timer-6),7==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0),7<player[a].timer&&10>player[a].timer&&player[a].hitboxes.frame++,
10==player[a].timer&&turnOffHitboxes(a))},interrupt:function(a){if(49<player[a].timer)return aS[17].init(a),!0;if(19<player[a].timer){var b=checkForSpecials(a),d=checkForTilts(a),e=checkForSmashes(a);if(checkForJump(a))return aS[8].init(a),!0;if(b[0])return aS[b[1]].init(a),!0;if(e[0])return aS[e[1]].init(a),!0;if(d[0])return aS[d[1]].init(a),!0;if(checkForDash(a))return aS[1].init(a),!0;if(checkForSmashTurn(a))return aS[3].init(a),!0;if(-.3>player[a].inputs.lStickAxis[0].x*player[a].phys.face&&Math.abs(player[a].inputs.lStickAxis[0].x)>
-1*player[a].inputs.lStickAxis[0].y)return player[a].phys.dashbuffer=tiltTurnDashBuffer(a),aS[4].init(a),!0;if(.3<player[a].inputs.lStickAxis[0].x*player[a].phys.face&&Math.abs(player[a].inputs.lStickAxis[0].x)>-1*player[a].inputs.lStickAxis[0].y)return aS[7].init(a,!0),!0}return!1}},{name:"UPTILT",canEdgeCancel:!1,init:function(a){player[a].actionState=48;player[a].timer=0;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.uptilt1.id0;player[a].hitboxes.id1=player[a].charHitboxes.uptilt1.id1;
player[a].hitboxes.id2=player[a].charHitboxes.uptilt1.id2;player[a].hitboxes.id3=player[a].charHitboxes.uptilt1.id3;aS[48].main(a)},main:function(a){player[a].timer++;aS[48].interrupt(a)||(reduceByTraction(a,!0),4<player[a].timer&&15>player[a].timer&&drawVfx("swingUptilt",new Vec2D(player[a].phys.pos.x+player[a].phys.cVel.x,player[a].phys.pos.y+player[a].phys.cVel.y),player[a].phys.face,player[a].timer-5),6==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0),6<player[a].timer&&
13>player[a].timer&&player[a].hitboxes.frame++,9==player[a].timer&&(player[a].hitboxes.frame=0,player[a].hitboxes.id0=player[a].charHitboxes.uptilt2.id0,player[a].hitboxes.id1=player[a].charHitboxes.uptilt2.id1,player[a].hitboxes.id2=player[a].charHitboxes.uptilt2.id2,player[a].hitboxes.id3=player[a].charHitboxes.uptilt2.id3),13==player[a].timer&&turnOffHitboxes(a))},interrupt:function(a){if(39<player[a].timer)return aS[0].init(a),!0;if(31<player[a].timer){var b=checkForSpecials(a),d=checkForTilts(a),
e=checkForSmashes(a);if(checkForJump(a))return aS[8].init(a),!0;if(b[0])return aS[b[1]].init(a),!0;if(e[0])return aS[e[1]].init(a),!0;if(d[0])return aS[d[1]].init(a),!0;if(checkForDash(a))return aS[1].init(a),!0;if(checkForSmashTurn(a))return aS[3].init(a),!0;if(checkForTiltTurn(a))return player[a].phys.dashbuffer=tiltTurnDashBuffer(a),aS[4].init(a),!0;if(.3<Math.abs(player[a].inputs.lStickAxis[0].x))return aS[7].init(a,!0),!0}return!1}},{name:"FTILT",canEdgeCancel:!1,init:function(a){player[a].actionState=
49;player[a].timer=0;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.ftilt.id0;player[a].hitboxes.id1=player[a].charHitboxes.ftilt.id1;player[a].hitboxes.id2=player[a].charHitboxes.ftilt.id2;player[a].hitboxes.id3=player[a].charHitboxes.ftilt.id3;aS[49].main(a)},main:function(a){player[a].timer++;aS[49].interrupt(a)||(reduceByTraction(a,!0),7==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0),7<player[a].timer&&11>player[a].timer&&player[a].hitboxes.frame++,
11==player[a].timer&&turnOffHitboxes(a))},interrupt:function(a){return 35<player[a].timer?(aS[0].init(a),!0):!1}},{name:"JAB1",canEdgeCancel:!1,init:function(a){player[a].actionState=50;player[a].timer=0;player[a].phys.jabCombo=!1;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.jab1.id0;player[a].hitboxes.id1=player[a].charHitboxes.jab1.id1;player[a].hitboxes.id2=player[a].charHitboxes.jab1.id2;player[a].hitboxes.id3=player[a].charHitboxes.jab1.id3;aS[50].main(a)},main:function(a){player[a].timer++;
aS[50].interrupt(a)||(reduceByTraction(a,!0),2<player[a].timer&&26>player[a].timer&&player[a].inputs.a[0]&&!player[a].inputs.a[1]&&(player[a].phys.jabCombo=!0),4==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0),4<player[a].timer&&8>player[a].timer&&player[a].hitboxes.frame++,8==player[a].timer&&turnOffHitboxes(a))},interrupt:function(a){if(19<player[a].timer&&player[a].phys.jabCombo)return aS[51].init(a),!0;if(27<player[a].timer)return aS[0].init(a),!0;if(26<
player[a].timer){var b=checkForSpecials(a),d=checkForTilts(a),e=checkForSmashes(a);if(checkForJump(a))return aS[8].init(a),!0;if(b[0])return aS[b[1]].init(a),!0;if(e[0])return aS[e[1]].init(a),!0;if(d[0])return aS[d[1]].init(a),!0;if(checkForDash(a))return aS[1].init(a),!0;if(checkForSmashTurn(a))return aS[3].init(a),!0;if(checkForTiltTurn(a))return player[a].phys.dashbuffer=tiltTurnDashBuffer(a),aS[4].init(a),!0;if(.3<Math.abs(player[a].inputs.lStickAxis[0].x))return aS[7].init(a,!0),!0}return!1}},
{name:"JAB2",canEdgeCancel:!1,init:function(a){player[a].actionState=51;player[a].timer=0;player[a].phys.jabCombo=!1;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.jab2.id0;player[a].hitboxes.id1=player[a].charHitboxes.jab2.id1;player[a].hitboxes.id2=player[a].charHitboxes.jab2.id2;player[a].hitboxes.id3=player[a].charHitboxes.jab2.id3;aS[51].main(a)},main:function(a){player[a].timer++;aS[51].interrupt(a)||(reduceByTraction(a,!0),1<player[a].timer&&26>player[a].timer&&player[a].inputs.a[0]&&
!player[a].inputs.a[1]&&(player[a].phys.jabCombo=!0),5==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0),5<player[a].timer&&10>player[a].timer&&player[a].hitboxes.frame++,10==player[a].timer&&turnOffHitboxes(a))},interrupt:function(a){if(19<player[a].timer&&player[a].phys.jabCombo)return aS[50].init(a),!0;if(28<player[a].timer)return aS[0].init(a),!0;if(27<player[a].timer){var b=checkForSpecials(a),d=checkForTilts(a),e=checkForSmashes(a);if(checkForJump(a))return aS[8].init(a),
!0;if(b[0])return aS[b[1]].init(a),!0;if(e[0])return aS[e[1]].init(a),!0;if(d[0])return aS[d[1]].init(a),!0;if(checkForDash(a))return aS[1].init(a),!0;if(checkForSmashTurn(a))return aS[3].init(a),!0;if(checkForTiltTurn(a))return player[a].phys.dashbuffer=tiltTurnDashBuffer(a),aS[4].init(a),!0;if(.3<Math.abs(player[a].inputs.lStickAxis[0].x))return aS[7].init(a,!0),!0}return!1}},{name:"ESCAPEB",setVelocities:[-2.267,-2.536,-2.706,-2.78,-2.758,-2.64,-2.426,-2.116,-1.711,-1.209,-.888,-.819,-.758,-.707,
-.664,-.631,-.606,-.591,-.585,-.587,-.599,-.62,-.809,-1.072,-1.205,-1.207,-1.078,-.819,-.617,-.556,-.487,-.413,-.332,-.245,-.152],canEdgeCancel:!1,init:function(a){player[a].actionState=52;player[a].timer=0;player[a].phys.shielding=!1;aS[52].main(a)},main:function(a){player[a].timer++;aS[52].interrupt(a)||(player[a].phys.cVel.x=aS[52].setVelocities[player[a].timer-1]*player[a].phys.face,4==player[a].timer&&(player[a].phys.intangibleTimer=20))},interrupt:function(a){return 35<player[a].timer?(player[a].phys.cVel.x=
0,aS[0].init(a),!0):!1}},{name:"ESCAPEF",setVelocities:[2.267,2.536,2.706,2.78,2.758,2.64,2.426,2.116,1.711,1.209,.888,.819,.758,.707,.664,.631,.606,.591,.585,.587,.599,.62,.809,1.072,1.205,1.207,1.078,.819,.617,.556,.487,.413,.332,.245,.152],canEdgeCancel:!1,reverseModel:!0,init:function(a){player[a].actionState=53;player[a].timer=0;player[a].phys.shielding=!1;aS[53].main(a)},main:function(a){player[a].timer++;aS[53].interrupt(a)||(player[a].phys.cVel.x=aS[53].setVelocities[player[a].timer-1]*player[a].phys.face,
4==player[a].timer&&(player[a].phys.intangibleTimer=20))},interrupt:function(a){return 35<player[a].timer?(player[a].phys.cVel.x=0,player[a].phys.face*=-1,aS[0].init(a),!0):!1}},{name:"ESCAPEN",canEdgeCancel:!1,init:function(a){player[a].actionState=54;player[a].timer=0;player[a].phys.shielding=!1;drawVfx("circleDust",player[a].phys.pos,player[a].phys.face);aS[54].main(a)},main:function(a){player[a].timer++;aS[54].interrupt(a)||(reduceByTraction(a,!0),2==player[a].timer&&(player[a].phys.intangibleTimer=
16))},interrupt:function(a){return 27<player[a].timer?(aS[0].init(a),!0):!1}},{name:"ATTACKDASH",canEdgeCancel:!1,setVelocities:[.755,1.962,2.714,3.01,2.849,2.232,1.184,.542,.704,1.325,1.487,1.079,.666,.631,.597,.565,.536,.508,.482,.458,.436,.416,.398,.37,.332,.299,.27,.244,.222,.205,.191,.181,.176,.165,.148,.13,.112,.093,.073,.053,.032,.011,-.783,-.783,0,0,.001,.001,0],init:function(a){player[a].actionState=55;player[a].timer=0;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.dashattack.id0;
player[a].hitboxes.id1=player[a].charHitboxes.dashattack.id1;player[a].hitboxes.id2=player[a].charHitboxes.dashattack.id2;player[a].hitboxes.id3=player[a].charHitboxes.dashattack.id3;aS[55].main(a)},main:function(a){player[a].timer++;aS[55].interrupt(a)||(player[a].phys.cVel.x=aS[55].setVelocities[player[a].timer-1]*player[a].phys.face,12==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0),12<player[a].timer&&16>player[a].timer&&player[a].hitboxes.frame++,16==player[a].timer&&
turnOffHitboxes(a))},interrupt:function(a){if(49<player[a].timer)return aS[0].init(a),!0;if(5>player[a].timer&&0<player[a].inputs.lAnalog[0]||0<player[a].inputs.rAnalog[0])return player[a].phys.cVel.x*player[a].phys.face>player[a].charAttributes.dMaxV&&(player[a].phys.cVel.x=player[a].charAttributes.dMaxV*player[a].phys.face),aS[73].init(a),!0;if(39<player[a].timer){var b=checkForSpecials(a),d=checkForTilts(a),e=checkForSmashes(a);if(checkForJump(a))return aS[8].init(a),!0;if(b[0])return aS[b[1]].init(a),
!0;if(e[0])return aS[e[1]].init(a),!0;if(d[0])return aS[d[1]].init(a),!0;if(checkForDash(a))return aS[1].init(a),!0;if(checkForSmashTurn(a))return aS[3].init(a),!0;if(checkForTiltTurn(a))return player[a].phys.dashbuffer=tiltTurnDashBuffer(a),aS[4].init(a),!0;if(.3<Math.abs(player[a].inputs.lStickAxis[0].x))return aS[7].init(a,!0),!0}return!1}},{name:"SIDESPECIAL",canPassThrough:!1,canEdgeCancel:!1,canGrabLedge:[!1,!1],wallJumpAble:!1,init:function(a){player[a].actionState=56;player[a].timer=0;player[a].phys.grounded?
player[a].phys.cVel.x*=.2:(player[a].phys.sideBJumpFlag?(player[a].phys.cVel.y=1,player[a].phys.sideBJumpFlag=!1):player[a].phys.cVel.y=0,player[a].phys.fastfalled=!1,player[a].phys.cVel.x*=.8);turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.sidespecial.id0;player[a].hitboxes.id1=player[a].charHitboxes.sidespecial.id1;player[a].hitboxes.id2=player[a].charHitboxes.sidespecial.id2;player[a].hitboxes.id3=player[a].charHitboxes.sidespecial.id3;aS[56].main(a)},main:function(a){player[a].timer++;
aS[56].interrupt(a)||(player[a].phys.grounded?reduceByTraction(a,!0):(player[a].phys.cVel.y-=.06,0<player[a].phys.cVel.x?(player[a].phys.cVel.x-=.0025,0>player[a].phys.cVel.x&&(player[a].phys.cVel.x=0)):(player[a].phys.cVel.x+=.0025,0<player[a].phys.cVel.x&&(player[a].phys.cVel.x=0))),6==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0),6<player[a].timer&&9>player[a].timer&&player[a].hitboxes.frame++,9==player[a].timer&&turnOffHitboxes(a))},interrupt:function(a){return 29<
player[a].timer?(player[a].phys.grounded?aS[0].init(a):aS[13].init(a),!0):!1}},{name:"FSMASH",canEdgeCancel:!1,init:function(a){player[a].actionState=57;player[a].timer=0;player[a].phys.charging=!1;player[a].phys.chargeFrames=0;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.fsmash.id0;player[a].hitboxes.id1=player[a].charHitboxes.fsmash.id1;player[a].hitboxes.id2=player[a].charHitboxes.fsmash.id2;player[a].hitboxes.id3=player[a].charHitboxes.fsmash.id3;aS[57].main(a)},main:function(a){3==
player[a].timer?player[a].inputs.a[0]||player[a].inputs.z[0]?(player[a].phys.charging=!0,player[a].phys.chargeFrames++,60==player[a].phys.chargeFrames&&(player[a].timer++,player[a].phys.charging=!1)):(player[a].timer++,player[a].phys.charging=!1):(player[a].timer++,player[a].phys.charging=!1);aS[57].interrupt(a)||(reduceByTraction(a,!0),10==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0),10<player[a].timer&&14>player[a].timer&&player[a].hitboxes.frame++,14==player[a].timer&&
turnOffHitboxes(a))},interrupt:function(a){if(49<player[a].timer)return aS[0].init(a),!0;if(47<player[a].timer){var b=checkForSpecials(a),d=checkForTilts(a),e=checkForSmashes(a);if(checkForJump(a))return aS[8].init(a),!0;if(b[0])return aS[b[1]].init(a),!0;if(e[0])return aS[e[1]].init(a),!0;if(d[0])return aS[d[1]].init(a),!0;if(checkForDash(a))return aS[1].init(a),!0;if(checkForSmashTurn(a))return aS[3].init(a),!0;if(checkForTiltTurn(a))return player[a].phys.dashbuffer=tiltTurnDashBuffer(a),aS[4].init(a),
!0;if(.3<Math.abs(player[a].inputs.lStickAxis[0].x))return aS[7].init(a,!0),!0}return!1}},{name:"UPSMASH",canEdgeCancel:!1,init:function(a){player[a].actionState=58;player[a].timer=0;player[a].phys.charging=!1;player[a].phys.chargeFrames=0;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.upsmash.id0;player[a].hitboxes.id1=player[a].charHitboxes.upsmash.id1;player[a].hitboxes.id2=player[a].charHitboxes.upsmash.id2;player[a].hitboxes.id3=player[a].charHitboxes.upsmash.id3;aS[58].main(a)},
main:function(a){7==player[a].timer?player[a].inputs.a[0]||player[a].inputs.z[0]?(player[a].phys.charging=!0,player[a].phys.chargeFrames++,60==player[a].phys.chargeFrames&&(player[a].timer++,player[a].phys.charging=!1)):(player[a].timer++,player[a].phys.charging=!1):(player[a].timer++,player[a].phys.charging=!1);aS[58].interrupt(a)||(reduceByTraction(a,!0),13==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0),13<player[a].timer&&17>player[a].timer&&player[a].hitboxes.frame++,
17==player[a].timer&&turnOffHitboxes(a))},interrupt:function(a){if(54<player[a].timer)return aS[0].init(a),!0;if(45<player[a].timer){var b=checkForSpecials(a),d=checkForTilts(a),e=checkForSmashes(a);if(checkForJump(a))return aS[8].init(a),!0;if(b[0])return aS[b[1]].init(a),!0;if(e[0])return aS[e[1]].init(a),!0;if(d[0])return aS[d[1]].init(a),!0;if(checkForDash(a))return aS[1].init(a),!0;if(checkForSmashTurn(a))return aS[3].init(a),!0;if(checkForTiltTurn(a))return player[a].phys.dashbuffer=tiltTurnDashBuffer(a),
aS[4].init(a),!0;if(.3<Math.abs(player[a].inputs.lStickAxis[0].x))return aS[7].init(a,!0),!0}return!1}},{name:"DSMASH",canEdgeCancel:!1,init:function(a){player[a].actionState=59;player[a].timer=0;player[a].phys.charging=!1;player[a].phys.chargeFrames=0;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.dsmash1.id0;player[a].hitboxes.id1=player[a].charHitboxes.dsmash1.id1;player[a].hitboxes.id2=player[a].charHitboxes.dsmash1.id2;player[a].hitboxes.id3=player[a].charHitboxes.dsmash1.id3;
aS[59].main(a)},main:function(a){3==player[a].timer?player[a].inputs.a[0]||player[a].inputs.z[0]?(player[a].phys.charging=!0,player[a].phys.chargeFrames++,60==player[a].phys.chargeFrames&&(player[a].timer++,player[a].phys.charging=!1)):(player[a].timer++,player[a].phys.charging=!1):(player[a].timer++,player[a].phys.charging=!1);aS[59].interrupt(a)||(reduceByTraction(a,!0),5==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0),5<player[a].timer&&8>player[a].timer&&
player[a].hitboxes.frame++,8==player[a].timer&&turnOffHitboxes(a),20==player[a].timer&&(player[a].hitboxes.id0=player[a].charHitboxes.dsmash2.id0,player[a].hitboxes.id1=player[a].charHitboxes.dsmash2.id1,player[a].hitboxes.id2=player[a].charHitboxes.dsmash2.id2,player[a].hitboxes.id3=player[a].charHitboxes.dsmash2.id3,player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0),20<player[a].timer&&23>player[a].timer&&player[a].hitboxes.frame++,23==player[a].timer&&turnOffHitboxes(a))},interrupt:function(a){if(64<
player[a].timer)return aS[0].init(a),!0;if(61<player[a].timer){var b=checkForSpecials(a),d=checkForTilts(a),e=checkForSmashes(a);if(checkForJump(a))return aS[8].init(a),!0;if(b[0])return aS[b[1]].init(a),!0;if(e[0])return aS[e[1]].init(a),!0;if(d[0])return aS[d[1]].init(a),!0;if(checkForDash(a))return aS[1].init(a),!0;if(checkForSmashTurn(a))return aS[3].init(a),!0;if(checkForTiltTurn(a))return player[a].phys.dashbuffer=tiltTurnDashBuffer(a),aS[4].init(a),!0;if(.3<Math.abs(player[a].inputs.lStickAxis[0].x))return aS[7].init(a,
!0),!0}return!1}},{name:"DOWNBOUND",canEdgeCancel:!0,init:function(a){player[a].actionState=60;player[a].timer=0;player[a].phys.kVel.y=0;drawVfx("groundBounce",player[a].phys.pos,player[a].phys.face);aS[60].main(a)},main:function(a){player[a].timer++;aS[60].interrupt(a)||(1==player[a].timer?reduceByTraction(a,!0):player[a].phys.cVel.x=0)},interrupt:function(a){return 26<player[a].timer?(aS[61].init(a),!0):!1}},{name:"DOWNWAIT",canEdgeCancel:!0,init:function(a){player[a].actionState=61;player[a].timer=
0;aS[61].main(a)},main:function(a){player[a].timer++;aS[61].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){return 300<player[a].timer?(aS[62].init(a),!0):-.7>player[a].inputs.lStickAxis[0].x*player[a].phys.face?(aS[63].init(a),!0):.7<player[a].inputs.lStickAxis[0].x*player[a].phys.face?(aS[64].init(a),!0):.7<player[a].inputs.lStickAxis[0].y?(aS[62].init(a),!0):player[a].inputs.a[0]&&!player[a].inputs.a[1]||player[a].inputs.b[0]&&!player[a].inputs.b[1]?(aS[65].init(a),!0):!1}},{name:"DOWNSTANDN",
canEdgeCancel:!0,init:function(a){player[a].actionState=62;player[a].timer=0;aS[62].main(a)},main:function(a){player[a].timer++;aS[62].interrupt(a)||(reduceByTraction(a,!0),1==player[a].timer&&(player[a].phys.intangibleTimer=22))},interrupt:function(a){return 30<player[a].timer?(aS[0].init(a),!0):!1}},{name:"DOWNSTANDB",canEdgeCancel:!1,setVelocities:[-.185,-.37,-.573,-1.54,-1.614,-1.586,-1.566,-1.614,-1.647,-1.666,-1.669,-1.657,-1.63,-1.588,-1.531,-1.397,-1.224,-1.094,-1.006,-.962,-.96,-.926,-.816,
-.684,-.529,-.352,-.226,-.171,-.124,-.084,-.051,-.025,-.007,.004,.008],init:function(a){player[a].actionState=63;player[a].timer=0;aS[63].main(a)},main:function(a){player[a].timer++;aS[63].interrupt(a)||(player[a].phys.cVel.x=aS[63].setVelocities[player[a].timer-1]*player[a].phys.face,1==player[a].timer&&(player[a].phys.intangibleTimer=19))},interrupt:function(a){return 35<player[a].timer?(aS[0].init(a),!0):!1}},{name:"DOWNSTANDF",canEdgeCancel:!1,setVelocities:[.467,1.36,1.733,2.135,2.355,2.581,
2.055,2.281,2.184,1.902,1.703,1.521,1.357,1.211,1.082,.971,.878,.802,.743,.703,.68,.674,.686,.716,.763,.775,.727,.661,.577,.474,.352,.241,.163,.101,.055],init:function(a){player[a].actionState=64;player[a].timer=0;aS[64].main(a)},main:function(a){player[a].timer++;aS[64].interrupt(a)||(player[a].phys.cVel.x=aS[64].setVelocities[player[a].timer-1]*player[a].phys.face,6==player[a].timer&&(player[a].phys.intangibleTimer=14))},interrupt:function(a){return 35<player[a].timer?(aS[0].init(a),!0):!1}},{name:"DOWNATTACK",
canEdgeCancel:!1,init:function(a){player[a].actionState=65;player[a].timer=0;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.downattack1.id0;player[a].hitboxes.id1=player[a].charHitboxes.downattack1.id1;player[a].hitboxes.id2=player[a].charHitboxes.downattack1.id2;player[a].hitboxes.id3=player[a].charHitboxes.downattack1.id3;aS[65].main(a)},main:function(a){player[a].timer++;aS[65].interrupt(a)||(reduceByTraction(a,!0),1==player[a].timer&&(player[a].phys.intangibleTimer=31),20==player[a].timer&&
(player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=0),20<player[a].timer&&24>player[a].timer&&player[a].hitboxes.frame++,24==player[a].timer&&turnOffHitboxes(a),30==player[a].timer&&(player[a].hitboxes.id0=player[a].charHitboxes.downattack2.id0,player[a].hitboxes.id1=player[a].charHitboxes.downattack2.id1,player[a].hitboxes.id2=player[a].charHitboxes.downattack2.id2,player[a].hitboxes.id3=player[a].charHitboxes.downattack2.id3,player[a].hitboxes.active=[!0,!0,!0,!0],player[a].hitboxes.frame=
0),30<player[a].timer&&32>player[a].timer&&player[a].hitboxes.frame++,32==player[a].timer&&turnOffHitboxes(a))},interrupt:function(a){return 49<player[a].timer?(aS[0].init(a),!0):!1}},{name:"TECHN",canEdgeCancel:!0,init:function(a){player[a].actionState=66;player[a].timer=0;aS[66].main(a)},main:function(a){player[a].timer++;aS[66].interrupt(a)||(reduceByTraction(a,!0),1==player[a].timer&&(player[a].phys.intangibleTimer=20))},interrupt:function(a){return 26<player[a].timer?(aS[0].init(a),!0):!1}},
{name:"TECHB",canEdgeCancel:!1,setVelocities:[0,0,0,0,0,0,0,-2.832,-2.726,-2.622,-2.521,-2.422,-2.326,-2.233,-2.142,-2.054,-1.968,-1.885,-1.811,-1.748,-1.691,-1.639,-1.593,-1.553,-1.519,-1.49,-1.467,-1.45,-1.439,-1.433,-1.433,-.002,-.003,-.004,-.005,-.006,-.006,-.007,-.007,-.006],init:function(a){player[a].actionState=67;player[a].timer=0;aS[67].main(a)},main:function(a){player[a].timer++;aS[67].interrupt(a)||(1==player[a].timer&&(player[a].phys.intangibleTimer=20),player[a].phys.cVel.x=aS[67].setVelocities[player[a].timer-
1]*player[a].phys.face)},interrupt:function(a){return 40<player[a].timer?(aS[0].init(a),!0):!1}},{name:"TECHF",canEdgeCancel:!1,setVelocities:[0,0,0,0,0,0,0,4.036,3.526,2.726,2.317,1.862,1.656,1.625,1.768,1.989,2.094,2.083,1.956,1.846,1.814,1.757,1.676,1.57,1.44,1.286,1.107,.949,.834,.727,.629,.54,.459,.387,.323,.268,.222,.184,.155,.135],init:function(a){player[a].actionState=68;player[a].timer=0;aS[68].main(a)},main:function(a){player[a].timer++;aS[68].interrupt(a)||(1==player[a].timer&&(player[a].phys.intangibleTimer=
20),player[a].phys.cVel.x=aS[68].setVelocities[player[a].timer-1]*player[a].phys.face)},interrupt:function(a){return 40<player[a].timer?(aS[0].init(a),!0):!1}},{name:"SHIELDBREAKFALL",canPassThrough:!1,canGrabLedge:[!1,!1],wallJumpAble:!1,init:function(a){player[a].actionState=69;player[a].timer=0;aS[69].main(a)},main:function(a){player[a].timer++;aS[69].interrupt(a)||(player[a].phys.intangibleTimer=1,player[a].phys.cVel.y-=player[a].charAttributes.gravity)},interrupt:function(a){return 30<player[a].timer?
(aS[69].init(a),!0):!1}},{name:"SHIELDBREAKDOWNBOUND",canEdgeCancel:!0,init:function(a){player[a].actionState=70;player[a].timer=0;player[a].phys.cVel.y=0;player[a].phys.kVel.y=0;drawVfx("groundBounce",player[a].phys.pos,player[a].phys.face);aS[70].main(a)},main:function(a){player[a].timer++;aS[70].interrupt(a)||(player[a].phys.intangibleTimer=1,1==player[a].timer?reduceByTraction(a,!0):player[a].phys.cVel.x=0)},interrupt:function(a){return 26<player[a].timer?(aS[71].init(a),!0):!1}},{name:"SHIELDBREAKSTAND",
canEdgeCancel:!0,init:function(a){player[a].actionState=71;player[a].timer=0;aS[71].main(a)},main:function(a){player[a].timer++;aS[71].interrupt(a)||(reduceByTraction(a,!0),player[a].phys.intangibleTimer=1)},interrupt:function(a){return 30<player[a].timer?(aS[72].init(a),!0):!1}},{name:"FURAFURA",canEdgeCancel:!0,init:function(a){player[a].actionState=72;player[a].timer=0;player[a].phys.stuckTimer=490;drawVfx("furaFura",new Vec2D(player[a].phys.pos.x+(4+2*Math.random())*player[a].phys.face,player[a].phys.pos.y+
11+3*Math.random()),player[a].phys.face);aS[72].main(a)},main:function(a){player[a].timer++;aS[72].interrupt(a)||(reduceByTraction(a,!0),0==player[a].timer%49&&drawVfx("furaFura",new Vec2D(player[a].phys.pos.x+(3+2*Math.random())*player[a].phys.face,player[a].phys.pos.y+11+3*Math.random()),player[a].phys.face),20==player[a].timer%49&&drawVfx("furaFura",new Vec2D(player[a].phys.pos.x+(5+2*Math.random())*player[a].phys.face,player[a].phys.pos.y+8+3*Math.random()),player[a].phys.face),30<player[a].phys.shieldHP&&
(player[a].phys.shieldHP=30),player[a].phys.stuckTimer--,mashOut(a)&&(player[a].phys.stuckTimer-=3))},interrupt:function(a){return 0>=player[a].phys.stuckTimer?(aS[0].init(a),!0):!1}},{name:"GRAB",canEdgeCancel:!1,init:function(a){player[a].actionState=73;player[a].timer=0;player[a].phys.charging=!1;player[a].phys.chargeFrames=0;turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.grab.id0;player[a].hitboxes.id1=player[a].charHitboxes.grab.id1;player[a].hitboxes.id2=player[a].charHitboxes.grab.id2;
aS[73].main(a)},main:function(a){player[a].timer++;aS[73].interrupt(a)||(reduceByTraction(a,!0),7==player[a].timer&&(player[a].hitboxes.active=[!0,!0,!0,!1],player[a].hitboxes.frame=0),7<player[a].timer&&9>player[a].timer&&player[a].hitboxes.frame++,9==player[a].timer&&turnOffHitboxes(a))},interrupt:function(a){return 30<player[a].timer?(aS[0].init(a),!0):!1}},{name:"CAPTUREPULLED",canEdgeCancel:!1,init:function(a){player[a].actionState=74;player[a].timer=0;player[a].phys.grounded=!0;player[a].phys.face=
-1*player[player[a].phys.grabbedBy].phys.face;player[a].phys.onSurface=player[player[a].phys.grabbedBy].phys.onSurface;player[a].phys.stuckTimer=100+2*player[a].percent;aS[74].main(a)},main:function(a){player[a].timer++;aS[74].interrupt(a)||2!=player[a].timer||(player[a].phys.pos=new Vec2D(player[player[a].phys.grabbedBy].phys.pos.x+-16.41205*player[a].phys.face,player[player[a].phys.grabbedBy].phys.pos.y))},interrupt:function(a){return 2<player[a].timer?(aS[76].init(player[a].phys.grabbedBy),aS[75].init(a),
!0):!1}},{name:"CAPTUREWAIT",canEdgeCancel:!1,init:function(a){player[a].actionState=75;player[a].timer=0;player[a].phys.pos=new Vec2D(player[player[a].phys.grabbedBy].phys.pos.x+-9.04298*player[a].phys.face,player[player[a].phys.grabbedBy].phys.pos.y);aS[75].main(a)},main:function(a){player[a].timer++;aS[75].interrupt(a)||(player[a].phys.stuckTimer--,mashOut(a)?(player[a].phys.stuckTimer-=3,player[a].phys.pos.x+=.5*Math.sign(Math.random()-.5)):player[a].phys.pos.x=player[player[a].phys.grabbedBy].phys.pos.x+
-9.04298*player[a].phys.face)},interrupt:function(a){return 0>player[a].phys.stuckTimer?(aS[78].init(player[a].phys.grabbedBy),aS[77].init(a),!0):1<player[a].timer?(aS[75].init(a),!0):!1}},{name:"CATCHWAIT",canEdgeCancel:!1,init:function(a){player[a].actionState=76;player[a].timer=0;turnOffHitboxes(a);aS[76].main(a)},main:function(a){player[a].timer++;aS[76].interrupt(a)},interrupt:function(a){return player[a].inputs.a[0]&&!player[a].inputs.a[1]?(aS[79].init(a),!0):.7<player[a].inputs.lStickAxis[0].y&&
.7>player[a].inputs.lStickAxis[1].y||.7<player[a].inputs.cStickAxis[0].y?(aS[81].init(a),!0):-.7>player[a].inputs.lStickAxis[0].y&&-.7<player[a].inputs.lStickAxis[1].y||-.7>player[a].inputs.cStickAxis[0].y?(aS[83].init(a),!0):-.7>player[a].inputs.lStickAxis[0].x*player[a].phys.face&&-.7<player[a].inputs.lStickAxis[1].x*player[a].phys.face||-.7>player[a].inputs.cStickAxis[0].x*player[a].phys.face?(aS[85].init(a),!0):.7<player[a].inputs.lStickAxis[0].x*player[a].phys.face&&.7>player[a].inputs.lStickAxis[1].x*
player[a].phys.face||.7<player[a].inputs.cStickAxis[0].x*player[a].phys.face?(aS[87].init(a),!0):1<player[a].timer?(aS[76].init(a),!0):!1}},{name:"CAPTURECUT",canEdgeCancel:!1,canGrabLedge:[!0,!1],wallJumpAble:!1,init:function(a){player[a].actionState=77;player[a].timer=0;player[a].phys.grabbedBy=-1;player[a].phys.cVel.x=-1*player[a].phys.face;aS[77].main(a)},main:function(a){player[a].timer++;aS[77].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){return 30<player[a].timer?(aS[0].init(a),
!0):!1}},{name:"CATCHCUT",canEdgeCancel:!1,canGrabLedge:[!0,!1],init:function(a){player[a].actionState=78;player[a].timer=0;player[a].phys.grabbing=-1;player[a].phys.cVel.x=-1*player[a].phys.face;aS[78].main(a)},main:function(a){player[a].timer++;aS[78].interrupt(a)||reduceByTraction(a,!0)},interrupt:function(a){return 29<player[a].timer?(aS[0].init(a),!0):!1}},{name:"CATCHATTACK",canEdgeCancel:!1,init:function(a){player[a].actionState=79;player[a].timer=0;turnOffHitboxes(a);player[a].hitboxes.id0=
player[a].charHitboxes.pummel.id0;aS[79].main(a)},main:function(a){player[a].timer++;aS[79].interrupt(a)||(6==player[a].timer&&(player[a].hitboxes.active=[!0,!1,!1,!1],player[a].hitboxes.frame=0),7==player[a].timer&&turnOffHitboxes(a))},interrupt:function(a){return 24<player[a].timer?(aS[76].init(a),!0):!1}},{name:"CAPTUREDAMAGE",canEdgeCancel:!1,setPositions:[9.478,9.478,9.478,9.478,9.478,9.478,9.478,9.478,9.478,9.306,8.92,8.516,8.29,8.293,8.41,8.593,8.792,8.959,9.043,9.068],init:function(a){player[a].actionState=
80;player[a].timer=0;aS[80].main(a)},main:function(a){player[a].timer++;aS[80].interrupt(a)||(player[a].phys.pos.x=player[player[a].phys.grabbedBy].phys.pos.x+-aS[80].setPositions[player[a].timer-1]*player[a].phys.face)},interrupt:function(a){return 20<player[a].timer?(aS[75].init(a),!0):!1}},{name:"THROWUP",canEdgeCancel:!1,init:function(a){player[a].actionState=81;player[a].timer=0;aS[82].init(player[a].phys.grabbing);turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.throwup.id0;
aS[81].main(a)},main:function(a){player[a].timer++;aS[81].interrupt(a)||11!=player[a].timer||(hitQueue.push([player[a].phys.grabbing,a,0,!1,!0,!1]),turnOffHitboxes(a))},interrupt:function(a){return 39<player[a].timer?(player[a].phys.grabbing=-1,aS[0].init(a),!0):11>player[a].timer&&player[player[a].phys.grabbing].phys.grabbedBy!=a?(console.log("test"),aS[78].init(a),!0):!1}},{name:"THROWNUP",canEdgeCancel:!1,canGrabLedge:[!1,!1],init:function(a){player[a].actionState=82;player[a].timer=player[a].phys.grabbedBy<
a?-1:0;player[a].phys.grounded=!1;player[a].phys.pos=new Vec2D(player[player[a].phys.grabbedBy].phys.pos.x,player[player[a].phys.grabbedBy].phys.pos.y);aS[82].main(a)},main:function(a){player[a].timer++;aS[82].interrupt(a)},interrupt:function(a){return!1}},{name:"THROWDOWN",canEdgeCancel:!1,init:function(a){player[a].actionState=83;player[a].timer=0;aS[84].init(player[a].phys.grabbing);turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.throwdown.id0;aS[83].main(a)},main:function(a){player[a].timer++;
aS[83].interrupt(a)||13!=player[a].timer||(hitQueue.push([player[a].phys.grabbing,a,0,!1,!0,!0]),turnOffHitboxes(a))},interrupt:function(a){return 37<player[a].timer?(player[a].phys.grabbing=-1,aS[0].init(a),!0):13>player[a].timer&&player[player[a].phys.grabbing].phys.grabbedBy!=a?(console.log("test"),aS[78].init(a),!0):!1}},{name:"THROWNDOWN",canEdgeCancel:!1,reverseModel:!0,canGrabLedge:[!1,!1],init:function(a){player[a].actionState=84;player[a].timer=player[a].phys.grabbedBy<a?-1:0;player[a].phys.grounded=
!1;player[a].phys.face*=-1;player[a].phys.pos=new Vec2D(player[player[a].phys.grabbedBy].phys.pos.x,player[player[a].phys.grabbedBy].phys.pos.y);aS[84].main(a)},main:function(a){player[a].timer++;aS[84].interrupt(a)},interrupt:function(a){return!1}},{name:"THROWBACK",canEdgeCancel:!1,init:function(a){player[a].actionState=85;player[a].timer=0;aS[86].init(player[a].phys.grabbing);turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.throwback.id0;aS[85].main(a)},main:function(a){player[a].timer++;
aS[85].interrupt(a)||7!=player[a].timer||(hitQueue.push([player[a].phys.grabbing,a,0,!1,!0,!0]),turnOffHitboxes(a))},interrupt:function(a){return 39<player[a].timer?(player[a].phys.grabbing=-1,aS[0].init(a),!0):7>player[a].timer&&player[player[a].phys.grabbing].phys.grabbedBy!=a?(aS[78].init(a),!0):!1}},{name:"THROWNBACK",canEdgeCancel:!1,reverseModel:!0,canGrabLedge:[!1,!1],init:function(a){player[a].actionState=86;player[a].timer=player[a].phys.grabbedBy<a?-1:0;player[a].phys.grounded=!1;player[a].phys.face*=
-1;player[a].phys.pos=new Vec2D(player[player[a].phys.grabbedBy].phys.pos.x,player[player[a].phys.grabbedBy].phys.pos.y);aS[86].main(a)},main:function(a){player[a].timer++;aS[86].interrupt(a)},interrupt:function(a){return!1}},{name:"THROWFORWARD",canEdgeCancel:!1,init:function(a){player[a].actionState=87;player[a].timer=0;aS[88].init(player[a].phys.grabbing);turnOffHitboxes(a);player[a].hitboxes.id0=player[a].charHitboxes.throwforward.id0;aS[87].main(a)},main:function(a){player[a].timer++;aS[87].interrupt(a)||
13!=player[a].timer||(hitQueue.push([player[a].phys.grabbing,a,0,!1,!0,!0]),turnOffHitboxes(a))},interrupt:function(a){return 27<player[a].timer?(player[a].phys.grabbing=-1,aS[0].init(a),!0):13>player[a].timer&&player[player[a].phys.grabbing].phys.grabbedBy!=a?(aS[78].init(a),!0):!1}},{name:"THROWNFORWARD",canEdgeCancel:!1,canGrabLedge:[!1,!1],init:function(a){player[a].actionState=88;player[a].timer=player[a].phys.grabbedBy<a?-1:0;player[a].phys.grounded=!1;player[a].phys.pos=new Vec2D(player[player[a].phys.grabbedBy].phys.pos.x,
player[player[a].phys.grabbedBy].phys.pos.y);aS[88].main(a)},main:function(a){player[a].timer++;aS[88].interrupt(a)},interrupt:function(a){return!1}},{name:"WALLDAMAGE",canPassThrough:!1,canGrabLedge:[!1,!1],wallJumpAble:!1,init:function(a){player[a].actionState=89;player[a].timer=0;player[a].phys.kVel.y*=.8;player[a].phys.kVel.x*=-.8;aS[89].main(a)},main:function(a){player[a].timer++;0==player[a].hit.hitstun%10&&drawVfx("flyingDust",player[a].phys.pos);aS[89].interrupt(a)||(player[a].hit.hitstun--,
player[a].phys.cVel.y-=player[a].charAttributes.gravity,player[a].phys.cVel.y<-player[a].charAttributes.terminalV&&(player[a].phys.cVel.y=-player[a].charAttributes.terminalV))},interrupt:function(a){return 50<player[a].timer?(aS[40].init(a),!0):!1}},{name:"WALLTECH",canPassThrough:!0,canGrabLedge:[!0,!1],wallJumpAble:!0,init:function(a){player[a].actionState=90;player[a].timer=0;player[a].hit.hitstun=0;player[a].phys.kVel.y=0;player[a].phys.kVel.x=0;player[a].phys.cVel.x=0;player[a].phys.intangibleTimer=
10;aS[90].main(a)},main:function(a){1>player[a].timer?(player[a].timer+=.15,1<player[a].timer&&(player[a].timer=1)):player[a].timer++;aS[90].interrupt(a)||(.89<player[a].timer&&.91>player[a].timer&&(player[a].phys.cVel.x=.5*player[a].phys.face),1<=player[a].timer&&(fastfall(a),airDrift(a)))},interrupt:function(a){var b=checkForAerials(a),d=checkForSpecials(a);return b[0]?(aS[b[1]].init(a),!0):player[a].inputs.l[0]&&!player[a].inputs.l[1]||player[a].inputs.r[0]&&!player[a].inputs.r[1]?(aS[11].init(a),
!0):(player[a].inputs.x[0]&&!player[a].inputs.x[1]||player[a].inputs.y[0]&&!player[a].inputs.y[1])&&!player[a].phys.doubleJumped?(aS[19].init(a),!0):d[0]?(aS[d[1]].init(a),!0):26<player[a].timer?(aS[13].init(a),!0):!1}},{name:"WALLJUMP",canPassThrough:!0,canGrabLedge:[!0,!1],wallJumpAble:!0,init:function(a){player[a].actionState=91;player[a].timer=0;player[a].hit.hitstun=0;player[a].phys.cVel.x=0;player[a].phys.cVel.y=0;player[a].phys.intangibleTimer=10;player[a].phys.cVel.x=1.3*player[a].phys.face;
player[a].phys.cVel.y=2.4;player[a].hit.hitlag=5;player[a].hit.knockback=0;aS[91].main(a)},main:function(a){player[a].timer++;aS[91].interrupt(a)||(fastfall(a),airDrift(a))},interrupt:function(a){var b=checkForAerials(a),d=checkForSpecials(a);return b[0]?(aS[b[1]].init(a),!0):player[a].inputs.l[0]&&!player[a].inputs.l[1]||player[a].inputs.r[0]&&!player[a].inputs.r[1]?(aS[11].init(a),!0):(player[a].inputs.x[0]&&!player[a].inputs.x[1]||player[a].inputs.y[0]&&!player[a].inputs.y[1])&&!player[a].phys.doubleJumped?
(aS[19].init(a),!0):d[0]?(aS[d[1]].init(a),!0):40<player[a].timer?(aS[13].init(a),!0):!1}},{name:"WALLTECHJUMP",canPassThrough:!0,canGrabLedge:[!0,!1],wallJumpAble:!0,init:function(a){player[a].actionState=92;player[a].timer=0;player[a].hit.hitstun=0;player[a].phys.kVel.y=0;player[a].phys.kVel.x=0;player[a].phys.cVel.x=0;player[a].phys.cVel.y=0;player[a].phys.intangibleTimer=10;aS[92].main(a)},main:function(a){1>player[a].timer?(player[a].timer+=.15,1<player[a].timer&&(player[a].timer=1)):player[a].timer++;
aS[90].interrupt(a)||(.89<player[a].timer&&.91>player[a].timer&&(player[a].phys.cVel.x=1.3*player[a].phys.face,player[a].phys.cVel.y=2.4),1<=player[a].timer&&(fastfall(a),airDrift(a)))},interrupt:function(a){var b=checkForAerials(a),d=checkForSpecials(a);return b[0]?(aS[b[1]].init(a),!0):player[a].inputs.l[0]&&!player[a].inputs.l[1]||player[a].inputs.r[0]&&!player[a].inputs.r[1]?(aS[11].init(a),!0):(player[a].inputs.x[0]&&!player[a].inputs.x[1]||player[a].inputs.y[0]&&!player[a].inputs.y[1])&&!player[a].phys.doubleJumped?
(aS[19].init(a),!0):d[0]?(aS[d[1]].init(a),!0):40<player[a].timer?(aS[13].init(a),!0):!1}}];twoPi=2*Math.PI;function drawArrayPath(a,b,d,e,f,k,l){for(var h=0;h<f.length;h++){var m=f[h][0]*k*b+d,g=f[h][1]*l+e;0==h?(c.fillStyle=a,c.beginPath(),c.moveTo(m,g)):c.lineTo(m,g)}c.closePath();c.fill()}
function renderPlayer(a){var b=4.5*player[a].phys.pos.x+600,d=-4.5*player[a].phys.pos.y+480,e=player[a].phys.face,f=Math.floor(player[a].timer);0==f&&(f=1);var k=animations[charSelect[a]][aS[player[a].actionState].name][f-1];switch(player[a].actionState){case 15:case 17:case 20:case 25:case 61:case 72:k=animations[charSelect[a]][aS[player[a].actionState].name][0]}aS[player[a].actionState].reverseModel?e*=-1:4==player[a].actionState?5<f&&(e*=-1):6==player[a].actionState?18<f&&(e*=-1):34==player[a].actionState&&
29<f&&(e*=-1);if(player[a].phys.shielding){var l=4.5*player[a].phys.shieldPositionReal.x+600,h=-4.5*player[a].phys.shieldPositionReal.y+480,m=palettes[pPal[a]][2];0<Math.floor(player[a].hit.shieldstun)&&(m=palettes[pPal[a]][4]);c.fillStyle=m+.6*player[a].phys.shieldAnalog+")";c.beginPath();c.arc(l,h,4.5*player[a].phys.shieldSize,twoPi,0);c.fill()}if(26>player[a].actionState||29<player[a].actionState){l=3<player[a].phys.intangibleTimer%9||3<player[a].phys.invincibleTimer%9||0<player[a].hit.hitlag?
palettes[pPal[a]][1]:player[a].phys.charging&&3<player[a].phys.chargeFrames%9?"rgba(252, 255, 91, 0.7)":72==player[a].actionState&&6>player[a].timer%30?palettes[pPal[a]][3]:palettes[pPal[a]][0];3==player[a].phys.chargeFrames%4?b+=2:1==player[a].phys.chargeFrames%4&&(b-=2);if(1220<b||-20>b||880<d||-30>d){var h=new Vec2D(b-600,d-375),m=new Vec2D(0,0),g=(h.y-m.y)/(h.x-m.x);-375<=600*g&&375>=600*g?(h.x>m.x?(player[a].miniViewPoint=new Vec2D(1150,600*g+375),player[a].miniViewSide=0):(player[a].miniViewPoint=
new Vec2D(50,600*-g+375),player[a].miniViewSide=1),player[a].miniView=!0):-600<=375/g&&600>=375/g?(player[a].miniViewPoint=h.y>m.y?50>b?new Vec2D(50,700):1150<b?new Vec2D(1150,700):new Vec2D(b,700):new Vec2D(-375/g+600,50),player[a].miniViewSide=2,player[a].miniView=!0):player[a].miniView=!1}else player[a].miniView=!1;player[a].miniView?(c.fillStyle="black",c.strokeStyle=palettes[pPal[a]][0],c.beginPath(),c.arc(player[a].miniViewPoint.x,player[a].miniViewPoint.y,35,twoPi,0),c.fill(),c.lineWidth=6,
c.stroke(),c.lineWidth=1,drawArrayPath(l,e,player[a].miniViewPoint.x,player[a].miniViewPoint.y+30,k,.14,.14)):drawArrayPath(l,e,b,d,k,.2,.2)}hasTag[a]&&(c.fillStyle="rgba(0,0,0,0.5)",c.strokeStyle=palettes[pPal[a]][0],e=10*tagText[a].length,c.fillRect(b-e/2,d-130,e,20),c.strokeRect(b-e/2,d-130,e,20),c.font="13px Lucida Console, monaco, monospace",c.textAlign="center",c.fillStyle="white",c.fillText(tagText[a],b,d-115),c.fillStyle=palettes[pPal[a]][0],c.beginPath(),c.moveTo(b-8,d-110),c.lineTo(b+8,
d-110),c.lineTo(b,d-102),c.closePath(),c.fill());if(30==player[a].actionState||31==player[a].actionState)c.fillStyle=palettes[pPal[a]][1],c.strokeStyle=palettes[pPal[a]][0],c.beginPath(),c.moveTo(b+18,d+13.5),c.lineTo(b+31.5,d),c.lineTo(b-31.5,d),c.lineTo(b-18,d+13.5),c.closePath(),c.fill(),c.stroke();player[a].showLedgeGrabBox&&(c.strokeStyle="#4478ff",c.strokeRect(4.5*player[a].phys.ledgeSnapBoxF.min.x+600,-4.5*player[a].phys.ledgeSnapBoxF.min.y+480,63,45),c.strokeStyle="#ff4444",c.strokeRect(4.5*
player[a].phys.ledgeSnapBoxB.min.x+600,-4.5*player[a].phys.ledgeSnapBoxB.min.y+480,63,45));player[a].showECB&&(c.fillStyle="#ff8d2f",c.beginPath(),c.moveTo(4.5*player[a].phys.ECB1[0].x+600,-4.5*player[a].phys.ECB1[0].y+480),c.lineTo(4.5*player[a].phys.ECB1[1].x+600,-4.5*player[a].phys.ECB1[1].y+480),c.lineTo(4.5*player[a].phys.ECB1[2].x+600,-4.5*player[a].phys.ECB1[2].y+480),c.lineTo(4.5*player[a].phys.ECB1[3].x+600,-4.5*player[a].phys.ECB1[3].y+480),c.closePath(),c.fill(),c.strokeStyle="white",c.beginPath(),
c.moveTo(4.5*player[a].phys.ECBp[0].x+600,-4.5*player[a].phys.ECBp[0].y+480),c.lineTo(4.5*player[a].phys.ECBp[1].x+600,-4.5*player[a].phys.ECBp[1].y+480),c.lineTo(4.5*player[a].phys.ECBp[2].x+600,-4.5*player[a].phys.ECBp[2].y+480),c.lineTo(4.5*player[a].phys.ECBp[3].x+600,-4.5*player[a].phys.ECBp[3].y+480),c.closePath(),c.stroke(),c.beginPath(),c.moveTo(b,d-6),c.lineTo(b,d+6),c.closePath(),c.stroke(),c.beginPath(),c.moveTo(b+6,d),c.lineTo(b-6,d),c.closePath(),c.stroke());if(player[a].showHitbox)for(c.fillStyle=
hurtboxColours[player[a].phys.hurtBoxState],c.fillRect(4.5*player[a].phys.hurtbox.min.x+600,-4.5*player[a].phys.hurtbox.min.y+480,36,81),c.fillStyle="rgba(255, 29, 29, 0.69)",b=0;4>b;b++)player[a].hitboxes.active[b]&&(c.beginPath(),c.arc(4.5*(player[a].hitboxes["id"+b].offset[player[a].hitboxes.frame].x*player[a].phys.face+player[a].phys.pos.x)+600,-4.5*(player[a].hitboxes["id"+b].offset[player[a].hitboxes.frame].y+player[a].phys.pos.y)+480,4.5*player[a].hitboxes["id"+b].size,2*Math.PI,0),c.fill());
$("#actState"+a).empty().append(aS[player[a].actionState].name);$("#stateNum"+a).empty().append(f);$("#face"+a).empty().append(player[a].phys.face);$("#percent"+a).empty().append(player[a].percent)}player=[0,0,0,0];renderTime=[10,0,100,0];gamelogicTime=[5,0,100,0];framerate=[0,0,0];attemptingControllerReset=[!1,!1,!1,!1];function customDeadzone(){this.ls=new Vec2D(0,0);this.cs=new Vec2D(0,0);this.r=this.l=0}
map={a:[1,0],b:[2,1],x:[0,2],y:[3,3],z:[7,4],r:[5,5],l:[4,6],s:[9,7],du:[12,8],dr:[13,11],dd:[14,9],dl:[15,10]};mType=[0,0,0,0];cd=[new customDeadzone,new customDeadzone,new customDeadzone,new customDeadzone];currentPlayers=[];playerAmount=0;frameByFrame=playing=!1;showVfx=findingPlayers=!0;showDebug=!1;charSelect=["marth","marth","marth","marth"];randomTags="NEO! SELF NOVA PNDA Panda LFFN Scorp AZ AXE Tempo TMPO [A]rmada WBALLZ Westballz PPMD Kreygasm M2K Mang0 USA SCAR TOPH (.Y.) HBOX HungryBox PLUP Shroomed SFAT Wizz Lucky S2J SilentWolf aMSa S2J Hax$".split(" ");
vfxQueue=[];
palettes=[["rgba(250, 89, 89, 0.6)","rgba(255, 170, 170, 0.6)","rgba(255, 206, 111, ","rgba(244, 68, 68, 0.6)","rgba(255, 225, 167, "],["rgba(4, 255, 134, 0.6)","rgba(154, 254, 170, 0.6)","rgba(252, 95, 95, ","rgba(255, 182, 96, 0.6)","rgba(254, 141, 141, "],["rgba(5, 195, 255, 0.6)","rgba(121, 223, 255, 0.6)","rgba(218, 96, 254, ","rgba(231, 134, 255, 0.6)","rgba(230, 144, 255, "],["rgba(255, 187, 70, 0.74)","rgba(248, 255, 122, 0.6)","rgba(80, 182, 255, ","rgba(255, 142, 70, 0.6)","rgba(139, 203, 249, "],["rgba(177, 89, 255, 0.6)",
"rgba(203, 144, 255, 0.6)","rgba(144, 255, 110, ","rgba(247, 126, 250, 0.6)","rgba(190, 255, 170, "],["rgba(182, 131, 70, 0.6)","rgba(252, 194, 126, 0.6)","rgba(47, 186, 123, ","rgba(255, 112, 66, 0.6)","rgba(111, 214, 168, "],["rgba(166, 166, 166, 0.6)","rgba(255, 255, 255, 0.6)","rgba(255, 255, 255, ","rgba(191, 119, 119, 0.6)","rgba(175, 172, 172, "]];hurtboxColours=["rgba(255, 237, 70, 0.6)","rgba(42, 57, 255, 0.6)","rgba(54, 255, 37, 0.6)"];hasTag=[!1,!1,!1,!1];tagText=["","","",""];pPal=[];
costumeTimeout=[];colours=["rgba(4, 255, 82, 0.62)","rgba(117, 20, 255, 0.63)","rgba(255, 20, 20, 0.63)","rgba(255, 232, 20, 0.63)"];pause=[[!1,!1],[!1,!1]];frameAdvance=[[!1,!1],[!1,!1]];startingPoint=[[-50,0],[50,0],[-25,0],[25,0]];startingFace=[1,-1,-1,1];ground=[[-68.4,0],[68.4,0]];platforms=[[[-57.6,27.2],[-20,27.2]],[[20,27.2],[57.6,27.2]],[[-18.8,54.4],[18.8,54.4]]];wallsL=[[[-68.4,0],[-68.4,-108.8]]];wallsR=[[[68.4,0],[68.4,-108.8]]];edges=[[[-68.4,0],[-63.4,0]],[[68.4,0],[63.4,0]]];
cliffcatchOffset=[[-71.9,-22.3],[-73.1,-22.19],[-72.21,-24],[-71.8,-24],[-71.1,-23.74],[-70.74,-23.76],[-71.3,-23.75]];edgeOffset=[[-71.3,-23.7],[71.3,-23.7]];edgeOrientation=[1,-1];respawnPoints=[[-50,40,1],[50,40,-1],[25,20,1],[-25,20,-1]];blastzone=new Box2D([-224,200],[224,-108.8]);matchTimer=5999.99;function SVG(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}
window.addEventListener("gamepadconnected",function(a){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",a.gamepad.index,a.gamepad.id,a.gamepad.buttons.length,a.gamepad.axes.length)});console.log(navigator.getGamepads());function matchTimerTick(){matchTimer-=.016667;$("#matchMinutes").empty().append(Math.floor(matchTimer/60));$("#matchSeconds").empty().append((matchTimer%60).toFixed(2))}
function screenShake(a){var b=[Math.random(),Math.random(),Math.random(),Math.random()];c.translate(.1*a*b[0],.1*a*b[1]);setTimeout(function(){c.translate(.05*-a*b[0],.05*-a*b[1])},20);setTimeout(function(){c.translate(.05*-a*b[0],.05*-a*b[1]);c.translate(.1*-a*b[2],.1*-a*b[3])},40);setTimeout(function(){c.translate(.05*a*b[2],.05*a*b[3])},60);setTimeout(function(){c.translate(.05*a*b[2],.05*a*b[3])},80)}
function percentShake(a,b){$("#percentContainer"+b).css("color","rgb(255,"+Math.max(255-player[b].percent,0)+", "+Math.max(255-player[b].percent,0)+")");$("#percentContainer"+b).animate({top:.1*a*Math.random(),left:.1*a*Math.random()},20);$("#percentContainer"+b).animate({top:.05*a*Math.random(),left:.05*a*Math.random()},20);$("#percentContainer"+b).animate({top:.1*-a*Math.random(),left:.1*-a*Math.random()},20);$("#percentContainer"+b).animate({top:.05*-a*Math.random(),left:.05*-a*Math.random()},
20);$("#percentContainer"+b).animate({top:0,left:0},20)}function costumeTout(a){setTimeout(function(){costumeTimeout[a]=!1},200)}zPress=[!1,!1,!1,!1];bPress=[!1,!1,!1,!1];
function findPlayers(){for(var a=navigator.getGamepads(),b=0;b<a.length;b++){var d=navigator.getGamepads()[b];if("undefined"!=typeof d){var e=0;"v"==d.id[0]?(e=1,console.log("You are using vJoy")):"M"==d.id[0]&&console.log("You are using Mayflash");if(d.buttons[map.a[e]].pressed){for(var f=!1,k=0;k<playerAmount;k++)currentPlayers[k]==b&&(f=!0);f||4>playerAmount&&addPlayer(b,e)}for(e=0;e<currentPlayers.length;e++)if(currentPlayers[e]==b&&(!d.buttons[map.x[mType[e]]].pressed&&!d.buttons[map.y[mType[e]]].pressed||
costumeTimeout[e]||(pPal[e]++,6<pPal[e]&&(pPal[e]=0),$("#pBox"+e).css({"background-color":palettes[pPal[e]][0],border:"5px solid "+palettes[pPal[e]][2]+"0.8)"}),costumeTimeout[e]=!0,costumeTout(e)),d.buttons[map.b[mType[e]]].pressed?(bPress[e]||(hasTag[e]^=1,hasTag[e]?($("#pTag"+e).show(),$("#pTagEdit"+e).val(randomTags[Math.round((randomTags.length-1)*Math.random())]),tagText[e]=$("#pTagEdit"+e).val()):$("#pTag"+e).hide()),bPress[e]=!0):bPress[e]=!1,d.buttons[map.z[mType[e]]].pressed?(zPress[e]||
4>playerAmount&&addPlayer(-1),zPress[e]=!0):zPress[e]=!1,d.buttons[map.s[mType[e]]].pressed)){$("#playerFind").hide();for(f=0;f<playerAmount;f++)initializePlayers(f),renderPlayer(f);findingPlayers=!1}}}}
function addPlayer(a,b){mType[playerAmount]=b;currentPlayers.push(a);playerAmount++;costumeTimeout.push(!1);pPal.push(playerAmount-1);$("#currentPlayers").append('<div class="pBoxBox"><div class="playerBox" id="pBox'+(playerAmount-1)+'" style="background-color:'+palettes[pPal[playerAmount-1]][0]+";border:5px solid "+palettes[pPal[playerAmount-1]][2]+'0.8)"><p>P'+playerAmount+'<br><span class="cont">(Cont. '+a+')</span></p></div><div id="pTag'+(playerAmount-1)+'" class="pTag"><textarea id="pTagEdit'+
(playerAmount-1)+'" class="pTagEdit" maxlength="10"></textarea></div></div>')}
function interpretInputs(a,b){var d=navigator.getGamepads()[currentPlayers[a]],e=d.axes[0]-cd[a].ls.x,f=-1*d.axes[1]-cd[a].ls.y,e=e/.75,f=f/.75,e=1<e?1:-1>e?-1:Math.round(80*e)/80,f=1<f?1:-1>f?-1:Math.round(80*f)/80;.3>Math.abs(e)&&(e=0);.3>Math.abs(f)&&(f=0);var k=-1*d.axes[2]-cd[a].cs.y,l=d.axes[5]-cd[a].cs.x,l=l/.75,k=k/.75,l=1<l?1:-1>l?-1:Math.round(80*l)/80,k=1<k?1:-1>k?-1:Math.round(80*k)/80;.3>Math.abs(l)&&(l=0);.3>Math.abs(k)&&(k=0);var h=d.axes[3]-cd[a].l,m=d.axes[4]-cd[a].r,h=h+.9,m=m+.9;
1<h&&(h=1);1<m&&(m=1);.3>h&&(h=0);.3>m&&(m=0);pause[a][1]=pause[a][0];frameAdvance[a][1]=frameAdvance[a][0];pause[a][0]=d.buttons[map.s[mType[a]]].pressed?!0:!1;frameAdvance[a][0]=d.buttons[map.z[mType[a]]].pressed?!0:!1;if(b){for(var g=0;7>g;g++)player[a].inputs.lStickAxis[7-g].x=player[a].inputs.lStickAxis[6-g].x,player[a].inputs.lStickAxis[7-g].y=player[a].inputs.lStickAxis[6-g].y,player[a].inputs.cStickAxis[7-g].x=player[a].inputs.cStickAxis[6-g].x,player[a].inputs.cStickAxis[7-g].y=player[a].inputs.cStickAxis[6-
g].y,player[a].inputs.lAnalog[7-g]=player[a].inputs.lAnalog[6-g],player[a].inputs.rAnalog[7-g]=player[a].inputs.rAnalog[6-g],player[a].inputs.z[7-g]=player[a].inputs.z[6-g],player[a].inputs.a[7-g]=player[a].inputs.a[6-g],player[a].inputs.b[7-g]=player[a].inputs.b[6-g],player[a].inputs.x[7-g]=player[a].inputs.x[6-g],player[a].inputs.y[7-g]=player[a].inputs.y[6-g],player[a].inputs.r[7-g]=player[a].inputs.r[6-g],player[a].inputs.l[7-g]=player[a].inputs.l[6-g],player[a].inputs.dpadleft[7-g]=player[a].inputs.dpadleft[6-
g],player[a].inputs.dpaddown[7-g]=player[a].inputs.dpaddown[6-g],player[a].inputs.dpadright[7-g]=player[a].inputs.dpadright[6-g],player[a].inputs.dpadup[7-g]=player[a].inputs.dpadup[6-g];player[a].inputs.lStickAxis[0].x=e;player[a].inputs.lStickAxis[0].y=f;player[a].inputs.cStickAxis[0].x=l;player[a].inputs.cStickAxis[0].y=k;player[a].inputs.lAnalog[0]=h;player[a].inputs.rAnalog[0]=m;player[a].inputs.x[0]=d.buttons[map.x[mType[a]]].pressed;player[a].inputs.a[0]=d.buttons[map.a[mType[a]]].pressed;
player[a].inputs.b[0]=d.buttons[map.b[mType[a]]].pressed;frameByFrame||(player[a].inputs.z[0]=d.buttons[map.z[mType[a]]].pressed,player[a].inputs.z[0]&&(player[a].inputs.lAnalog[0]=.35,player[a].inputs.a[0]=!0));player[a].inputs.y[0]=d.buttons[map.y[mType[a]]].pressed;player[a].inputs.r[0]=d.buttons[map.r[mType[a]]].pressed;player[a].inputs.l[0]=d.buttons[map.l[mType[a]]].pressed;player[a].inputs.l[0]&&(player[a].inputs.lAnalog[0]=1);player[a].inputs.r[0]&&(player[a].inputs.rAnalog[0]=1);player[a].inputs.dpadleft[0]=
d.buttons[map.dl[mType[a]]].pressed;player[a].inputs.dpaddown[0]=d.buttons[map.dd[mType[a]]].pressed;player[a].inputs.dpadright[0]=d.buttons[map.dr[mType[a]]].pressed;player[a].inputs.dpadup[0]=d.buttons[map.du[mType[a]]].pressed}else frameAdvance[a][0]&&!frameAdvance[a][1]&&(frameByFrame=!0);player[a].inputs.dpadleft[0]&&!player[a].inputs.dpadleft[1]&&(player[a].showLedgeGrabBox^=1);player[a].inputs.dpaddown[0]&&!player[a].inputs.dpaddown[1]&&(player[a].showECB^=1);player[a].inputs.dpadright[0]&&
!player[a].inputs.dpadright[1]&&(player[a].showHitbox^=1);d.buttons[map.du[mType[a]]].pressed&&d.buttons[map.x[mType[a]]].pressed&&d.buttons[map.y[mType[a]]].pressed&&!attemptingControllerReset[a]&&(attemptingControllerReset[a]=!0,setTimeout(function(){d.buttons[map.du[mType[a]]].pressed&&d.buttons[map.x[mType[a]]].pressed&&d.buttons[map.y[mType[a]]].pressed&&(cd[a].ls=new Vec2D(d.axes[0],-1*d.axes[1]),cd[a].cs=new Vec2D(d.axes[5],-1*d.axes[2]),cd[a].l=d.axes[3]+.8,cd[a].r=d.axes[4]+.8,$("#resetIndicator"+
a).fadeIn(100),$("#resetIndicator"+a).fadeOut(500));attemptingControllerReset[a]=!1},2E3));pause[a][0]&&!pause[a][1]&&(playing^=1);0<player[a].phys.lCancelTimer&&(player[a].phys.lCancelTimer--,0==player[a].phys.lCancelTimer&&(player[a].phys.lCancel=!1));0==player[a].phys.lCancelTimer&&(0<player[a].inputs.lAnalog[0]&&0==player[a].inputs.lAnalog[1]||0<player[a].inputs.rAnalog[0]&&0==player[a].inputs.lAnalog[1]||player[a].inputs.z[0]&&!player[a].inputs.z[1])&&(player[a].phys.lCancelTimer=7,player[a].phys.lCancel=
!0);$("#lsAxisX"+a).empty().append(e.toFixed(5));$("#lsAxisY"+a).empty().append(f.toFixed(5));$("#lAnalog"+a).empty().append(h.toFixed(5));$("#rAnalog"+a).empty().append(m.toFixed(5));for(g=0;12>g;g++)e=g,0==mType[a]&&(5<e&&e++,7<e&&e++,8<e&&(e+=2)),d.buttons[e].pressed?$("#"+a+"button"+g).show():$("#"+a+"button"+g).hide()}
function land(a,b,d){player[a].phys.pos.y=b;player[a].phys.grounded=!0;player[a].phys.doubleJumped=!1;player[a].phys.airborneTimer=0;player[a].phys.fastfalled=!1;player[a].phys.sideBJumpFlag=!0;player[a].phys.onSurface=d;switch(player[a].actionState){case 56:break;case 33:player[a].phys.autoCancel?aS[10].init(a):aS[43].init(a);break;case 34:player[a].phys.autoCancel?aS[10].init(a):aS[44].init(a);break;case 35:player[a].phys.autoCancel?aS[10].init(a):aS[46].init(a);break;case 36:player[a].phys.autoCancel?
aS[10].init(a):aS[45].init(a);break;case 37:player[a].phys.autoCancel?aS[10].init(a):aS[42].init(a);break;case 9:case 13:case 15:case 19:case 20:-1<=player[a].phys.cVel.y?aS[0].init(a):aS[10].init(a);break;case 11:player[a].phys.intangibleTimer=0;player[a].phys.hurtBoxState=0;aS[12].init(a);break;case 39:case 40:0<player[a].phys.techTimer?.5<player[a].inputs.lStickAxis[0].x*player[a].phys.face?aS[68].init(a):-.5>player[a].inputs.lStickAxis[0].x*player[a].phys.face?aS[67].init(a):aS[66].init(a):aS[60].init(a);
break;case 69:aS[70].init(a);break;default:aS[12].init(a)}player[a].phys.cVel.y=0;player[a].phys.kVel.y=0;player[a].hit.hitstun=0;player[a].hitboxes.active=[!1,!1,!1,!1]}
function physics(a){player[a].phys.posPrev=new Vec2D(player[a].phys.pos.x,player[a].phys.pos.y);if(0<player[a].hit.hitlag&&(player[a].hit.hitlag--,0==player[a].hit.hitlag&&0<player[a].hit.knockback)){if(-1==player[a].phys.grabbedBy||44<player[a].hit.knockback){var b=getLaunchAngle(player[a].hit.angle,player[a].hit.knockback,player[a].hit.reverse,player[a].inputs.lStickAxis[0].x,player[a].inputs.lStickAxis[0].y,a);player[a].phys.cVel.x=0;player[a].phys.cVel.y=0;player[a].phys.kVel.x=getHorizontalVelocity(player[a].hit.knockback,
b);player[a].phys.kVel.y=getVerticalVelocity(player[a].hit.knockback,b,player[a].phys.grounded,player[a].hit.angle);player[a].phys.kDec.x=getHorizontalDecay(b);player[a].phys.kDec.y=getVerticalDecay(b);player[a].phys.onLedge=-1;player[a].phys.charging=!1;player[a].phys.shielding=!1;player[a].phys.grounded&&(0==b||270<b?(player[a].phys.kVel.y=0,player[a].phys.kDec.x=player[a].charAttributes.traction):180<b&&(player[a].phys.kVel.y=0,player[a].phys.kDec.x=-player[a].charAttributes.traction));0<player[a].phys.kVel.y&&
(player[a].phys.grounded=!1)}player[a].hit.knockback=0}0==player[a].hit.hitlag&&(0<player[a].hit.shieldstun&&(player[a].hit.shieldstun--,0>player[a].hit.shieldstun&&(player[a].hit.shieldstun=0)),player[a].phys.canWallJump=aS[player[a].actionState].wallJumpAble,aS[player[a].actionState].main(a),0<Math.abs(player[a].phys.kVel.x)&&(b=Math.sign(player[a].phys.kVel.x),player[a].phys.kVel.x-=player[a].phys.kDec.x,b!=Math.sign(player[a].phys.kVel.x)&&(player[a].phys.kVel.x=0)),0<Math.abs(player[a].phys.kVel.y)&&
(b=Math.sign(player[a].phys.kVel.y),player[a].phys.kVel.y-=player[a].phys.kDec.y,b!=Math.sign(player[a].phys.kVel.y)&&(player[a].phys.kVel.y=0)),player[a].phys.pos.x+=player[a].phys.cVel.x+player[a].phys.kVel.x,player[a].phys.pos.y+=player[a].phys.cVel.y+player[a].phys.kVel.y);player[a].phys.hurtBoxState=30==player[a].actionState||31==player[a].actionState?1:0;0<player[a].phys.invincibleTimer&&(player[a].phys.invincibleTimer--,player[a].phys.hurtBoxState=2);0<player[a].phys.intangibleTimer&&(player[a].phys.intangibleTimer--,
player[a].phys.hurtBoxState=1);if(-20<player[a].phys.techTimer)player[a].phys.techTimer--;else if(player[a].inputs.l[0]&&!player[a].inputs.l[1]||player[a].inputs.r[0]&&!player[a].inputs.r[1])player[a].phys.techTimer=20;var b=player[a].phys.pos.x,d=player[a].phys.pos.y;player[a].phys.grounded||player[a].phys.airborneTimer++;player[a].phys.ECBp=11==player[a].actionState?[new Vec2D(0+b,1+d),new Vec2D(3+b,9+d),new Vec2D(0+b,14+d),new Vec2D(-3+b,9+d)]:24==player[a].actionState?[new Vec2D(0+b,1+d),new Vec2D(2+
b,9+d),new Vec2D(0+b,14+d),new Vec2D(-2+b,9+d)]:player[a].phys.grounded||10>player[a].phys.airborneTimer?[new Vec2D(0+b,0+d),new Vec2D(3+b,7+d),new Vec2D(0+b,14+d),new Vec2D(-3+b,7+d)]:[new Vec2D(0+b,4+d),new Vec2D(3+b,9+d),new Vec2D(0+b,14+d),new Vec2D(-3+b,9+d)];for(b=0;b<platforms.length;b++)player[a].phys.abovePlatforms[b]&&player[a].phys.ECBp[0].y<platforms[b][0][1]&&player[a].phys.ECBp[0].x>platforms[b][0][0]&&player[a].phys.ECBp[0].x<platforms[b][1][0]&&(-.56<player[a].inputs.lStickAxis[0].y&&
aS[player[a].actionState].canPassThrough||!aS[player[a].actionState].canPassThrough)&&land(a,platforms[b][0][1],b);for(b=0;b<platforms.length;b++)player[a].phys.abovePlatforms[b]=player[a].phys.ECBp[0].y>=platforms[b][0][1]?!0:!1;player[a].phys.grounded&&(b=!0,-1==player[a].phys.onSurface?player[a].phys.ECBp[0].x<ground[0][0]-.1?aS[player[a].actionState].canEdgeCancel?-.6>player[a].inputs.lStickAxis[0].x||1==player[a].phys.face?b=!1:(player[a].phys.cVel.x=0,player[a].phys.pos.x=ground[0][0],aS[0].init(a)):
(player[a].phys.cVel.x=0,player[a].phys.pos.x=ground[0][0]):player[a].phys.ECBp[0].x>ground[1][0]+.1&&(aS[player[a].actionState].canEdgeCancel?.6<player[a].inputs.lStickAxis[0].x||-1==player[a].phys.face?b=!1:(player[a].phys.cVel.x=0,player[a].phys.pos.x=ground[1][0],aS[0].init(a)):(player[a].phys.cVel.x=0,player[a].phys.pos.x=ground[1][0])):player[a].phys.ECBp[0].x<platforms[player[a].phys.onSurface][0][0]-.1?aS[player[a].actionState].canEdgeCancel?-.6>player[a].inputs.lStickAxis[0].x||1==player[a].phys.face?
b=!1:(player[a].phys.cVel.x=0,player[a].phys.pos.x=platforms[player[a].phys.onSurface][0][0],aS[0].init(a)):(player[a].phys.cVel.x=0,player[a].phys.pos.x=platforms[player[a].phys.onSurface][0][0]):player[a].phys.ECBp[0].x>platforms[player[a].phys.onSurface][1][0]+.1&&(aS[player[a].actionState].canEdgeCancel?.6<player[a].inputs.lStickAxis[0].x||-1==player[a].phys.face?b=!1:(player[a].phys.cVel.x=0,player[a].phys.pos.x=platforms[player[a].phys.onSurface][1][0],aS[0].init(a)):(player[a].phys.cVel.x=
0,player[a].phys.pos.x=platforms[player[a].phys.onSurface][1][0])),b||(player[a].phys.grounded=!1,player[a].phys.shielding=!1,aS[13].init(a),Math.abs(player[a].phys.cVel.x)>player[a].charAttributes.aerialHmaxV&&(player[a].phys.cVel.x=Math.sign(player[a].phys.cVel.x)*player[a].charAttributes.aerialHmaxV)));d=[!0,!0];for(b=0;b<wallsL.length;b++)player[a].phys.ECBp[1].y<wallsL[b][0][1]&&player[a].phys.ECBp[1].y>wallsL[b][1][1]&&player[a].phys.ECBp[1].x>=wallsL[b][1][0]&&player[a].phys.ECBp[1].x<wallsL[b][1][0]+
39&&(d[0]=!1,player[a].phys.pos.x-=player[a].phys.ECBp[1].x-wallsL[b][1][0],39==player[a].actionState?(player[a].phys.face=-1,0<player[a].phys.techTimer?player[a].inputs.x[0]||player[a].inputs.y[0]||.7<player[a].inputs.lStickAxis[0].y?aS[92].init(a):aS[90].init(a):(drawVfx("wallBounce",new Vec2D(wallsL[b][1][0],player[a].phys.ECBp[1].y),player[a].phys.face,0),aS[89].init(a))):player[a].phys.canWallJump&&(254==player[a].phys.wallJumpTimer&&.5<=player[a].phys.posDelta.x&&(player[a].phys.wallJumpTimer=
0),0<=player[a].phys.wallJumpTimer&&120>player[a].phys.wallJumpTimer&&(-.7>=player[a].inputs.lStickAxis[0].x&&0<=player[a].inputs.lStickAxis[3].x?(player[a].phys.wallJumpTimer=254,player[a].phys.face=-1,aS[91].init(a)):player[a].phys.wallJumpTimer++)));for(b=0;b<wallsR.length;b++)player[a].phys.ECBp[3].y<wallsR[b][0][1]&&player[a].phys.ECBp[3].y>wallsR[b][1][1]&&player[a].phys.ECBp[3].x<=wallsR[b][1][0]&&player[a].phys.ECBp[3].x>wallsR[b][1][0]-39&&(d[1]=!1,player[a].phys.pos.x-=player[a].phys.ECBp[3].x-
wallsR[b][1][0],39==player[a].actionState?(player[a].phys.face=1,0<player[a].phys.techTimer?player[a].inputs.x[0]||player[a].inputs.y[0]||.7<player[a].inputs.lStickAxis[0].y?aS[92].init(a):aS[90].init(a):(drawVfx("wallBounce",new Vec2D(wallsR[b][1][0],player[a].phys.ECBp[1].y),player[a].phys.face,0),aS[89].init(a))):player[a].phys.canWallJump&&(254==player[a].phys.wallJumpTimer&&.5<=player[a].phys.posDelta.x&&(player[a].phys.wallJumpTimer=0),0<=player[a].phys.wallJumpTimer&&120>player[a].phys.wallJumpTimer&&
(.7<=player[a].inputs.lStickAxis[0].x&&0>=player[a].inputs.lStickAxis[3].x?(player[a].phys.wallJumpTimer=254,player[a].phys.face=1,aS[91].init(a)):player[a].phys.wallJumpTimer++)));d[0]&&d[1]&&player[a].phys.canWallJump&&(player[a].phys.wallJumpTimer=254);if(player[a].phys.grounded)for(b=0;b<playerAmount;b++)a!=b&&player[b].phys.grounded&&player[b].phys.onSurface==player[a].phys.onSurface&&player[a].phys.grabbing!=b&&player[a].phys.grabbedBy!=b&&(d=Math.abs(player[a].phys.pos.x-player[b].phys.pos.x),
6.5>d&&0<d?player[b].phys.pos.x+=-.3*Math.sign(player[a].phys.pos.x-player[b].phys.pos.x):0==d&&Math.abs(player[a].phys.cVel.x)>Math.abs(player[b].phys.cVel.x)&&(player[b].phys.pos.x+=-.3*Math.sign(player[a].phys.cVel.x)));0==player[a].phys.shielding&&(player[a].phys.shieldHP+=.07,60<player[a].phys.shieldHP&&(player[a].phys.shieldHP=60));b=player[a].phys.pos.x;d=player[a].phys.pos.y;player[a].phys.ECB1=11==player[a].actionState?[new Vec2D(0+b,1+d),new Vec2D(3+b,9+d),new Vec2D(0+b,14+d),new Vec2D(-3+
b,9+d)]:24==player[a].actionState?[new Vec2D(0+b,1+d),new Vec2D(2+b,9+d),new Vec2D(0+b,14+d),new Vec2D(-2+b,9+d)]:player[a].phys.grounded||10>player[a].phys.airborneTimer?[new Vec2D(0+b,0+d),new Vec2D(3+b,7+d),new Vec2D(0+b,14+d),new Vec2D(-3+b,7+d)]:[new Vec2D(0+b,4+d),new Vec2D(3+b,9+d),new Vec2D(0+b,14+d),new Vec2D(-3+b,9+d)];!player[a].phys.grounded&&0>player[a].phys.ECB1[0].y&&player[a].phys.ECB1[0].x>ground[0][0]&&player[a].phys.ECB1[0].x<ground[1][0]&&land(a,0,-1);player[a].phys.hurtbox=new Box2D([-4+
b,18+d],[4+b,d]);player[a].phys.ledgeSnapBoxF=new Box2D([player[a].phys.pos.x,player[a].phys.pos.y+22],[player[a].phys.pos.x+14,player[a].phys.pos.y+12]);player[a].phys.ledgeSnapBoxB=new Box2D([player[a].phys.pos.x-14,player[a].phys.pos.y+22],[player[a].phys.pos.x,player[a].phys.pos.y+12]);player[a].phys.ledgeRegrabCount&&(player[a].phys.ledgeRegrabTimeout--,0==player[a].phys.ledgeRegrabTimeout&&(player[a].phys.ledgeRegrabCount=!1));var e=d=-1;if(-1==player[a].phys.onLedge&&!player[a].phys.ledgeRegrabCount)for(b=
0;b<edges.length;b++){for(var f=!0,k=0;k<playerAmount;k++)k!=a&&player[k].phys.onLedge==b&&(f=!1);f&&(edges[b][0][0]>player[a].phys.ledgeSnapBoxF.min.x&&edges[b][0][0]<player[a].phys.ledgeSnapBoxF.max.x&&edges[b][0][1]<player[a].phys.ledgeSnapBoxF.min.y&&edges[b][0][1]>player[a].phys.ledgeSnapBoxF.max.y&&aS[player[a].actionState].canGrabLedge[0]&&(d=b),edges[b][0][0]>player[a].phys.ledgeSnapBoxB.min.x&&edges[b][0][0]<player[a].phys.ledgeSnapBoxB.max.x&&edges[b][0][1]<player[a].phys.ledgeSnapBoxB.min.y&&
edges[b][0][1]>player[a].phys.ledgeSnapBoxF.max.y&&aS[player[a].actionState].canGrabLedge[0]&&(e=b));0>player[a].phys.cVel.y&&-.5<player[a].inputs.lStickAxis[0].y&&(-1<d&&edgeOrientation[d]==player[a].phys.face?(player[a].phys.onLedge=d,player[a].phys.ledgeRegrabTimeout=30,player[a].phys.face=edgeOrientation[d],player[a].phys.pos=new Vec2D(edgeOffset[d][0],edgeOffset[d][1]),aS[24].init(a)):-1<e&&edgeOrientation[e]==player[a].phys.face&&(player[a].phys.onLedge=e,player[a].phys.ledgeRegrabTimeout=30,
player[a].phys.face=edgeOrientation[e],player[a].phys.pos=new Vec2D(edgeOffset[e][0],edgeOffset[e][1]),aS[24].init(a)))}if(26>player[a].actionState||29<player[a].actionState)b=!1,player[a].phys.pos.x<blastzone.min.x?(aS[26].init(a),b=!0):player[a].phys.pos.x>blastzone.max.x?(aS[27].init(a),b=!0):player[a].phys.pos.y>blastzone.min.y?(aS[28].init(a),b=!0):player[a].phys.pos.y<blastzone.max.y&&(aS[29].init(a),b=!0),b&&(player[a].stocks--,0==player[a].stocks?(player[a].stocks=4,$("."+a+"stock").show()):
$("#"+a+"stock"+(player[a].stocks+1)).fadeOut());hitDetection(a);player[a].phys.posDelta=new Vec2D(Math.abs(player[a].phys.pos.x-player[a].phys.posPrev.x),Math.abs(player[a].phys.pos.y-player[a].phys.posPrev.y));$("#velocityX"+a).empty().append(player[a].phys.cVel.x.toFixed(5));$("#velocityY"+a).empty().append(player[a].phys.cVel.y.toFixed(5));$("#kvelocityX"+a).empty().append(player[a].phys.kVel.x.toFixed(5));$("#kvelocityY"+a).empty().append(player[a].phys.kVel.y.toFixed(5));$("#pvelocityX"+a).empty().append(player[a].phys.pos.x.toFixed(5));
$("#pvelocityY"+a).empty().append(player[a].phys.pos.y.toFixed(5))}canvas=c=0;function renderVfx(){for(var a=[],b=0;b<vfxQueue.length;b++)if(vfxQueue[b][1]++,vfxQueue[b][0].frames>=vfxQueue[b][1]){if(showVfx)dVfx[vfxQueue[b][0].name](b)}else a.push(b);for(b=0;b<a.length;b++)vfxQueue.splice(a[b],1)}
function drawVfx(a,b,d,e){"undefined"===typeof e&&(e=-1);var f={};$.extend(!0,f,vfx[a]);"circleDust"==f.name&&(f.circles[0]=-2*Math.random(),f.circles[1]=-4.5*Math.random()-2,f.circles[2]=2*Math.random(),f.circles[3]=4.5*Math.random()+2);a=new Vec2D(b.x,b.y);vfxQueue.push([f,0,a,d,e])}function update(a){-1!=currentPlayers[a]&&interpretInputs(a,!0);physics(a)}lastFrameTimeMs=delta=0;lastUpdate=performance.now();
function gameTick(){var a=performance.now(),b=0;if(playing||frameByFrame){lastUpdate=performance.now();hitQueue=[];for(var d=0;d<playerAmount;d++)update(d);executeHits();matchTimerTick();frameByFrame=!1;b=performance.now()-a;gamelogicTime[0]+=b;gamelogicTime[0]/=2;10<=b&&gamelogicTime[3]++;b<gamelogicTime[2]&&(gamelogicTime[2]=b);b>gamelogicTime[1]&&(gamelogicTime[1]=b);$("#gamelogicAvg").empty().append(Math.round(gamelogicTime[0]));$("#gamelogicHigh").empty().append(Math.round(gamelogicTime[1]));
$("#gamelogicLow").empty().append(Math.round(gamelogicTime[2]));$("#gamelogicPeak").empty().append(gamelogicTime[3])}else if(findingPlayers)findPlayers();else for(d=0;d<playerAmount;d++)-1!=currentPlayers[d]&&interpretInputs(d,!1);setTimeout(gameTick,16-b)}
function renderTick(){if(playing||frameByFrame){var a=performance.now();c.fillStyle="rgba(0, 0, 0, 1)";c.fillRect(0,0,canvas.width,canvas.height);showVfx&&drawBackground();drawStage();for(var b=0;b<playerAmount;b++)renderPlayer(b);renderVfx();a=performance.now()-a;renderTime[0]+=a;renderTime[0]/=2;10<=a&&renderTime[3]++;a>renderTime[1]&&(renderTime[1]=a);a<renderTime[2]&&(renderTime[2]=a);$("#renderAvg").empty().append(Math.round(renderTime[0]));$("#renderHigh").empty().append(Math.round(renderTime[1]));
$("#renderLow").empty().append(Math.round(renderTime[2]));$("#renderPeak").empty().append(renderTime[3])}window.requestAnimationFrame(renderTick)}function initializePlayers(a){player[a]=new playerObject(charSelect[a],startingPoint[a],startingFace[a]);hasTag[a]&&(tagText[a]=$("#pTagEdit"+a).val());$("#sP"+a).show().css("display","inline-block");$("."+a+"stock").css("background-color",palettes[pPal[a]][0])}
function drawStage(){c.strokeStyle="#db80cc";c.beginPath();c.moveTo(4.5*ground[0][0]+600,-4.5*ground[0][1]+480);c.lineTo(4.5*ground[1][0]+600,-4.5*ground[1][1]+480);c.closePath();c.stroke();c.fillRect(4.5*ground[0][0]+600,-4.5*ground[0][1]+480,615.6,500);for(var a=0;a<platforms.length;a++)c.strokeStyle="#4794c6",c.beginPath(),c.moveTo(4.5*platforms[a][0][0]+600,-4.5*platforms[a][0][1]+480),c.lineTo(4.5*platforms[a][1][0]+600,-4.5*platforms[a][1][1]+480),c.closePath(),c.stroke();for(a=0;a<wallsL.length;a++)c.strokeStyle=
"#47c648",c.beginPath(),c.moveTo(4.5*wallsL[a][0][0]+600,-4.5*wallsL[a][0][1]+480),c.lineTo(4.5*wallsL[a][1][0]+600,-4.5*wallsL[a][1][1]+480),c.closePath(),c.stroke();for(a=0;a<wallsR.length;a++)c.strokeStyle="#9867de",c.beginPath(),c.moveTo(4.5*wallsR[a][0][0]+600,-4.5*wallsR[a][0][1]+480),c.lineTo(4.5*wallsR[a][1][0]+600,-4.5*wallsR[a][1][1]+480),c.closePath(),c.stroke();for(a=0;a<edges.length;a++)c.strokeStyle="#e7a44c",c.beginPath(),c.moveTo(4.5*edges[a][0][0]+600,-4.5*edges[a][0][1]+480),c.lineTo(4.5*
edges[a][1][0]+600,-4.5*edges[a][1][1]+480),c.closePath(),c.stroke()}var bgPos=[[-30,500,300,500,900,500,1230,450,358],[-30,400,300,400,900,400,1230,350,179]],direction=[[1,-1,1,-1,1,-1,1,-1,1],[-1,1,-1,1,-1,1,-1,1,-1]];function bgStar(){var a=Math.random();this.velocity=new Vec2D(5*a*Math.sign(.5-Math.random()),5*(1-a)*Math.sign(.5-Math.random()));this.colour="hsla("+358*Math.random()+", 100%, 50%, 0.5)";this.pos=new Vec2D(0,0);this.life=0}bgStars=[];
for(var p=0;20>p;p++)bgStars[p]=new bgStar,bgStars[p].pos=new Vec2D(600*Math.random()*Math.sign(bgStars[p].velocity.x),400*Math.random()*Math.sign(bgStars[p].velocity.y));bgSparkle=3;
function drawBackground(){bgSparkle--;var a=c.createLinearGradient(0,0,0,500);a.addColorStop(0,"rgb(24, 17, 66");a.addColorStop(1,"black");c.fillStyle=a;c.fillRect(-100,-100,canvas.width+200,canvas.height+200);for(a=0;20>a;a++){if(600<Math.abs(bgStars[a].pos.x)||400<Math.abs(bgStars[a].pos.y))bgStars[a]=new bgStar;bgStars[a].pos.x+=bgStars[a].velocity.x;bgStars[a].pos.y+=bgStars[a].velocity.y;bgStars[a].life++;0==bgSparkle&&(c.fillStyle=bgStars[a].colour,c.globalAlpha=Math.min(bgStars[a].life/200,
1),c.beginPath(),c.arc(600+bgStars[a].pos.x,375+bgStars[a].pos.y,5,twoPi,0),c.fill())}0==bgSparkle&&(bgSparkle=2);for(a=c.globalAlpha=1;-1<a;a--){for(var b=0;9>b;b++)switch(bgPos[a][b]=8==b?bgPos[a][b]+.2*direction[a][b]*Math.random():bgPos[a][b]+1*direction[a][b]*Math.random(),b){case 0:if(1==direction[a][b]&&-10<bgPos[a][b]||-1==direction[a][b]&&-200>bgPos[a][b])direction[a][b]*=-1;break;case 1:if(1==direction[a][b]&&bgPos[a][b]>550-100*a||-1==direction[a][b]&&bgPos[a][b]<450-100*a)direction[a][b]*=
-1;break;case 2:if(1==direction[a][b]&&550<bgPos[a][b]||-1==direction[a][b]&&0>bgPos[a][b])direction[a][b]*=-1;break;case 3:if(1==direction[a][b]&&bgPos[a][b]>550-100*a||-1==direction[a][b]&&bgPos[a][b]<450-100*a)direction[a][b]*=-1;break;case 4:if(1==direction[a][b]&&1150<bgPos[a][b]||-1==direction[a][b]&&600>bgPos[a][b])direction[a][b]*=-1;break;case 5:if(1==direction[a][b]&&bgPos[a][b]>550-100*a||-1==direction[a][b]&&bgPos[a][b]<450-100*a)direction[a][b]*=-1;break;case 6:if(1==direction[a][b]&&
1400<bgPos[a][b]||-1==direction[a][b]&&1210>bgPos[a][b])direction[a][b]*=-1;break;case 7:if(1==direction[a][b]&&bgPos[a][b]>550-100*a||-1==direction[a][b]&&bgPos[a][b]<450-100*a)direction[a][b]*=-1;break;case 8:if(1==direction[a][b]&&357<bgPos[a][b]||-1==direction[a][b]&&1>bgPos[a][b])direction[a][b]*=-1}c.fillStyle="hsla("+bgPos[a][8]+", 100%, 50%, "+(.15-.07*a)+")";c.beginPath();c.moveTo(bgPos[a][0],bgPos[a][1]);c.bezierCurveTo(bgPos[a][2],bgPos[a][3],bgPos[a][4],bgPos[a][5],bgPos[a][6],bgPos[a][7]);
1==a?(c.lineTo(bgPos[0][6],bgPos[0][7]),c.bezierCurveTo(bgPos[0][4],bgPos[0][5],bgPos[0][2],bgPos[0][3],bgPos[0][0],bgPos[0][1])):(c.lineTo(1200,750),c.lineTo(0,750));c.closePath();c.fill()}}
$(document).ready(function(){$(".stockPercent").hide();canvas=document.getElementById("gameCanvas");c=canvas.getContext("2d");c.fillStyle="rgba(0, 0, 0, 1)";c.fillRect(-100,-100,canvas.width+200,canvas.height+200);drawStage();gameTick();renderTick();var a=Math.max(($(window).width()-1200)/2,0),b=Math.max(($(window).height()-750)/2,0);$("#display").css("margin",b+"px "+a+"px 0px 0px");$("#effectsButton").click(function(){showVfx?$("#effectsButtonEdit").empty().append("OFF"):$("#effectsButtonEdit").empty().append("ON");
showVfx^=1});$("#debugButton").click(function(){if(showDebug){$("#debugButtonEdit").empty().append("OFF");$("#debug").hide();$("#players").hide();var b=Math.max(($(window).height()-750)/2,0)}else $("#debugButtonEdit").empty().append("ON"),$("#debug").show(),$("#players").show(),b=Math.max(($(window).height()-900)/2,0);$("#display").css("margin",b+"px "+a+"px 0px 0px");showDebug^=1})});
