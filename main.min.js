sounds={$b:new Howl({src:["sfx/menu2.mp3"],volume:0,De:{Ye:[0,1300],Xe:[1300,55500]},pe:function(){this.play("menu2Loop")}}),jb:new Howl({src:["sfx/battlefield.mp3"],De:{Ue:[0,8E3],Te:[8E3,75200]},volume:0,pe:function(){this.play("battlefieldLoop")}}),wb:new Howl({src:["sfx/menu-back.wav"]}),Fa:new Howl({src:["sfx/menu-forward.wav"]}),sa:new Howl({src:["sfx/menu-select.wav"]}),sc:new Howl({src:["sfx/marth.wav"]}),ready:new Howl({src:["sfx/ready.wav"]}),go:new Howl({src:["sfx/go.wav"]}),ce:new Howl({src:["sfx/game.wav"]}),
Nd:new Howl({src:["sfx/dash.wav"],volume:.3}),tech:new Howl({src:["sfx/tech.wav"]}),cd:new Howl({src:["sfx/airdodge.wav"],volume:.7}),Sd:new Howl({src:["sfx/dolphin-slash.wav"]}),Td:new Howl({src:["sfx/dolphin-slash2.wav"]}),Va:new Howl({src:["sfx/grab.wav"],volume:.5}),de:new Howl({src:["sfx/grabbed.wav"]}),gd:new Howl({src:["sfx/jump.wav"],volume:.7}),Mc:new Howl({src:["sfx/jump2.wav"],volume:.4}),qc:new Howl({src:["sfx/kill.wav"]}),vb:new Howl({src:["sfx/land.wav"],volume:.7}),ie:new Howl({src:["sfx/ledgegrab.wav"],
volume:.7}),powershield:new Howl({src:["sfx/powershield.wav"]}),pd:new Howl({src:["sfx/roll.wav"]}),ve:new Howl({src:["sfx/shieldbreak.wav"]}),shieldup:new Howl({src:["sfx/shieldup.wav"],volume:.7}),He:new Howl({src:["sfx/swordsheath.wav"],volume:.7}),Ac:new Howl({src:["sfx/sworddraw.wav"],volume:.7}),Zd:new Howl({src:["sfx/fastfall.wav"],volume:.4}),Ce:new Howl({src:["sfx/spotdodge.wav"]}),Md:new Howl({src:["sfx/dancing-blade.wav"]}),we:new Howl({src:["sfx/shieldoff.wav"],volume:.4}),te:new Howl({src:["sfx/runbrake.wav"]}),
xe:new Howl({src:["sfx/shout1.wav"]}),ye:new Howl({src:["sfx/shout2.wav"]}),ze:new Howl({src:["sfx/shout3.wav"]}),Ae:new Howl({src:["sfx/shout4.wav"]}),Be:new Howl({src:["sfx/shout5.wav"]}),sd:new Howl({src:["sfx/shout6.wav"]}),zc:new Howl({src:["sfx/sword1.wav"],volume:.7}),Pb:new Howl({src:["sfx/sword2.wav"],volume:.7}),rb:new Howl({src:["sfx/sword3.wav"],volume:.7}),ed:new Howl({src:["sfx/footstep.wav"]}),Yc:new Howl({src:["sfx/smashcharge.wav"]}),hc:new Howl({src:["sfx/death.wav"]}),bd:new Howl({src:["sfx/walljump.wav"]}),
Se:new Howl({src:["sfx/weakhurt.wav"]}),Fe:new Howl({src:["sfx/stronghurt.wav"]}),Je:new Howl({src:["sfx/swordweakhit.wav"],volume:.5}),Ge:new Howl({src:["sfx/swordmediumhit.wav"],volume:.5}),Ie:new Howl({src:["sfx/swordstronghit.wav"],volume:.5}),xd:new Howl({src:["sfx/swordreallystronghit.wav"],volume:.7}),td:new Howl({src:["sfx/stronghit.wav"]}),Ee:new Howl({src:["sfx/strongerhit.wav"]}),oe:new Howl({src:["sfx/normalweakhit.wav"]}),Dd:new Howl({src:["sfx/cheer.wav"]}),je:new Howl({src:["sfx/lowdown.wav"]}),
Ub:new Howl({src:["sfx/bounce.wav"]}),pause:new Howl({src:["sfx/pause.wav"]}),be:new Howl({src:["sfx/furacry.wav"],volume:.4}),lc:new Howl({src:["sfx/furaloop.wav"],loop:!0}),qe:new Howl({src:["sfx/parry.wav"]}),sb:new Howl({src:["sfx/blunthit.wav"],volume:.7}),clank:new Howl({src:["sfx/clank.wav"]}),ic:new Howl({src:["sfx/deny.wav"]}),Ke:new Howl({src:["sfx/target-break.wav"]}),complete:new Howl({src:["sfx/complete.wav"]}),ne:new Howl({src:["sfx/new-record.wav"]}),Xd:new Howl({src:["sfx/failure.wav"]}),
time:new Howl({src:["sfx/time.wav"]})};Howler.volume(.2);
vfx={impactLand:{name:"impactLand",Da:"rgba(255,255,255,",frames:8,path:[[[-157,-29],[-94,-5],[-154,-52],[-90,-9],[-145,-51],[-161,-85],[-99,-43],[-137,-78],[-115,-73],[-91,-59],[-155,-110],[-108,-84],[-150,-134],[-109,-108],[-136,-136],[-70,-89],[-94,-125],[-68,-95],[-91,-144],[-59,-109],[-83,-146],[-36,-92],[-38,-126],[-20,-105],[-2,-115],[10,-108],[18,-131],[29,-90],[96,-146],[64,-104],[100,-134],[77,-90],[105,-108],[59,-62],[95,-89],[90,-72],[66,-45],[106,-78],[90,-47],[128,-70],[92,-39],[163,-81],[143,
-47],[102,-18],[161,-51],[113,-12],[164,-28],[113,4],[67,49],[15,70],[-13,69],[-57,54],[-111,10],[0,0],[-111,10],[-139,-8]],[[-213,-28],[-145,1],[-205,-46],[-145,-12],[-198,-50],[-214,-84],[-151,-41],[-190,-74],[-169,-72],[-139,-59],[-211,-109],[-159,-81],[-196,-109],[-207,-137],[-152,-103],[-189,-135],[-94,-74],[-129,-123],[-100,-93],[-115,-118],[-123,-145],[-95,-113],[-115,-148],[-65,-89],[-65,-119],[-31,-95],[-1,-114],[25,-100],[51,-119],[58,-86],[132,-143],[103,-107],[145,-140],[130,-110],[110,
-89],[141,-112],[127,-92],[191,-135],[159,-106],[199,-125],[188,-103],[172,-90],[209,-110],[151,-65],[182,-78],[183,-69],[157,-48],[213,-85],[197,-49],[168,-29],[214,-54],[159,-9],[215,-27],[177,2],[115,15],[65,51],[17,65],[-15,65],[-65,52],[-119,16],[0,0],[-119,16],[-188,1]],[[-264,-30],[-199,-2],[-260,-51],[-192,-11],[-246,-49],[-261,-81],[-203,-44],[-243,-75],[-220,-72],[-182,-55],[-257,-107],[-216,-85],[-243,-105],[-254,-135],[-209,-105],[-241,-139],[-159,-80],[-167,-95],[-139,-63],[-153,-93],
[-130,-79],[-159,-121],[-134,-95],[-149,-122],[-160,-152],[-124,-112],[-155,-157],[-102,-101],[-81,-88],[-87,-105],[-82,-103],[-84,-128],[-79,-115],[-76,-125],[-66,-106],[-50,-116],[-20,-97],[3,-113],[18,-101],[51,-120],[54,-98],[76,-121],[76,-111],[96,-126],[91,-116],[102,-117],[97,-102],[171,-150],[140,-108],[186,-148],[173,-117],[150,-91],[187,-124],[141,-69],[241,-139],[208,-108],[257,-132],[240,-106],[222,-91],[260,-112],[199,-66],[239,-82],[239,-73],[204,-43],[266,-87],[247,-52],[198,-17],[259,
-52],[206,-12],[266,-29],[240,-5],[139,4],[66,47],[1,54],[-71,48],[-141,10],[0,0],[-141,10],[-241,-3]],[[-311,-30],[-245,-2],[-302,-50],[-243,-15],[-290,-47],[-310,-85],[-251,-46],[-290,-80],[-266,-72],[-225,-53],[-304,-110],[-267,-89],[-288,-105],[-298,-130],[-250,-103],[-288,-137],[-189,-71],[-199,-98],[-171,-67],[-185,-96],[-162,-80],[-201,-133],[-169,-99],[-181,-121],[-192,-152],[-159,-118],[-181,-158],[-121,-87],[-101,-98],[-98,-116],[-86,-103],[-93,-129],[-77,-104],[-26,-116],[38,-115],[77,
-97],[101,-119],[94,-101],[113,-106],[114,-95],[104,-71],[205,-152],[181,-116],[224,-148],[208,-119],[188,-95],[226,-127],[180,-75],[204,-91],[202,-81],[290,-139],[250,-106],[301,-134],[284,-106],[261,-89],[309,-114],[247,-66],[280,-81],[254,-49],[313,-84],[296,-51],[256,-26],[310,-56],[272,-27],[311,-31],[282,-2],[156,-3],[63,33],[-50,35],[-156,4],[1,-1],[-156,4],[-281,-1]],[[-359,-35],[-294,-4],[-348,-50],[-287,-14],[-330,-45],[-351,-85],[-296,-45],[-330,-80],[-280,-61],[-351,-112],[-302,-86],[-333,
-108],[-342,-131],[-302,-110],[-331,-138],[-216,-61],[-233,-102],[-199,-62],[-217,-95],[-187,-78],[-234,-137],[-199,-103],[-219,-133],[-226,-159],[-195,-126],[-217,-164],[-151,-88],[-123,-105],[-105,-104],[-108,-127],[-95,-106],[-37,-121],[30,-122],[84,-104],[113,-120],[99,-102],[121,-104],[162,-88],[248,-159],[215,-118],[261,-154],[245,-125],[228,-101],[268,-136],[218,-78],[242,-97],[237,-79],[329,-141],[294,-107],[346,-133],[327,-105],[305,-91],[351,-116],[293,-69],[329,-80],[304,-58],[353,-84],
[339,-54],[304,-27],[350,-55],[306,-21],[353,-32],[327,0],[166,-1],[67,22],[-55,21],[-159,5],[0,0],[-159,5],[-326,-1]],[[-392,-38],[-327,-5],[-382,-50],[-321,-13],[-369,-54],[-387,-90],[-322,-42],[-362,-79],[-321,-59],[-383,-109],[-334,-86],[-367,-109],[-380,-136],[-328,-105],[-365,-141],[-242,-53],[-263,-99],[-219,-58],[-241,-88],[-217,-81],[-201,-64],[-261,-139],[-227,-106],[-249,-141],[-258,-173],[-222,-129],[-244,-168],[-186,-103],[-131,-118],[-120,-126],[-108,-119],[-43,-128],[51,-126],[130,
-106],[167,-110],[163,-101],[194,-94],[281,-164],[249,-125],[295,-162],[282,-131],[260,-107],[302,-139],[255,-87],[282,-98],[258,-67],[362,-139],[326,-106],[377,-133],[343,-89],[387,-115],[308,-57],[364,-83],[325,-45],[389,-86],[368,-52],[316,-14],[387,-58],[320,-6],[388,-33],[354,2],[164,2],[86,9],[-1,9],[-109,10],[-180,3],[0,0],[-180,3],[-365,-2]],[[-417,-29],[-349,1],[-419,-56],[-350,-10],[-398,-48],[-416,-82],[-353,-38],[-397,-78],[-338,-51],[-416,-111],[-366,-83],[-399,-109],[-412,-135],[-356,
-102],[-404,-142],[-257,-40],[-279,-62],[-290,-103],[-240,-52],[-275,-99],[-253,-88],[-225,-62],[-289,-138],[-245,-94],[-273,-136],[-281,-169],[-247,-129],[-271,-167],[-204,-91],[-153,-114],[-135,-128],[-121,-118],[-51,-140],[38,-141],[113,-115],[155,-119],[159,-105],[203,-88],[298,-164],[264,-117],[312,-158],[301,-129],[276,-102],[318,-141],[268,-81],[299,-99],[284,-73],[318,-101],[313,-89],[393,-141],[346,-103],[402,-135],[391,-114],[357,-86],[407,-118],[342,-66],[388,-84],[345,-42],[413,-89],[394,
-56],[344,-18],[407,-56],[351,-11],[411,-34],[388,-2],[147,-1],[26,9],[-41,9],[-177,0],[0,10],[-177,0],[-396,2]],[[-429,-32],[-372,-2],[-426,-48],[-364,-13],[-411,-50],[-429,-87],[-366,-39],[-405,-79],[-348,-52],[-429,-115],[-383,-88],[-408,-107],[-421,-131],[-380,-108],[-411,-140],[-288,-53],[-297,-70],[-282,-55],[-302,-109],[-264,-71],[-283,-100],[-256,-87],[-295,-141],[-265,-115],[-289,-146],[-297,-167],[-255,-130],[-281,-172],[-216,-97],[-132,-127],[-131,-136],[-110,-124],[-47,-147],[49,-147],
[121,-124],[167,-133],[166,-116],[219,-97],[320,-171],[283,-122],[334,-164],[320,-134],[286,-96],[338,-143],[268,-67],[322,-105],[288,-57],[344,-112],[330,-86],[409,-143],[377,-109],[424,-138],[413,-114],[385,-86],[431,-117],[349,-55],[414,-88],[373,-48],[433,-92],[416,-58],[369,-23],[434,-62],[369,-6],[435,-36],[407,-3],[-1,-1],[-405,-1]]]},circleDust:{name:"circleDust",Da:"white",frames:30,Bb:[0,0,0,0]},flyingDust:{name:"flyingDust",Da:"white",frames:30},dashDust:{name:"dashDust",Da:"rgba(255,255,255,",frames:8,path:[[[-84,
-287],[107,-135],[-161,-296],[5,-153],[-57,-173],[-15,-138],[-198,-218],[51,-86],[-33,-86],[43,-59],[-184,-80],[39,-36],[-157,-15],[0,0],[-157,-15],[257,-8],[308,-30]],[[172,-92],[189,-65],[98,-124],[174,-63],[118,-89],[166,-53],[90,-88],[138,-58],[99,-73],[154,-38],[130,-41],[55,-105],[73,-76],[25,-102],[70,-62],[-3,-96],[73,-34],[-13,-45],[81,-13],[0,0],[81,-13],[163,-13],[245,-21]],[[185,-112],[201,-66],[151,-110],[189,-60],[131,-119],[172,-65],[88,-119],[168,-56],[124,-75],[150,-51],[102,-75],
[56,-123],[71,-92],[61,-93],[68,-84],[39,-104],[68,-72],[3,-117],[53,-68],[4,-85],[43,-59],[-29,-79],[31,-49],[-39,-50],[19,-39],[-29,-35],[91,-9],[0,0],[91,-9],[138,-13],[239,-17]],[[203,-67],[153,-126],[179,-69],[116,-112],[152,-71],[55,-127],[90,-83],[16,-115],[57,-75],[-109,-182],[4,-63],[-64,-86],[-5,-56],[-75,-61],[-5,-42],[-95,-45],[-10,-28],[-50,-23],[59,-11],[0,0],[59,-11],[159,-12],[221,-16]],[[190,-56],[124,-126],[147,-75],[117,-99],[140,-71],[59,-142],[131,-71],[24,-137],[92,-81],[10,
-116],[86,-65],[-119,-178],[-35,-108],[-104,-136],[-24,-81],[-97,-83],[-22,-55],[-92,-60],[-37,-42],[-137,-53],[-64,-30],[-107,-24],[79,-8],[0,0],[79,-8],[170,-12],[198,-23]],[[160,-71],[118,-97],[121,-69],[40,-118],[69,-93],[20,-119],[98,-69],[69,-84],[92,-59],[10,-106],[87,-51],[11,-80],[-86,-180],[-46,-124],[-127,-176],[-52,-111],[-79,-126],[-60,-104],[-147,-151],[-92,-106],[-131,-123],[-95,-98],[-144,-113],[-55,-61],[-98,-76],[-61,-50],[-114,-62],[-77,-41],[-165,-48],[-86,-28],[-163,-28],[62,
1],[0,0],[62,1],[156,-10],[183,-26]],[[136,-73],[85,-114],[119,-77],[32,-131],[96,-79],[17,-119],[72,-72],[-1,-104],[43,-64],[-16,-77],[-139,-182],[-81,-115],[-119,-139],[-90,-104],[-177,-167],[-133,-121],[-186,-136],[-109,-98],[-170,-101],[-96,-60],[-206,-49],[-92,-40],[-161,-34],[-89,-27],[-205,-19],[-25,-3],[88,-6],[0,0],[88,-6],[163,-34]],[[99,-49],[17,-112],[57,-69],[-11,-93],[32,-67],[-9,-75],[-3,-61],[-137,-161],[-87,-90],[-129,-97],[-85,-67],[-133,-77],[-88,-58],[-175,-64],[-77,-44],[-161,
-44],[-86,-31],[-204,-29],[-67,-9],[43,-3],[0,0],[43,-3],[112,-15]]]},doubleJumpRings:{name:"doubleJumpRings",Da:"#63beff",frames:8,se:[0,0,0]},blastzoneExplosion:{name:"blastzoneExplosion",frames:20,uc:[[-112,-53],[-117,-82],[-107,-78],[-106,-124],[-86,-72],[-80,-138],[-69,-86],[-63,-122],[-58,-85],[-56,-159],[-43,-89],[-36,-129],[-30,-108],[-26,-165],[-13,-111],[0,-173],[6,-118],[20,-183],[31,-104],[51,-156],[51,-92],[63,-125],[63,-84],[78,-147],[79,-79],[89,-101],[90,-78],[102,-112],[100,-60],[106,-75],[106,-60],[118,-82],
[104,-7],[97,-23],[88,0],[89,-41],[83,-28],[79,-41],[73,-10],[71,-39],[66,-10],[62,-38],[57,-15],[54,-41],[49,-31],[46,-44],[35,-30],[31,-63],[25,-47],[23,-57],[13,-25],[7,-55],[0,-28],[-9,-57],[-12,-41],[-15,-53],[-17,-23],[-32,-54],[-36,-33],[-44,-52],[-44,-26],[-50,-49],[-53,-15],[-60,-38],[-62,-25],[-67,-32],[-71,-14],[-82,-32],[-84,-22],[-89,-27],[-90,-10],[-96,-15],[-96,-4]],bc:[[-35,-678],[-34,-103],[-30,-587],[-24,-213],[-22,-672],[-19,-523],[-17,-717],[-15,-485],[-12,-533],[-12,-313],[-9,
-671],[-4,-471],[-2,-674],[2,-549],[3,-696],[6,-516],[10,-764],[13,-396],[17,-718],[22,-225],[26,-605],[31,-415],[35,-698],[35,-173],[40,-512],[39,-238],[45,-445],[45,0],[-44,0]],Ze:[[-46,-497],[-43,-95],[-35,-436],[-29,-237],[-24,-538],[-18,-329],[-16,-400],[-13,-329],[-11,-521],[-4,-291],[-2,-521],[5,-355],[9,-580],[17,-288],[22,-537],[24,-352],[28,-449],[28,-201],[33,-417],[37,-307],[43,-530],[47,-99],[50,-409],[54,-300],[55,-362],[56,0],[-55,0]],re:[[-8,-822],[8,0],[-8,0]],ud:[1,3],yc:[4,19],
vd:[[1,1],[1.3,.7],[.7,1.5]],wd:[[1,.1],[1,1],[1.3,.7],[.5,1.5],[1,1],[1.2,.5],[1,.8],[.7,1.3],[.5,1.5],[.7,1.3],[1.2,.8],[1.6,.4],[1,1],[.5,1.5],[.2,1.5],[.1,1.5]]},cliffcatchspark:{name:"cliffcatchspark",Da:"#63beff",frames:12},swingDair:{name:"swingDair",frames:4,qa:"201.276,-206L2.276,0L201.276,-206l64,-179c0,0,-244.236,-85.148,-396,132C-282.488,-35.852,-19.047,-477.367,201.276,-206 148,-16.14L0,1.86L148,-16.14l189,79c0,0,137.557,-211.42,-60,-433C79.443,-591.72,318,-211.14,148,-16.14 -30.499,10.062l31,-10L-30.499,10.062l-14,209c0,0,283,4,391,-170S276.501,19.062,-30.499,10.062 -147.487,-72.373l148,72L-147.487,-72.373l-142,152c0,0,146,137,230,134S162.513,251.627,-147.487,-72.373 -203,-196.911l203,197L-203,-196.911l-201,31c0,0,13,128,87,217S-89,280.089,-203,-196.911 -216,-251L0,0l-217,-252l-200,19c0,0,6,44.5,17,95S-191,-168.5,-216,-251 -214,-311L0,0L-214,-311l-189,22c0,0,-14.5,47.5,-15,55S-203,-207.5,-214,-311".split(" "),
path:[[[201,-206],[2,0],[201,-206],[265,-385],[265,-385,21,-470,-131,-253],[-282,-36,-19,-477,201,-206]],[[148,-16],[0,2],[148,-16],[337,63],[337,63,475,-148,277,-370],[79,-592,318,-211,148,-16]],[[-30,10],[1,0],[-30,10],[-44,219],[-44,219,239,223,347,49],[455,-125,277,19,-30,10]],[[-147,-72],[1,0],[-147,-72],[-289,80],[-289,80,-143,217,-59,214],[25,211,163,252,-147,-72]],[[-203,-197],[0,0],[-203,-197],[-404,-166],[-404,-166,-391,-38,-317,51],[-243,140,-89,280,-203,-197]],[[-216,-251],[0,0],[-217,
-252],[-417,-233],[-417,-233,-411,-188,-400,-138],[-389,-88,-191,-168,-216,-251]],[[-214,-311],[0,0],[-214,-311],[-403,-289],[-403,-289,-417,-241,-418,-234],[-419,-227,-203,-207,-214,-311]]]},swingFair:{name:"swingFair",frames:4,path:[[[-33,-424],[1,0],[-33,-424],[-220,-476],[-220,-476,-274,-357,-53,-243],[168,-129,-224,-291,-33,-424]],[[201,-371],[0,0],[201,-371],[267,-554],[267,-554,9,-673,-209,-500],[-427,-327,-55,-533,201,-371]],[[250,-233],[0,0],[250,-233],[447,-216],[447,-216,457,-419,272,-553],[87,
-687,273,-319,250,-233]],[[209,-124],[0,0],[209,-124],[351,13],[351,13,463,-164,448,-246],[433,-328,347,-353,209,-124]],[[87,-56],[0,0],[87,-56],[130,104],[130,104,302,55,342,13],[382,-29,472,-212,87,-56]],[[-6,-69],[0,1],[-6,-69],[-115,51],[-115,51,2,111,97,106],[192,101,174,-17,-6,-69]],[[-49,-105],[0,0],[-49,-105],[-180,-30],[-180,-30,-157,21,-117,51],[-77,82,33,6,-49,-105]],[[-83,-145],[0,0],[-83,-145],[-272,-171],[-272,-171,-267,-109,-184,-37],[-101,36,-72,-107,-83,-145]]]},swingBair:{name:"swingBair",
frames:4,qa:"132.623,-222L0.623,0L132.623,-222l-112,-78c0,0,-108,-177,-105,-221S-113.377,-505,132.623,-222 166,-167L0,0L166,-167l49,46c0,0,-59.5,-54,-86,-104S122,-190.5,166,-167 63.333,-148l-62,148L63.333,-148l125,130c0,0,102.5,-31,-21,-150S235.333,-129.5,63.333,-148 -69.757,-137.066l70,137L-69.757,-137.066l119,137c0,0,93,6,133,-17S309.438,-119.075,-69.757,-137.066 -253,-142.695l253,143L-253,-142.695l-72,170c0,0,126,27.5,213,-3S80,-79.695,-253,-142.695 -298,-296.852l298,297L-298,-296.852l-196,-9c0,0,-8,155,144,318S-299,-157.852,-298,-296.852 -229,-397L0,0L-229,-397l-99,-188c0,0,-151,98,-166,284S-234,-408,-229,-397 -105,-413L0,0l-105,-414l67,-173c0,0,-145,-57,-294,1S-315,-420,-105,-413 -91,-409L0,0L-91,-409l71,-173c0,0,-7,-3,-50,-17S-120,-430,-91,-409".split(" "),
path:[[[133,-222],[1,0],[133,-222],[21,-300],[21,-300,-87,-477,-84,-521],[-81,-565,-113,-505,133,-222]],[[166,-167],[0,0],[166,-167],[215,-121],[215,-121,156,-175,129,-225],[103,-275,122,-190,166,-167]],[[63,-148],[1,0],[63,-148],[188,-18],[188,-18,291,-49,167,-168],[44,-287,235,-129,63,-148]],[[-70,-137],[0,0],[-70,-137],[49,0],[49,0,142,6,182,-17],[222,-40,309,-119,-70,-137]],[[-253,-143],[0,0],[-253,-143],[-325,27],[-325,27,-199,55,-112,24],[-25,-6,80,-80,-253,-143]],[[-298,-297],[0,0],[-298,-297],
[-494,-306],[-494,-306,-502,-151,-350,12],[-198,175,-299,-158,-298,-297]],[[-229,-397],[0,0],[-229,-397],[-328,-585],[-328,-585,-479,-487,-494,-301],[-509,-115,-234,-408,-229,-397]],[[-105,-413],[0,0],[-105,-414],[-38,-587],[-38,-587,-183,-644,-332,-586],[-481,-528,-315,-420,-105,-413]],[[-91,-409],[0,0],[-91,-409],[-20,-582],[-20,-582,-27,-585,-70,-599],[-113,-613,-120,-430,-91,-409]]]},swingNair1:{name:"swingNair1",frames:4,qa:["-39,-260L0,0L-39,-260l-112,45c0,0,-167,75,-197,77S-191,-253,-39,-260","247.523,-214L0.523,0L247.523,-214l189,30c0,0,-469,-88,-469,-80S250.523,-214,247.523,-214",
"131,-235L0,0L131,-235l-26,-40c0,0,293,33,338,88S31,-286,131,-235","-3.748,-281l4,281L-3.748,-281l-103,-157c0,0,74,-2,203,165S2.252,-298,-3.748,-281"],path:[[[-39,-260],[0,0],[-39,-260],[-151,-215],[-151,-215,-318,-140,-348,-138],[-378,-136,-191,-253,-39,-260]],[[248,-214],[1,0],[248,-214],[437,-184],[437,-184,-32,-272,-32,-264],[-32,-256,251,-214,248,-214]],[[131,-235],[0,0],[131,-235],[105,-275],[105,-275,398,-242,443,-187],[488,-132,31,-286,131,-235]],[[-4,-281],[0,0],[-4,-281],[-107,-438],[-107,
-438,-33,-440,96,-273],[225,-106,2,-298,-4,-281]]]},swingNair2:{name:"swingNair2",frames:4,qa:["38.995,-187l-39,187l39,-186l-120,-68c0,0,-141.5,-130.5,-67,-133S-79.505,-295,38.995,-187","213.352,-150L0.352,0L213.352,-150l172,110c0,0,-38,27,-389,-163S177.352,-103,213.352,-150","-16.922,-268l17,268L-16.922,-268l100,42l307,185C390.078,-41,-4.922,-270,-16.922,-268","-216.494,-395l217,395L-216.494,-395l-155,-107c0,0,429,223,403,239S-187.494,-377,-216.494,-395"],path:[[[39,-187],[0,0],[39,-186],[-81,-254],[-81,
-254,-222,-384,-148,-387],[-74,-390,-80,-295,39,-187]],[[213,-150],[0,0],[213,-150],[385,-40],[385,-40,347,-13,-4,-203],[-355,-393,177,-103,213,-150]],[[-17,-268],[0,0],[-17,-268],[83,-226],[390,-41],[390,-41,-5,-270,-17,-268]],[[-216,-395],[1,0],[-216,-395],[-371,-502],[-371,-502,58,-279,32,-263],[6,-247,-187,-377,-216,-395]]]},swingUpair:{name:"swingUpair",frames:4,qa:"169,-366L0,0L169,-366l161,80c0,0,-42.899,166.873,-119,230S231.949,-175.593,169,-366 67,-462L0,0L67,-462l166,-85c0,0,88,117,94,205S363,-237,67,-462 -52.549,-483l53,483L-52.549,-483l45,-182c0,0,142.181,35.103,192,77S316.155,-483,-52.549,-483 -176.169,-422l176,422L-176.169,-422l-104,-164c0,0,100,-63,166,-70S135.831,-631,-176.169,-422 -235,-335L0,0L-235,-335l-144,-140c0,0,25.788,-49.426,75,-90C-254.788,-605.574,-133.082,-532.903,-235,-335 -236,-229L0,0L-236,-229l-164,-116c0,0,-8,-9,8,-76S-243,-491,-236,-229 -212,-149L0,0L-212,-149l-172,-70c0,0,-9,-3,-15,-79S-269,-312,-212,-149 -173,-107L0,0L-173,-107l-180,-12c0,0,-9,-8,-23,-62S-309,-246,-173,-107 -129,-86L0,0L-129,-86l-168,61c0,0,-21,0,-41,-57S-238,-139,-129,-86 -84,-80.007l84,80L-84,-80.007l-153,102c0,0,-41,-19,-64,-53S-202,-80.007,-84,-80.007".split(" "),
path:[[[169,-366],[0,0],[169,-366],[330,-286],[330,-286,287,-119,211,-56],[135,7,232,-176,169,-366]],[[67,-462],[0,0],[67,-462],[233,-547],[233,-547,321,-430,327,-342],[333,-254,363,-237,67,-462]],[[-53,-483],[0,0],[-53,-483],[-8,-665],[-8,-665,134,-630,184,-588],[234,-546,316,-483,-53,-483]],[[-176,-422],[0,0],[-176,-422],[-280,-586],[-280,-586,-180,-649,-114,-656],[-48,-663,136,-631,-176,-422]],[[-235,-335],[0,0],[-235,-335],[-379,-475],[-379,-475,-353,-524,-304,-565],[-255,-606,-133,-533,-235,
-335]],[[-236,-229],[0,0],[-236,-229],[-400,-345],[-400,-345,-408,-354,-392,-421],[-376,-488,-243,-491,-236,-229]],[[-212,-149],[0,0],[-212,-149],[-384,-219],[-384,-219,-393,-222,-399,-298],[-405,-374,-269,-312,-212,-149]],[[-173,-107],[0,0],[-173,-107],[-353,-119],[-353,-119,-362,-127,-376,-181],[-390,-235,-309,-246,-173,-107]],[[-129,-86],[0,0],[-129,-86],[-297,-25],[-297,-25,-318,-25,-338,-82],[-358,-139,-238,-139,-129,-86]],[[-84,-80],[0,0],[-84,-80],[-237,22],[-237,22,-278,3,-301,-31],[-324,
-65,-202,-80,-84,-80]]]},swingUpb:{name:"swingUpb",frames:4,qa:"-85,-100L0,0L-85,-100l-188,73c0,0,-86,-140,-46,-272S-130,-160,-85,-100 67.578,-115.246l-67,115L67.578,-115.246l46,195c0,0,-205,61,-344,-65S17.578,-72.246,67.578,-115.246 134,-142.348L0,0.652L134,-142.348l167,113c0,0,-75,95,-171,105S-43,-31.348,134,-142.348 213,-300.235L0,0.765L213,-300.235l193,19c0,0,-91,534,-115,572S33,663.765,213,-300.235 164.245,-457.263l-164,457L164.245,-457.263l141,-130c0,0,100.81,421.001,92,643S226.245,356.737,164.245,-457.263 127,-511L0,0L127,-511l131,-135c0,0,38.229,217.695,34,246S176.46,-107.697,127,-511 95,-523L0,0L95,-523l121,-138c0,0,21.5,41.5,30,64S123.5,-396,95,-523 60,-531L0,0L60,-531l99,-154c0,0,39.5,52.5,45,64S99.5,-413,60,-531 22,-525L0,0L22,-525l45,-195c0,0,60.5,37,76,68S81,-437.5,22,-525".split(" "),
path:[[[-85,-100],[0,0],[-85,-100],[-273,-27],[-273,-27,-359,-167,-319,-299],[-279,-431,-130,-160,-85,-100]],[[68,-115],[1,0],[68,-115],[114,80],[114,80,-91,141,-230,15],[-369,-111,18,-72,68,-115]],[[134,-142],[0,1],[134,-142],[301,-29],[301,-29,226,66,130,76],[34,86,-43,-31,134,-142]],[[213,-300],[0,1],[213,-300],[406,-281],[406,-281,315,253,291,291],[267,329,33,664,213,-300]],[[164,-457],[0,0],[164,-457],[305,-587],[305,-587,406,-166,397,56],[388,278,226,357,164,-457]],[[127,-511],[0,0],[127,-511],
[258,-646],[258,-646,296,-428,292,-400],[288,-372,176,-108,127,-511]],[[95,-523],[0,0],[95,-523],[216,-661],[216,-661,238,-619,246,-597],[255,-575,124,-396,95,-523]],[[60,-531],[0,0],[60,-531],[159,-685],[159,-685,199,-632,204,-621],[210,-610,100,-413,60,-531]],[[22,-525],[0,0],[22,-525],[67,-720],[67,-720,128,-683,143,-652],[159,-622,81,-437,22,-525]]]},swingUptilt:{name:"swingUptilt",frames:4,qa:"160.099,-173l-142,122l-18,51l18,-51c0,0,-90.5,7,-115,-15S175.099,-173.5,160.099,-173 305.175,-296L0.175,0L305.175,-296l103,145c0,0,-185,199,-400,102S181.175,-58,305.175,-296 276,-453L0,0L276,-453l151,-95c0,0,97,187,-15,385S377,-262,276,-453 175,-512L0,0L175,-512l62,-175c0,0,116,52,170,118S486,-374,175,-512 86.843,-504l-86,504L86.843,-504l-24,-182c0,0,121,-22,183,-1S368.843,-552,86.843,-504 12.059,-460l-12,460L12.059,-460l-54,-161c0,0,90,-70,113,-68S212.059,-589,12.059,-460 -32.058,-364l32,364L-32.058,-364l-109,-142c0,0,52,-75,64,-88S76.942,-643,-32.058,-364 -37,-272L0,0L-37,-272l-165,-111c0,0,5,-53,39,-103S-63,-534,-37,-272 6.036,-196l-6,196L6.036,-196l-123,49c0,0,-80,-96,-91,-192S-100.964,-325,6.036,-196 21.047,-168l-21,168L21.047,-168l-108,88c0,0,-10,-3,-32,-70S-12.953,-192,21.047,-168".split(" "),
path:[[[160,-173],[18,-51],[0,0],[18,-51],[18,-51,-72,-44,-97,-66],[-121,-88,175,-173,160,-173]],[[305,-296],[0,0],[305,-296],[408,-151],[408,-151,223,48,8,-49],[-207,-146,181,-58,305,-296]],[[276,-453],[0,0],[276,-453],[427,-548],[427,-548,524,-361,412,-163],[300,35,377,-262,276,-453]],[[175,-512],[0,0],[175,-512],[237,-687],[237,-687,353,-635,407,-569],[461,-503,486,-374,175,-512]],[[87,-504],[1,0],[87,-504],[63,-686],[63,-686,184,-708,246,-687],[308,-666,369,-552,87,-504]],[[12,-460],[0,0],[12,
-460],[-42,-621],[-42,-621,48,-691,71,-689],[94,-687,212,-589,12,-460]],[[-32,-364],[0,0],[-32,-364],[-141,-506],[-141,-506,-89,-581,-77,-594],[-65,-607,77,-643,-32,-364]],[[-37,-272],[0,0],[-37,-272],[-202,-383],[-202,-383,-197,-436,-163,-486],[-129,-536,-63,-534,-37,-272]],[[6,-196],[0,0],[6,-196],[-117,-147],[-117,-147,-197,-243,-208,-339],[-219,-435,-101,-325,6,-196]],[[21,-168],[0,0],[21,-168],[-87,-80],[-87,-80,-97,-83,-119,-150],[-141,-217,-13,-192,21,-168]]]},swingDtilt:{name:"swingDtilt",frames:4,
qa:["189,-88L0,0L189,-88l157,37L68,-105C68,-105,181.5,-96,189,-88","406,-53L0,0L406,-53L569,-2c0,0,-288.5,-70.5,-292,-72S405,-61,406,-53","408,-60L0,0L408,-60l186,50c0,0,-14.5,7.5,-27,3S409.5,-44,408,-60","405,-63L0,0L405,-63l191,52c0,0,-0.5,3.5,-7,3S407,-57,405,-63"],path:[[[189,-88],[0,0],[189,-88],[346,-51],[68,-105],[68,-105,182,-96,189,-88]],[[406,-53],[0,0],[406,-53],[569,-2],[569,-2,281,-72,277,-74],[274,-76,405,-61,406,-53]],[[408,-60],[0,0],[408,-60],[594,-10],[594,-10,580,-2,567,-7],[555,
-12,410,-44,408,-60]],[[405,-63],[0,0],[405,-63],[596,-11],[596,-11,596,-7,589,-8],[583,-9,407,-57,405,-63]]]},swingFsmash:{name:"swingFsmash",frames:7,qa:"-73.992,-309l74,309L-73.992,-309l-30,147c0,0,61,52,168,25S-35.492,-151.5,-73.992,-309z -48,-341L0,0L-48,-341l-77,86c0,0,-4,38.5,11,77S-128.5,-166,-48,-341z 87.246,-450l-87,450L87.246,-450l-147,66c0,0,-7.5,2.5,-44,79S-54.754,-362,87.246,-450z 324,-456L0,0L324,-456L197,-597c0,0,-75,4,-192,113S54,-483,324,-456z 507,-276L0,0L507,-276l162,-109c0,0,-119,-178,-376,-217S452,-415,507,-276z 401,-12L0,0L401,-12l197,-9c0,0,59,-141,85,-328S612,-519,401,-12z 401,-6L0,0L401,-6l206,-2c0,0,-2.5,-6.5,-14,-16S399,-33.5,401,-6z".split(" "),
path:[[[-74,-309],[0,0],[-74,-309],[-104,-162],[-104,-162,-43,-110,64,-137],[171,-164,-35,-151,-74,-309]],[[-48,-341],[0,0],[-48,-341],[-125,-255],[-125,-255,-129,-216,-114,-178],[-99,-140,-128,-166,-48,-341]],[[87,-450],[0,0],[87,-450],[-60,-384],[-60,-384,-67,-381,-104,-305],[-140,-229,-55,-362,87,-450]],[[324,-456],[0,0],[324,-456],[197,-597],[197,-597,122,-593,5,-484],[-112,-375,54,-483,324,-456]],[[507,-276],[0,0],[507,-276],[669,-385],[669,-385,550,-563,293,-602],[36,-641,452,-415,507,-276]],
[[401,-12],[0,0],[401,-12],[598,-21],[598,-21,657,-162,683,-349],[709,-536,612,-519,401,-12]],[[401,-6],[0,0],[401,-6],[607,-8],[607,-8,605,-14,593,-24],[582,-34,399,-33,401,-6]]]},swingFtilt:{name:"swingFtilt",frames:8,qa:"-52.67,-165l53,165L-52.67,-165l-111,-124c0,0,88,-147,227,-37S-139.67,-362,-52.67,-165z 169.996,-90l-170,90L169.996,-90l-137,87c0,0,-92,-17,-180,-169S-93.004,-153,169.996,-90z 351,-198.912L0,0.088L351,-198.912l76,173c0,0,-89,79,-287,60S52,25.088,351,-198.912z 395,-290L0,0L395,-290l195,-10c0,0,14,91,-74,197S367,-54,395,-290z 328,-399L0,0L328,-399l139,-146c0,0,77,84,117,217S445,-250,328,-399z 243,-442L0,0L243,-442l61,-191c0,0,19,-5,107,57S505,-340,243,-442z 151,-431L0,0L151,-431l-45,-195c0,0,87,-22,184,-10S400,-462,151,-431z 140,-428L0,0L140,-428L89,-619c0,0,14,-16,81,-18S186,-429,140,-428z".split(" "),
path:[[[-53,-165],[0,0],[-53,-165],[-164,-289],[-164,-289,-76,-436,63,-326],[202,-216,-140,-362,-53,-165]],[[170,-90],[0,0],[170,-90],[33,-3],[33,-3,-59,-20,-147,-172],[-235,-324,-93,-153,170,-90]],[[351,-199],[0,0],[351,-199],[427,-26],[427,-26,338,53,140,34],[-58,15,52,25,351,-199]],[[395,-290],[0,0],[395,-290],[590,-300],[590,-300,604,-209,516,-103],[428,3,367,-54,395,-290]],[[328,-399],[0,0],[328,-399],[467,-545],[467,-545,544,-461,584,-328],[624,-195,445,-250,328,-399]],[[243,-442],[0,0],[243,
-442],[304,-633],[304,-633,323,-638,411,-576],[499,-514,505,-340,243,-442]],[[151,-431],[0,0],[151,-431],[106,-626],[106,-626,193,-648,290,-636],[387,-624,400,-462,151,-431]],[[140,-428],[0,0],[140,-428],[89,-619],[89,-619,103,-635,170,-637],[237,-639,186,-429,140,-428]]]},swingDashAttack:{name:"swingDashAttack",frames:8,qa:"337,-126.915L0,0.085L337,-126.915l117,106c0,0,-114,96,-314,42S151,30.085,337,-126.915z 351,-172L0,0L351,-172l201,28c0,0,-22,80,-78,111S365,-1,351,-172z 332,-283L0,0L332,-283l204,-45c0,0,21,89,16,163S379,-25,332,-283z 233,-360L0,0L233,-360l167,-139c0,0,79,57,132,153S429,-228,233,-360z 134,-349L0,0L134,-349l100,-146c0,0,51,-14,125,-8S273,-350,134,-349z 83,-324L0,0L83,-324l56,-97c0,0,71.5,-64.5,99,-77S134,-327,83,-324z 46,-292L0,0L46,-292l27,-66c0,0,58,-58.5,67,-65S108,-320.5,46,-292z 6.121,-257l-6,257L6.121,-257l-19,-39c0,0,34,-37,80,-59S53.121,-288,6.121,-257z".split(" "),
path:[[[337,-127],[0,0],[337,-127],[454,-21],[454,-21,340,75,140,21],[-60,-33,151,30,337,-127]],[[351,-172],[0,0],[351,-172],[552,-144],[552,-144,530,-64,474,-33],[418,-2,365,-1,351,-172]],[[332,-283],[0,0],[332,-283],[536,-328],[536,-328,557,-239,552,-165],[547,-91,379,-25,332,-283]],[[233,-360],[0,0],[233,-360],[400,-499],[400,-499,479,-442,532,-346],[585,-250,429,-228,233,-360]],[[134,-349],[0,0],[134,-349],[234,-495],[234,-495,285,-509,359,-503],[433,-497,273,-350,134,-349]],[[83,-324],[0,0],
[83,-324],[139,-421],[139,-421,211,-485,238,-498],[266,-510,134,-327,83,-324]],[[46,-292],[0,0],[46,-292],[73,-358],[73,-358,131,-416,140,-423],[149,-430,108,-320,46,-292]],[[6,-257],[0,0],[6,-257],[-13,-296],[-13,-296,21,-333,67,-355],[113,-377,53,-288,6,-257]]]},swingUpsmash:{name:"swingUpsmash",frames:4,qa:["208,-268L0,0L208,-268l-25,-190c0,0,-10,17,-13,34S123.5,-224.5,208,-268z","74,-413L0,0L74,-413L58,-592l126,136l24,179L74,-413z","2,-702l57,109l13,173L7,-511L0,0l7,-511L2,-702z","4,-700l28,56l7,159L2,-511L0,0l2,-511L4,-700z"],
path:[[[208,-268],[0,0],[208,-268],[183,-458],[183,-458,173,-441,170,-424],[167,-407,124,-224,208,-268]],[[74,-413],[0,0],[74,-413],[58,-592],[184,-456],[208,-277],[74,-413]],[[2,-702],[59,-593],[72,-420],[7,-511],[0,0],[7,-511],[2,-702]],[[4,-700],[32,-644],[39,-485],[2,-511],[0,0],[2,-511],[4,-700]]]},swingDsmash1:{name:"swingDsmash1",frames:6,qa:"62.995,-217l-63,217L62.995,-217l-115,-88c0,0,18,-77,139,-108S49.995,-345,62.995,-217z 276.213,-85l-276,85L276.213,-85l-75,45c0,0,-184,-117,-247,-208S167.213,-151.5,276.213,-85z 428,-121L0,0L428,-121l168,82c0,0,-133,58,-353,11S373,-67,428,-121z 374,-148L0,0L374,-148L609,-36L378,-142L374,-148z 249,-157L0,0L249,-157l83,91c0,0,211.5,21,234,9S380.5,-146.5,249,-157z 249,-155L0,0L249,-155l81,91l-3,-24L249,-155z".split(" "),
path:[[[63,-217],[0,0],[63,-217],[-52,-305],[-52,-305,-34,-382,87,-413],[208,-444,50,-345,63,-217]],[[276,-85],[0,0],[276,-85],[201,-40],[201,-40,17,-157,-46,-248],[-109,-339,167,-151,276,-85]],[[428,-121],[0,0],[428,-121],[596,-39],[596,-39,463,19,243,-28],[23,-75,373,-67,428,-121]],[[374,-148],[0,0],[374,-148],[609,-36],[378,-142],[374,-148]],[[249,-157],[0,0],[249,-157],[332,-66],[332,-66,544,-45,566,-57],[589,-69,381,-146,249,-157]],[[249,-155],[0,0],[249,-155],[330,-64],[327,-88],[249,-155]]]},
swingDsmash2:{name:"swingDsmash2",frames:9,qa:"278,-117L0,0L278,-117l175,-8c0,0,20.5,45.5,20,76S424,-80,278,-117z 213,-130L0,0L213,-130l180,-4l61,9l-201,2L213,-130z 87,-101L0,0L87,-101l142,-33h72L87,-101z -195.064,-70l195,70L-195.064,-70l-4,42c0,0,389,-66,451,-103S41.936,-66,-195.064,-70z -275,-64L0,0L-275,-64l-211,34c0,0,97.211,15.146,147,11S-162.396,-72.042,-275,-64z -246,-82L0,0L-246,-82l-245,51l31,-15L-246,-82z -187,-103L0,0L-187,-103l-75,-35c0,0,-146.5,51.5,-190,90S-213.5,-91.5,-187,-103z -45.546,-145l46,145L-45.546,-145l188,-99c0,0,-65,-40,-388,98S-53.546,-144,-45.546,-145z 6.054,-160l-6,160L6.054,-160l171,-91c0,0,-23.5,1.5,-34,7S-46.946,-152.5,6.054,-160z".split(" "),
path:[[[278,-117],[0,0],[278,-117],[453,-125],[453,-125,474,-79,473,-49],[473,-19,424,-80,278,-117]],[[213,-130],[0,0],[213,-130],[393,-134],[454,-125],[253,-123],[213,-130]],[[87,-101],[0,0],[87,-101],[229,-134],[301,-134],[87,-101]],[[-195,-70],[0,0],[-195,-70],[-199,-28],[-199,-28,190,-94,252,-131],[314,-168,42,-66,-195,-70]],[[-275,-64],[0,0],[-275,-64],[-486,-30],[-486,-30,-389,-15,-339,-19],[-289,-23,-162,-72,-275,-64]],[[-246,-82],[0,0],[-246,-82],[-491,-31],[-460,-46],[-246,-82]],[[-187,-103],
[0,0],[-187,-103],[-262,-138],[-262,-138,-408,-86,-452,-48],[-496,-10,-213,-91,-187,-103]],[[-46,-145],[0,0],[-46,-145],[142,-244],[142,-244,77,-284,-246,-146],[-569,-8,-54,-144,-46,-145]],[[6,-160],[0,0],[6,-160],[177,-251],[177,-251,154,-249,143,-244],[133,-239,-47,-152,6,-160]]]},swingSideB:{name:"swingSideB",frames:7,qa:"31.008,-389l-31,389L31.008,-389l-121,4c0,0,-37,62.5,-17,139S-137.492,-313.5,31.008,-389z 259.988,-406l-260,406L259.988,-406l-79,-166c0,0,-182,-11,-253,139S30.988,-441,259.988,-406z 392,-268L0,0L392,-268l167,-92c0,0,-134,-204,-309,-204S338,-376,392,-268z 353,-124L0,0L353,-124L524,-13c0,0,96,-169,32,-349S427,-235,353,-124z 213,-185L0,0L213,-185l95,120c0,0,151,71,210,55S279,-144,213,-185z 79,-276L0,0L79,-276l-70,-2c0,0,233,182,298,214S321,-103,79,-276z 60.08,-293L0.08,0L60.08,-293l-95,-41c0,0,14,30,43,55S68.08,-219,60.08,-293z".split(" "),
path:[[[31,-389],[0,0],[31,-389],[-90,-385],[-90,-385,-127,-322,-107,-246],[-87,-170,-137,-313,31,-389]],[[260,-406],[0,0],[260,-406],[181,-572],[181,-572,-1,-583,-72,-433],[-143,-283,31,-441,260,-406]],[[392,-268],[0,0],[392,-268],[559,-360],[559,-360,425,-564,250,-564],[75,-564,338,-376,392,-268]],[[353,-124],[0,0],[353,-124],[524,-13],[524,-13,620,-182,556,-362],[492,-542,427,-235,353,-124]],[[213,-185],[0,0],[213,-185],[308,-65],[308,-65,459,6,518,-10],[577,-26,279,-144,213,-185]],[[79,-276],
[0,0],[79,-276],[9,-278],[9,-278,242,-96,307,-64],[372,-32,321,-103,79,-276]],[[60,-293],[0,0],[60,-293],[-35,-334],[-35,-334,-21,-304,8,-279],[37,-254,68,-219,60,-293]]]},swingJab1:{name:"swingJab1",frames:10,qa:"299.051,-139.069l-299,139L299.051,-139.069l79,167c0,0,-279,117,-493,-122S4.051,-57.069,299.051,-139.069z 374,-230.933L0,0.067L374,-230.933l179,63c0,0,-50,112,-138,168C327,56.067,208,18.067,374,-230.933z 372,-341L0,0L372,-341l203,-49c0,0,17,129,-11,190S418,-110,372,-341z 313,-438L0,0L313,-438l207,-73c0,0,28,52,56,118S433,-242,313,-438z 163,-457L0,0L163,-457l153,-158c0,0,80,28,118,54S513,-423,163,-457z 48,-399L0,0L48,-399l62,-190c0,0,79,-23,139,-26S231,-479,48,-399z 6,-343L0,0L6,-343l15,-170c0,0,-13,1,47,-46S94,-448,6,-343z -2.717,-309l3,309L-2.717,-309l-53,-131c0,0,2,-17,28,-38S11.283,-359,-2.717,-309z -3,-268L0,0L-3,-268l-117,-98c0,0,-8,-5,23,-37S-4,-341,-3,-268z 3,-240L0,0L3,-240l-138,-44c0,0,-3,-9,11,-61S-11,-299,3,-240z".split(" "),
path:[[[299,-139],[0,0],[299,-139],[378,28],[378,28,99,145,-115,-94],[-329,-333,4,-57,299,-139]],[[374,-231],[0,0],[374,-231],[553,-168],[553,-168,503,-56,415,0],[327,56,208,18,374,-231]],[[372,-341],[0,0],[372,-341],[575,-390],[575,-390,592,-261,564,-200],[536,-139,418,-110,372,-341]],[[313,-438],[0,0],[313,-438],[520,-511],[520,-511,548,-459,576,-393],[604,-327,433,-242,313,-438]],[[163,-457],[0,0],[163,-457],[316,-615],[316,-615,396,-587,434,-561],[472,-535,513,-423,163,-457]],[[48,-399],[0,0],
[48,-399],[110,-589],[110,-589,189,-612,249,-615],[309,-618,231,-479,48,-399]],[[6,-343],[0,0],[6,-343],[21,-513],[21,-513,8,-512,68,-559],[128,-606,94,-448,6,-343]],[[-3,-309],[0,0],[-3,-309],[-56,-440],[-56,-440,-54,-457,-28,-478],[-2,-499,11,-359,-3,-309]],[[-3,-268],[0,0],[-3,-268],[-120,-366],[-120,-366,-128,-371,-97,-403],[-66,-435,-4,-341,-3,-268]],[[3,-240],[0,0],[3,-240],[-135,-284],[-135,-284,-138,-293,-124,-345],[-110,-397,-11,-299,3,-240]]]},swingJab2:{name:"swingJab2",frames:9,qa:"384,-164.082L0,-0.082L384,-164.082l122,151c0,0,-99,89,-283,38S364,-81.082,384,-164.082z 374,-279L0,0L374,-279l164,29c0,0,34,42,21,147S436,15,374,-279z 285,-368L0,0L285,-368l88,-32c0,0,154,120,166,149S504,-178,285,-368z 167,-385L0,0L167,-385l35,-39c0,0,138,11,171,24S341,-362,167,-385z 79,-350L0,0L79,-350l127,-73l7,4C213,-419,88.5,-342.5,79,-350z 18,-302L0,0L18,-302l-15,-1l54,-30L18,-302z 7.272,-259l-7,259L7.272,-259l-57,17c0,0,40.5,-52.5,53,-61S13.272,-291.5,7.272,-259z -1,-229L0,0L-1,-229l-82,21c0,0,45,-54,60,-66S-1,-244.5,-1,-229z 10.129,-196l-10,196L10.129,-196l-115,30c0,0,9.5,-26,19,-43S1.129,-222,10.129,-196z".split(" "),
path:[[[384,-164],[0,0],[384,-164],[506,-13],[506,-13,407,76,223,25],[39,-26,364,-81,384,-164]],[[374,-279],[0,0],[374,-279],[538,-250],[538,-250,572,-208,559,-103],[546,2,436,15,374,-279]],[[285,-368],[0,0],[285,-368],[373,-400],[373,-400,527,-280,539,-251],[551,-222,504,-178,285,-368]],[[167,-385],[0,0],[167,-385],[202,-424],[202,-424,340,-413,373,-400],[406,-387,341,-362,167,-385]],[[79,-350],[0,0],[79,-350],[206,-423],[213,-419],[213,-419,89,-342,79,-350]],[[18,-302],[0,0],[18,-302],[3,-303],
[57,-333],[18,-302]],[[7,-259],[0,0],[7,-259],[-50,-242],[-50,-242,-9,-294,3,-303],[16,-312,13,-291,7,-259]],[[-1,-229],[0,0],[-1,-229],[-83,-208],[-83,-208,-38,-262,-23,-274],[-8,-286,-1,-244,-1,-229]],[[10,-196],[0,0],[10,-196],[-105,-166],[-105,-166,-95,-192,-86,-209],[-76,-226,1,-222,10,-196]]]},hitFlair:{name:"hitFlair",frames:8},hitSparks:{name:"hitSparks",frames:3,af:["-35.038,-58.969l-61,-167l27,26l-26,-117l53,126l-40,-235l57,219l15,-68l21,111l63,-243l-11,228l33,-67l-6,59l45,-123l-67,221l36,-64l-38,99l78,-66l-37,46l46,-13l-75,78l115,-39l-47,28l45,7l-69,21l88,23l-95,14l41,10l-40,7l21,24l-40,-2l26,45l-59,-42C63.962,87.031,19.962,-174.969,-35.038,-58.969"],
bf:["212.375,-99.155l103,-69l-37,38l65,-20l-47,32l67,-21l-61,46l18,11l-14,7l84,-2l-151,29l39,-25l-27,-2l23,-10l-66,20l51,-30l-31,2l33,-20L212.375,-99.155"],uc:[[-35,-59],[-96,-226],[-69,-200],[-95,-317],[-42,-191],[-82,-426],[-25,-207],[-10,-275],[11,-164],[74,-407],[63,-179],[96,-246],[90,-187],[135,-310],[68,-89],[104,-153],[66,-54],[144,-120],[107,-74],[153,-87],[78,-9],[193,-48],[146,-20],[191,-13],[122,8],[210,31],[115,45],[156,55],[116,62],[137,86],[97,84],[123,129],[64,87]],bc:[[212,-99],[315,
-168],[278,-130],[343,-150],[296,-118],[363,-139],[302,-93],[320,-82],[306,-75],[390,-77],[239,-48],[278,-73],[251,-75],[274,-85],[208,-65],[259,-95],[228,-93],[261,-113],[212,-99]]},hitCurve:{name:"hitCurve",frames:10,qa:"M-31.706,133.877c0,0,41.958-39.632,45.247-135.092c3.288-95.459-43.856-144.771-43.856-144.771S19.189-1.544-31.706,133.877"},groundBounce:{name:"groundBounce",frames:8,Da:"rgba(102,255,56,",path:[[[0,0],[-94,0],[-207,-259],[-110,-81],[-120,-116],[-77,-51],[-155,-184],[-95,-109],[-99,-171],[-63,-76],
[-72,-128],[-53,-81],[-89,-287],[-41,-108],[-35,-177],[-20,-125],[-22,-419],[-5,-170],[8,-227],[10,-130],[17,-208],[23,-123],[58,-303],[49,-161],[105,-433],[64,-144],[81,-223],[61,-100],[74,-123],[70,-96],[91,-165],[83,-117],[115,-182],[95,-112],[157,-185],[94,-83],[113,-100],[104,-52],[143,-120],[127,-80],[187,-183],[165,-129],[189,-162],[96,-1]],[[0,0],[-168,-4],[-326,-135],[-165,-38],[-300,-162],[-176,-92],[-228,-175],[-88,-72],[-140,-200],[-92,-137],[-137,-377],[-59,-129],[-79,-316],[-23,-150],
[-8,-211],[12,-149],[25,-187],[23,-88],[43,-184],[41,-137],[61,-253],[63,-146],[89,-207],[86,-118],[201,-380],[97,-74],[146,-97],[113,-59],[172,-94],[167,-79],[219,-133],[186,-59],[198,-59],[177,-27],[315,-125],[169,0]],[[0,0],[-227,-1],[-515,-148],[-220,-23],[-461,-171],[-283,-105],[-367,-167],[-253,-120],[-290,-161],[-140,-86],[-284,-376],[-128,-109],[-144,-201],[-117,-163],[-127,-241],[-107,-179],[-115,-261],[-38,-97],[-32,-185],[-19,-106],[-1,-143],[6,-104],[45,-312],[49,-119],[100,-202],[70,
-121],[105,-142],[98,-110],[211,-336],[122,-57],[154,-84],[140,-57],[377,-171],[175,-34],[317,-101],[286,-68],[538,-189],[232,0]],[[0,0],[-281,0],[-448,-84],[-253,-45],[-610,-172],[-265,-73],[-382,-146],[-226,-75],[-303,-133],[-181,-81],[-264,-160],[-204,-133],[-352,-362],[-179,-153],[-90,-99],[-92,-208],[-50,-118],[-27,-233],[-5,-140],[14,-162],[34,-115],[119,-292],[94,-82],[215,-272],[151,-96],[226,-194],[173,-76],[439,-182],[243,-59],[448,-125],[210,-14],[558,-107],[275,2]],[[0,0],[-327,-2],[-622,
-59],[-205,-20],[-540,-139],[-241,-53],[-575,-218],[-193,-75],[-353,-249],[-159,-62],[-196,-161],[-169,-123],[-291,-392],[-73,-63],[-77,-147],[-21,-54],[-34,-204],[0,-59],[5,-139],[17,-84],[59,-142],[52,-85],[135,-223],[144,-128],[192,-176],[197,-111],[313,-228],[202,-52],[396,-111],[342,-75],[552,-139],[315,-36],[361,-38],[328,-13],[616,-62],[329,0]],[[0,0],[-325,0],[-655,-44],[-315,-10],[-399,-51],[-266,-36],[-618,-137],[-253,-46],[-337,-108],[-196,-59],[-286,-164],[-182,-69],[-305,-257],[-177,
-125],[-235,-265],[-82,-75],[-67,-114],[-64,-72],[-34,-360],[9,-105],[49,-176],[53,-69],[84,-141],[88,-80],[204,-161],[192,-132],[295,-200],[200,-47],[546,-153],[235,-20],[435,-46],[370,-10],[704,-52],[359,2]],[[0,0],[-394,1],[-694,-51],[-202,-16],[-625,-132],[-224,-38],[-339,-111],[-194,-51],[-285,-151],[-187,-69],[-323,-263],[-183,-124],[-246,-274],[-70,-55],[-90,-156],[-56,-97],[-34,-264],[19,-82],[59,-170],[51,-81],[96,-118],[91,-50],[213,-164],[208,-130],[309,-196],[185,-47],[539,-139],[257,
-31],[355,-38],[314,-15],[661,-40],[378,2]],[[0,0],[-398,3],[-760,-25],[-323,-6],[-333,-15],[-80,-23],[-121,-41],[-16,-24],[-35,-41],[-1,-27],[25,-45],[21,-27],[162,-41],[148,-24],[306,-27],[246,-11],[546,-41],[421,-12],[838,-53],[403,4]]]},furaFura:{name:"furaFura",frames:30},breakShield:{name:"breakShield",frames:20},shieldup:{name:"shieldup",frames:6},wallBounce:{name:"wallBounce"},tech:{name:"tech",frames:9},start:{name:"start",frames:120},entrance:{name:"entrance",frames:60},clank:{name:"clank",frames:10},powershield:{name:"powershield",frames:8},
targetDestroy:{name:"targetDestroy",frames:8}};vfx.wallBounce.path=vfx.groundBounce.path;vfx.wallBounce.Da=vfx.groundBounce.Da;vfx.wallBounce.frames=vfx.groundBounce.frames;
dVfx={Wb:function(a,d){var e=vfxQueue[a][0].Da+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.8+")";c.save();c.translate(vfxQueue[a][2].x*stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+stage.offset[1]);c.rotate(d);b(e,vfxQueue[a][3],0,0,vfxQueue[a][0].path[vfxQueue[a][1]-1],stage.scale/4.5*.2,stage.scale/4.5*.2);c.restore()},swing:function(a){var d=vfxQueue[a][0].path[vfxQueue[a][4]],e=vfxQueue[a][3];c.fillStyle="rgba(97, 226, 255,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*
.9*.65+")";c.beginPath();for(var f=0;f<d.length;f++){var g=stage.scale/4.5*d[f][0]*.2*e+vfxQueue[a][2].x*stage.scale+stage.offset[0],h=stage.scale/4.5*d[f][1]*.2+vfxQueue[a][2].y*-stage.scale+stage.offset[1];0==f?c.moveTo(g,h):2<d[f].length?c.bezierCurveTo(g,h,stage.scale/4.5*d[f][2]*.2*e+vfxQueue[a][2].x*stage.scale+stage.offset[0],stage.scale/4.5*d[f][3]*.2+vfxQueue[a][2].y*-stage.scale+stage.offset[1],stage.scale/4.5*d[f][4]*.2*e+vfxQueue[a][2].x*stage.scale+stage.offset[0],stage.scale/4.5*d[f][5]*
.2+vfxQueue[a][2].y*-stage.scale+stage.offset[1]):c.lineTo(g,h)}c.closePath();c.fill()},impactLand:function(a){dVfx.Wb(a,0)},circleDust:function(a){for(var d=0;d<vfxQueue[a][0].Bb.length;d++){var e=(vfxQueue[a][2].x+vfxQueue[a][0].Bb[d]*(1+vfxQueue[a][1]/vfxQueue[a][0].frames))*stage.scale+stage.offset[0],f=(vfxQueue[a][2].y+4*(0+vfxQueue[a][1]/vfxQueue[a][0].frames))*-stage.scale+stage.offset[1];c.fillStyle="rgba(255,255,255,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.7+")";c.beginPath();c.arc(e,
f,stage.scale/4.5*12,twoPi,0);c.fill()}},flyingDust:function(a){c.fillStyle="rgba(255,255,255,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.7+")";c.beginPath();c.arc(vfxQueue[a][2].x*stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+stage.offset[1],stage.scale/4.5*12,twoPi,0);c.fill()},dashDust:function(a){dVfx.Wb(a,0)},doubleJumpRings:function(a){c.strokeStyle="rgba(99,190,255,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.7+")";for(var d=0;d<vfxQueue[a][0].se.length;d++)c.save(),
c.scale(1,.25),c.beginPath(),c.arc(vfxQueue[a][2].x*stage.scale+stage.offset[0],4*(vfxQueue[a][2].y*-stage.scale+stage.offset[1]),5*vfxQueue[a][1]+d*stage.scale,twoPi,0),c.lineWidth=3,c.stroke(),c.closePath(),c.restore()},blastzoneExplosion:function(a){c.save();c.translate(vfxQueue[a][2].x*stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+stage.offset[1]);c.rotate(vfxQueue[a][3]*Math.PI/180);var d="rgba(149,255,163,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.8+")";b(d,1,0,-200-(20+vfxQueue[a][1]/
20*100),vfxQueue[a][0].uc,1.3,1.3);vfxQueue[a][1]>=vfxQueue[a][0].ud[0]&&vfxQueue[a][1]<=vfxQueue[a][0].ud[1]&&b("rgb(166,223,255)",1,0,-90,vfxQueue[a][0].bc,1.5*vfxQueue[a][0].vd[vfxQueue[a][1]-1][0],1.5*vfxQueue[a][0].vd[vfxQueue[a][1]-1][1]);vfxQueue[a][1]>=vfxQueue[a][0].yc[0]&&vfxQueue[a][1]<=vfxQueue[a][0].yc[1]&&b("rgb(255,161,161)",1,0,-90,vfxQueue[a][0].bc,1.5*vfxQueue[a][0].wd[vfxQueue[a][1]-vfxQueue[a][0].yc[0]][0],1.5*vfxQueue[a][0].wd[vfxQueue[a][1]-vfxQueue[a][0].yc[0]][1]);d="rgba(242,255,93,"+
(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.8+")";b(d,1,0,0,vfxQueue[a][0].re,1.5,1.5);10>vfxQueue[a][1]&&(c.fillStyle="rgba(255,255,255,"+(10-vfxQueue[a][1])/10*.8+")",c.scale(.5,1),c.beginPath(),c.arc(0,0,vfxQueue[a][1]/10*450+170,twoPi,0),c.fill(),c.closePath());c.restore()},cliffcatchspark:function(a){c.save();c.strokeStyle="rgb(47, 194, 214)";c.lineWidth=10-vfxQueue[a][1]/3;c.beginPath();c.arc(vfxQueue[a][2].x*stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+stage.offset[1],stage.scale/
4.5*(vfxQueue[a][1]/vfxQueue[a][0].frames*12+3),twoPi,0);c.stroke();c.restore()},hitFlair:function(a){var d=vfxQueue[a][2].x*stage.scale+stage.offset[0],e=vfxQueue[a][2].y*-stage.scale+stage.offset[1];c.strokeStyle="rgba(146,217,164,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.7+")";c.lineWidth=5;c.beginPath();c.arc(d,e,15,twoPi,0);c.closePath();c.stroke();c.lineWidth=1;c.fillStyle="rgba(146,217,164,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.8+")";c.beginPath();c.moveTo(d+
3,e-3);c.lineTo(d+30,e);c.lineTo(d+3,e+3);c.lineTo(d,e+30);c.lineTo(d-3,e+3);c.lineTo(d-30,e);c.lineTo(d-3,e-3);c.lineTo(d,e-30);c.closePath();c.fill()},hitSparks:function(a){b("rgba(143,128,233,0.7)",vfxQueue[a][3],vfxQueue[a][2].x*stage.scale+stage.offset[0]+10,vfxQueue[a][2].y*-stage.scale+stage.offset[1],vfxQueue[a][0].uc,stage.scale/4.5*.2,stage.scale/4.5*.2);b("rgba(143,128,233,0.7)",vfxQueue[a][3],vfxQueue[a][2].x*stage.scale+stage.offset[0]+10,vfxQueue[a][2].y*-stage.scale+stage.offset[1],vfxQueue[a][0].bc,
stage.scale/4.5*.2,stage.scale/4.5*.2);c.save();c.translate(vfxQueue[a][2].x*stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+stage.offset[1]);c.rotate(Math.PI);b("rgba(143,128,233,0.7)",vfxQueue[a][3],0,0,vfxQueue[a][0].uc,stage.scale/4.5*.2,stage.scale/4.5*.2);b("rgba(143,128,233,0.7)",vfxQueue[a][3],0,0,vfxQueue[a][0].bc,stage.scale/4.5*.2,stage.scale/4.5*.2);c.restore()},hitCurve:function(){},groundBounce:function(a){dVfx.Wb(a,0)},wallBounce:function(a){vfxQueue[a][4]?dVfx.Wb(a,Math.PI/2):dVfx.Wb(a,1.5*Math.PI)},
furaFura:function(a){c.fillStyle="rgba(255,254,108,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.9+")";c.beginPath();c.arc(vfxQueue[a][2].x*stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+stage.offset[1],stage.scale/4.5*5,twoPi,0);c.fill()},breakShield:function(a){c.fillStyle="rgba(73,255,244,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.9+")";c.beginPath();c.arc(vfxQueue[a][2].x*stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+430,stage.scale/4.5*(10+3*vfxQueue[a][1]),
twoPi,0);c.fill();c.fillStyle="#cd8eff";for(var d=0;3>d;d++)c.beginPath(),c.arc(vfxQueue[a][2].x*stage.scale+550+100*Math.random(),vfxQueue[a][2].y*-stage.scale+380+100*Math.random(),stage.scale/4.5*8,twoPi,0),c.fill()},powershield:function(a){if(vfxQueue[a][1]%2){c.save();c.fillStyle="rgba(255,255,255,0.3)";c.translate(vfxQueue[a][2].x*stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+stage.offset[1]);a=stage.scale/4.5*(Math.random()+1.5);c.scale(a,a);for(a=0;6>a;a++)c.rotate(Math.PI/3),c.beginPath(),
c.moveTo(0,-15),c.lineTo(6,-23),c.lineTo(0,-40),c.lineTo(-6,-23),c.closePath(),c.fill();c.restore()}},targetDestroy:function(a){c.save();c.fillStyle="rgba(255,255,255,0.8)";c.strokeStyle="rgba(255,255,255,0.8)";c.lineWidth=3;c.translate(vfxQueue[a][2].x*stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+stage.offset[1]);c.beginPath();c.arc(0,0,2*vfxQueue[a][1],0,twoPi);c.closePath;c.stroke();c.scale(stage.scale/4.5,stage.scale/4.5);for(var d=0;6>d;d++)c.rotate(Math.PI/3),c.beginPath(),c.moveTo(0,-14-
2*vfxQueue[a][1]),c.lineTo(6,-22-2*vfxQueue[a][1]),c.lineTo(0,-40-2*vfxQueue[a][1]),c.lineTo(-6,-22-2*vfxQueue[a][1]),c.closePath(),c.fill();c.restore()},shieldup:function(a){c.strokeStyle="rgba(255,255,255,"+(vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.8+")";c.lineWidth=10;c.beginPath();c.arc(vfxQueue[a][2].x*stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+stage.offset[1],vfxQueue[a][4]*stage.scale+10+5*(vfxQueue[a][1]-1),twoPi,0);c.stroke();c.lineWidth=5;c.beginPath();c.arc(vfxQueue[a][2].x*
stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+stage.offset[1],vfxQueue[a][4]*stage.scale+5*(vfxQueue[a][1]-1),twoPi,0);c.stroke();c.lineWidth=1},tech:function(a){c.save();c.strokeStyle="rgba(251,246, 119,"+((vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.3+.7)+")";c.fillStyle="rgba(255,116,92,"+((vfxQueue[a][0].frames-vfxQueue[a][1])/vfxQueue[a][0].frames*.3+.7)+")";c.translate(vfxQueue[a][2].x*stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+stage.offset[1]);c.lineWidth=
3;c.scale(Math.min(.2*vfxQueue[a][1],1),Math.min(.2*vfxQueue[a][1],1));c.rotate(vfxQueue[a][1]*Math.PI/8);for(a=0;4>a;a++)c.scale(.7+.6*Math.random(),.7+.6*Math.random()),c.rotate(a*Math.PI/2),c.beginPath(),c.arc(0,0,stage.scale/4.5*10,1.35*Math.PI,1.65*Math.PI),c.closePath(),c.stroke(),c.beginPath(),c.arc(0,0,stage.scale/4.5*15,1.35*Math.PI,1.65*Math.PI),c.closePath(),c.stroke(),c.beginPath(),c.arc(0,0,stage.scale/4.5*20,1.35*Math.PI,1.65*Math.PI),c.closePath(),c.stroke(),c.beginPath(),c.arc(0,0,
stage.scale/4.5*23,1.35*Math.PI,1.65*Math.PI),c.closePath(),c.fill();c.restore()},start:function(a){1==vfxQueue[a][1]&&sounds.ready.play();90==vfxQueue[a][1]&&sounds.go.play();if(90>vfxQueue[a][1]){var d=c.createLinearGradient(0,200,0,500);d.addColorStop(0,"rgb(255, 51, 51)");d.addColorStop(.6,"rgb(255, 51, 51)");d.addColorStop(1,"rgb(121, 0, 0)");c.save();c.fillStyle=d;c.textAlign="start";c.lineWidth=20;c.strokeStyle="black";c.font="italic 900 200px Arial";c.strokeText("Ready",240,420);c.lineWidth=
10;c.strokeStyle="white";c.strokeText("Ready",240,420);c.fillText("Ready",240,420);c.fillStyle="rgb("+Math.round(2.6*vfxQueue[a][1])+","+Math.round(140-1.5*vfxQueue[a][1])+","+Math.round(255-2.6*vfxQueue[a][1])+")";c.font="italic 700 70px Arial";d=(2*startTimer%1).toFixed(2);c.strokeStyle="black";c.strokeText(Math.floor(2*startTimer)+" "+d[2]+d[3],900,500);c.fillText(Math.floor(2*startTimer)+" "+d[2]+d[3],900,500);c.fillStyle="rgba(255,0,0,0.2)";c.fillRect(240,450,520,15);d=c.createLinearGradient(240+
vfxQueue[a][1]/90*500,450,760+vfxQueue[a][1]/90*500,465);d.addColorStop(0,"#ff0000");d.addColorStop(.16,"#ff00ff");d.addColorStop(.33,"#0000ff");d.addColorStop(.49,"#00ffff");d.addColorStop(.66,"#00ff00");d.addColorStop(.83,"#ffff00");d.addColorStop(1,"#ff0000");c.fillStyle=d;c.fillRect(240+vfxQueue[a][1]/90*500,450,520-vfxQueue[a][1]/90*500,15)}else d=c.createLinearGradient(0,200,0,480),d.addColorStop(0,"black"),d.addColorStop(.6,"black"),d.addColorStop(1,"rgb(221, 145, 57)"),c.save(),c.fillStyle=
d,c.textAlign="start",c.lineWidth=40,c.strokeStyle="black",c.font="900 400px Arial",c.strokeText("Go!",240,470),c.lineWidth=20,c.strokeStyle="white",c.strokeText("Go!",240,470),c.fillText("Go!",240,470);c.restore()},entrance:function(a){c.save();c.translate(vfxQueue[a][2].x*stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+stage.offset[1]);for(var d=0,e=vfxQueue[a][1]*Math.PI/32,f=0;8>f;f++){var g=Math.random()-.5,d=new k(35*Math.cos(e),14*Math.sin(e)),h=c.createLinearGradient(0,0,0,2*-vfxQueue[a][1]-
60*g);h.addColorStop(0,"rgba(255, 255, 255, 0.3)");h.addColorStop(.5,"rgba(255, 255, 255, 0.3)");h.addColorStop(1,"rgba(255, 255, 255, 0.0)");c.fillStyle=h;c.fillRect(d.x,d.y-(2*vfxQueue[a][1]+60*g),stage.scale/4.5*10,stage.scale/4.5*(2*vfxQueue[a][1]+60*g));e+=Math.PI/4}c.fillStyle="rgba(163, 255, 203, 0.3)";c.fillRect(-35,5*-(vfxQueue[a][1]%15),stage.scale/4.5*80,stage.scale/4.5*15);c.restore();c.save();c.translate(vfxQueue[a][2].x*stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+stage.offset[1]);
c.strokeStyle="rgba(255, 149, 149, 0.8)";c.lineWidth=8;c.scale(.8+.3*Math.random(),.2+.2*Math.random());c.beginPath();c.arc(5,3*-vfxQueue[a][1],stage.scale/4.5*(35+vfxQueue[a][1]%2*10),0,twoPi);c.closePath();c.stroke();c.restore()},clank:function(a){c.save();c.strokeStyle="rgb(47, 214, 114)";c.lineWidth=10-vfxQueue[a][1]/3;c.beginPath();c.arc(vfxQueue[a][2].x*stage.scale+stage.offset[0],vfxQueue[a][2].y*-stage.scale+stage.offset[1],stage.scale/4.5*(vfxQueue[a][1]/vfxQueue[a][0].frames*12+3),twoPi,0);
c.stroke();c.restore()}};hitQueue=[];angleConversion=Math.PI/180;
function aa(a){for(var d=!1,e=0;4>e;e++)if(-1<playerType[e]&&e!=a){for(var f=!1,g=0;g<player[a].i.Hb.length;g++)if(e==player[a].i.Hb[g]){f=!0;break}if(!f)for(f=0;4>f;f++)if(player[a].i.active[f]&&(!player[a].a.Cc||player[a].a.yd!=e)){if(1==player[a].i.id[f].kb||2==player[a].i.id[f].kb&&player[a].a.O)for(g=0;4>g;g++)if(player[e].i.active[g]&&(1==player[e].i.id[g].kb||2==player[e].i.id[g].kb&&player[e].a.O)){var h;h=new k(player[a].a.j.x+player[a].i.id[f].offset[player[a].i.frame].x*player[a].a.face,
player[a].a.j.y+player[a].i.id[f].offset[player[a].i.frame].y);var u=new k(player[e].a.j.x+player[e].i.id[g].offset[player[e].i.frame].x*player[e].a.face,player[e].a.j.y+player[e].i.id[g].offset[player[e].i.frame].y);h=[Math.pow(u.x-h.x,2)+Math.pow(h.y-u.y,2)<=Math.pow(player[a].i.id[f].size+player[e].i.id[g].size,2),new k((h.x+u.x)/2,(h.y+u.y)/2)];if(h[0]){u=player[a].i.id[f].lb-player[e].i.id[g].lb;9<=u?(player[e].v.ea=Math.floor(1/3*player[a].i.id[f].lb+3),m(e),aS[78].f(e)):(-9>=u?(player[a].v.ea=
Math.floor(1/3*player[e].i.id[g].lb+3),d=!0):(player[e].v.ea=Math.floor(1/3*player[a].i.id[f].lb+3),player[a].v.ea=Math.floor(1/3*player[e].i.id[g].lb+3),d=!0,m(e),aS[78].f(e)),m(a),aS[78].f(a));sounds.kb.play();n("clank",h[1]);player[a].i.Hb.push(e);break}}if(!d){if(g=player[e].a.Z)g=new k(player[a].a.j.x+player[a].i.id[f].offset[player[a].i.frame].x*player[a].a.face,player[a].a.j.y+player[a].i.id[f].offset[player[a].i.frame].y),h=player[e].a.bb,g=Math.pow(h.x-g.x,2)+Math.pow(g.y-h.y,2)<=Math.pow(player[a].i.id[f].size+
player[e].a.vc,2);if(g){hitQueue.push([e,a,f,!0,!1,!1]);player[a].i.Hb.push(e);break}else{if(g=1!=player[e].a.nb)g=player[a].i.id[f].offset[player[a].i.frame],39==player[a].o&&(g=player[a].i.id[f].offset[0]),g=new k(player[a].a.j.x+g.x*player[a].a.face,player[a].a.j.y+g.y),h=new k((player[e].a.ob.min.x+player[e].a.ob.max.x)/2,(player[e].a.ob.min.y+player[e].a.ob.max.y)/2),g=new k(Math.abs(g.x-h.x),Math.abs(g.y-h.y)),g=g.x>4+player[a].i.id[f].size||g.y>9+player[a].i.id[f].size?!1:4>=g.x||9>=g.y?!0:
Math.pow(g.x-4,2)+Math.pow(g.y-9,2)<=Math.pow(player[a].i.id[f].size,2);if(g){hitQueue.push([e,a,f,!1,!1,!1]);player[a].i.Hb.push(e);break}}}}}}
function ba(){for(var a=[],d=[!1,!1,!1,!1],e=0;e<hitQueue.length;e++){var f=hitQueue[e][0],g=hitQueue[e][1],h=hitQueue[e][2],u=hitQueue[e][3],v=hitQueue[e][4],p=hitQueue[e][5];if(2==gameMode)u?(sounds.sb.play(),player[f].v.ea=Math.floor(1/3*l+3),player[f].a.Mb&&(player[f].a.Nb=!0,player[f].v.yb=!0,n("impactLand",player[f].a.j,player[f].a.face),n("powershield",player[f].a.bb,player[f].a.face),sounds.yb.play()),player[f].v.cb=Math.floor(l)*(.65*(1-(player[f].a.Ga-.3)/.7)+.3)*1.5+2):(player[g].$e++,
player[f].v.ea=Math.floor(1/3*l+3),player[f].v.fa=ca(player[g].i.id[h],l,l,0,player[f].C.weight),player[f].v.mb=new k(player[g].a.j.x+player[g].i.id[h].offset[player[g].i.frame].x*player[g].a.face,player[g].a.j.y+player[g].i.id[h].offset[player[g].i.frame].y),player[g].a.j.x<player[f].a.j.x?(player[f].v.reverse=!1,player[f].a.face=-1):(player[f].v.reverse=!0,player[f].a.face=1),aS[41].f(f),q(player[f].v.fa),sounds.xd.play());else if(72==player[f].o&&sounds.lc.stop(player[f].kc),2==player[g].i.id[h].type)aS[player[f].o].w&&
a.push([g,f,!1]);else{d[f]=!0;var l=player[g].i.id[h].lb;player[f].a.mc=!1;player[g].a.charging&&(l*=1+.3671/60*player[g].a.pa);player[g].v.ea=Math.floor(1/3*l+3);if(u){if(!player[f].a.Mb&&(player[f].a.ta-=l,0>player[f].a.ta)){player[f].a.Z=!1;player[f].a.g.y=2.5;player[f].a.O=!1;player[f].a.ta=0;n("breakShield",player[f].a.j,player[f].a.face);aS[69].f(f);break}player[f].v.ea=Math.floor(1/3*l+3);u=.6;player[f].a.Mb?(u=1,player[f].a.Nb=!0,player[f].v.yb=!0,n("impactLand",player[f].a.j,player[f].a.face),
n("powershield",player[f].a.bb,player[f].a.face),sounds.yb.play()):n("clank",new k(player[g].a.j.x+player[g].i.id[h].offset[player[g].i.frame].x*player[g].a.face,player[g].a.j.y+player[g].i.id[h].offset[player[g].i.frame].y));player[f].v.cb=Math.floor(l)*(.65*(1-(player[f].a.Ga-.3)/.7)+.3)*1.5+2;h=(Math.floor(l)*(.195*(1-(player[f].a.Ga-.3)/.7)+.09)+.4)*u;2<h&&(h=2);u=.1*Math.floor(l)*(player[f].a.Ga-.3)+.02;player[g].a.j.x<player[f].a.j.x?(player[f].a.g.x+=h,player[g].a.g.x-=u):(player[f].a.g.x-=
h,player[g].a.g.x+=u);aS[22].f(f)}else 0==player[f].a.nb?(player[f].v.fa=ca(player[g].i.id[h],l,l,player[f].wa,player[f].C.weight),player[f].v.ua=player[g].i.id[h].ua,361==player[f].v.ua&&(32.1>player[f].v.fa?player[f].v.ua=0:32.1<=player[f].v.fa&&(player[f].v.ua=44)),player[f].v.ea=Math.floor(1/3*l+3),v?(player[f].a.Cc=!0,player[f].a.yd=g,player[f].a.j=new k(player[g].a.j.x+player[g].i.id[h].offset.x*player[g].a.face,player[g].a.j.y+player[g].i.id[h].offset.y),player[f].a.R=-1,player[f].v.ea=1,player[g].v.ea=
1,player[f].v.reverse=1==player[g].a.face?!1:!0,p&&(sounds.Ub.play(),n("groundBounce",player[f].a.j,player[f].a.face))):(player[f].v.mb=new k(player[g].a.j.x+player[g].i.id[h].offset[player[g].i.frame].x*player[g].a.face,player[g].a.j.y+player[g].i.id[h].offset[player[g].i.frame].y),player[g].a.j.x<player[f].a.j.x?(player[f].v.reverse=!1,player[f].a.face=-1):(player[f].v.reverse=!0,player[f].a.face=1)),player[f].wa+=l,-1==player[f].a.R||44<player[f].v.fa?(player[f].v.xa=Math.floor(.4*player[f].v.fa),
80<=player[f].v.fa||v?aS[39].f(f,!v):aS[41].f(f)):aS[80].f(f),player[f].a.O&&180<player[f].v.ua&&80<=player[f].v.fa&&(sounds.Ub.play(),n("groundBounce",player[f].a.j,player[f].a.face),player[f].v.ua=360-player[f].v.ua,player[f].v.fa*=.8),q(player[f].v.fa),r(player[f].v.fa,f),v?sounds.td.play():0==player[g].i.id[h].type?sounds.oe.play():50>player[f].v.fa?sounds.Je.play():100>player[f].v.fa?sounds.Ge.play():140>player[f].v.fa?sounds.Ie.play():(sounds.xd.play(),sounds.Dd.play(),280>player[f].v.fa?(sounds.td.play(),
sounds.Se.play()):(sounds.Ee.play(),sounds.Fe.play()))):(sounds.sb.play(),n("clank",new k(player[g].a.j.x+player[g].i.id[h].offset[player[g].i.frame].x*player[g].a.face,player[g].a.j.y+player[g].i.id[h].offset[player[g].i.frame].y)))}}for(e=0;e<a.length;e++)if(!d[a[e][0]]){if(!a[e][2])for(l=0;l<a.length;l++)if(l!=e&&a[e][0]==a[l][1]){g=a[e][0];f=a[l][0];player[g].a.j.x<player[f].a.j.x?(player[g].a.face=1,player[f].a.face=-1):(player[g].a.face=-1,player[f].a.face=1);player[g].a.mc=!0;player[f].a.mc=
!0;m(g);m(f);aS[77].f(g);aS[77].f(f);sounds.qe.play();n("shieldup",new k((player[g].a.j.x+player[f].a.j.x)/2,player[g].a.j.y+12),player[f].a.face,3);a[e][2]=!0;a[l][2]=!0;break}a[e][2]||(g=a[e][0],f=a[e][1],-1!=player[f].a.R||-1!=player[g].a.ia||0!=player[f].a.nb||player[f].a.mc||(player[f].a.g=new k(0,0),player[f].a.J=new k(0,0),player[g].a.g=new k(0,0),player[g].a.J=new k(0,0),player[f].a.R=g,player[f].a.Z=!1,player[g].a.ia=f,aS[74].f(f)))}}
function ca(a,d,e,f,g){a=0==a.Xc?.01*a.Nc*(1.4*(.05*e*(d+Math.floor(f))+.1*(d+Math.floor(f)))*(2-.02*g/(1+.01*g))+18)+a.Ic:a.Nc/100*(200/(g+100)*(10*a.Xc/20+1)*1.4+18)+a.Ic;2500<a&&(a=2500);return a}function k(a,d){this.x=a;this.y=d}function t(a,d){this.min=new k(a[0],a[1]);this.max=new k(d[0],d[1])}
offsets={Sa:{D:[new k(9.26,16.34),new k(11.15,9.93),new k(9.19,5.23),new k(3.87,2.43)],F:[new k(5.46,13.21),new k(6.26,10.84),new k(5.82,8.63),new k(3.93,6.98)],G:[new k(.88,13.2),new k(1.14,12.76),new k(1.2,12.41),new k(1.21,12.14)],I:[new k(11.1,21.41),new k(16.53,9.67),new k(13.15,1.64),new k(5.34,-2.18)]},Ja:{D:[new k(-11.71,6.43),new k(-13.16,13.32),new k(-9.65,17.03),new k(-4.29,17.32),new k(-3.64,17.13)],F:[new k(-7.88,9.56),new k(-8.73,11.06),new k(-7.8,12.38),new k(-5.82,12.95),new k(-5.42,
12.91)],G:[new k(-2.84,13.05),new k(-2.76,13.05),new k(-2.71,13.05),new k(-2.69,13.06),new k(-2.68,13.06)],I:[new k(-13.71,1.75),new k(-18.52,13.41),new k(-12.25,21.73),new k(-2.71,22.27),new k(-2.02,22.08)]},La:{D:[new k(10.13,-.93),new k(-1.89,-4.63),new k(-9.24,.37),new k(-12.98,8.16)],F:[new k(6.38,.55),new k(-1.68,-.6),new k(-6.75,3.33),new k(-9.01,8.9)],G:[new k(2.96,4.21),new k(.04,4.02),new k(-2.94,6.59),new k(-4.13,8.61)],I:[new k(2.66,10.54),new k(2.71,10.14),new k(2.46,9.84),new k(1.93,
9.66)]},fb:{D:[new k(12.14,14.6),new k(7.42,23.27),new k(-1.33,26.74),new k(-10.99,23.29)],F:[new k(7.46,16.76),new k(2.7,20.8),new k(-2.77,21.56),new k(-8.3,18.63)],G:[new k(2.63,15.58),new k(-.33,16.52),new k(-2.6,16.32),new k(-4.92,14.73)],I:[new k(.43,11.46),new k(.25,12.43),new k(.07,12.93),new k(-.42,13.26)]},Ya:{D:[new k(14.63,8.71),new k(6.37,12.57)],F:[new k(8.65,10.24),new k(6.42,11.23)],G:[new k(.07,13.43),new k(.67,13.4)],I:[new k(-.47,7.74),new k(-.47,7.74)]},Za:{D:[new k(12.35,4.38),
new k(.52,9.91),new k(-12.86,19.45),new k(-7.52,17.11),new k(5.76,10.14),new k(12.26,5.79),new k(11.8,5.33)],F:[new k(7.18,7.89),new k(-1.38,11.67),new k(-7.63,16.29),new k(-3.81,14.73),new k(3.67,11.08),new k(6.86,8.92),new k(6.69,8.52)],G:[new k(.7,13.51),new k(.26,13.43),new k(1.01,12.94),new k(.8,13.13),new k(-.01,13.41),new k(-.68,13.66),new k(-.46,13.68)],I:[new k(-.47,7.74),new k(-.47,7.74),new k(-.47,7.74),new k(-.47,7.74),new k(-.48,7.74),new k(-.48,7.74),new k(-.48,7.74)]},zb:{D:[new k(9.74,
4.31)],F:[new k(6.39,6.58)],G:[new k(-.53,5.88)]},Ab:{D:[new k(13.85,13.53),new k(10.6,24.21),new k(8.68,26.72),new k(6.97,27.35),new k(4.78,27.94)],F:[new k(9.83,13.99),new k(7.55,21.56),new k(5.85,23.84),new k(4.32,24.33),new k(2.61,24.55)],G:[new k(.01,8.8),new k(.07,10.68),new k(.07,11.68),new k(.07,11.68),new k(.09,11.67)]},Ra:{D:[new k(18.9,2.38),new k(18.96,2.87),new k(18.81,2.94)],F:[new k(13.12,4.02),new k(13.17,4.45),new k(13.07,4.69)],G:[new k(8.81,7.67),new k(8.72,7.77),new k(8.64,7.85)],
I:[new k(23.6,.88),new k(23.72,1.55),new k(23.57,1.62)]},hb:{D:[new k(14.64,13.62),new k(12.78,21.24),new k(7.78,23.94)],F:[new k(9.86,15.22),new k(8.52,17.26),new k(6.52,18.25)],G:[new k(3.56,13.4),new k(4.28,13.19),new k(5.37,12.98)],I:[new k(16.87,10.48),new k(16.18,23.26),new k(9.25,27.69)]},ib:{D:[new k(3.5,23.34),new k(.18,20.96),new k(-2,16.58),new k(-2.09,12.08)],F:[new k(4.81,17.71),new k(3.27,16.16),new k(2.75,13.91),new k(2.98,11.92)],G:[new k(7.18,13.37),new k(8.38,12.76),new k(8.69,12.45),
new k(8.67,12.4)],I:[new k(3.11,27.3),new k(-.87,24.71),new k(-4.29,19.86),new k(-5.3,14.32)]},Ua:{D:[new k(8.54,4.11),new k(16.17,9.33),new k(18.1,13.45),new k(14.84,18.26)],F:[new k(9.39,8.39),new k(11.99,12.21),new k(13.09,11.9),new k(12.1,13.63)],G:[new k(4.58,12.75),new k(5.7,11.87),new k(7.1,10.66),new k(8.58,9.6)],I:[new k(4.12,1.46),new k(18.41,4.48),new k(23.49,13.65),new k(18.61,22.11)]},Ma:{D:[new k(11.03,3.26),new k(15.21,6.22),new k(15.05,7.87),new k(13.97,12.26)],F:[new k(9.54,5.43),
new k(10.63,7.23),new k(10.13,8.36),new k(9.47,10.73)],G:[new k(5.49,9.14),new k(6.38,7.95),new k(7.27,7.04),new k(7.26,6.89)],I:[new k(6.48,1.06),new k(19.59,2.77),new k(21.26,6.96),new k(20.08,13.48)]},Wa:{D:[new k(13.68,7.34),new k(16.64,10.96),new k(15.79,15.1),new k(12.7,18.69)],F:[new k(10.22,9.87),new k(12.21,11.53),new k(11.63,13.74),new k(10.03,15.89)],G:[new k(5.18,12.23),new k(5.58,12.1),new k(5.96,12.11),new k(6.75,12.65)],I:[new k(16.45,1.88),new k(22.52,8.98),new k(21.85,16.4),new k(18.57,
20.4)]},Xa:{D:[new k(16.61,8.05),new k(16.65,13.43),new k(13.12,17.59),new k(7.91,18.53),new k(3.47,16.83)],F:[new k(12.87,10.31),new k(12.38,13.23),new k(10.27,15.37),new k(7.7,15.82),new k(5.58,15.06)],G:[new k(7.04,13.09),new k(6.3,13.75),new k(5.2,13.28),new k(5.26,12.96),new k(5.59,13.11)],I:[new k(19.38,3.39),new k(22.57,12.52),new k(17.07,19.43),new k(9.85,21.01),new k(4.67,18.33)]},eb:{D:[new k(11.97,19.81),new k(18.79,12.44),new k(16.47,5)],F:[new k(9.62,25.13),new k(23.82,15.4),new k(21.42,
1.9)],G:[new k(11.6,14.07),new k(13.01,11.51),new k(12.41,9.36)],I:[new k(5.43,14.48),new k(7.02,14.17),new k(9.5,11.87)]},Ta:{D:[new k(14.73,20.43),new k(23.35,12.45),new k(18.63,.49),new k(18.83,.19)],F:[new k(14.85,15.44),new k(18.3,10.69),new k(15.87,4.03),new k(15.37,3.52)],G:[new k(9.32,8.08),new k(10.74,6.82),new k(12.01,5.69),new k(12.01,5.08)],I:[new k(10.98,24.89),new k(28.11,15.83),new k(24.45,.79),new k(24.65,.33)]},gb:{D:[new k(6.29,7.64),new k(6.29,7.64),new k(6.29,7.64),new k(6.29,
7.64)],F:[new k(-6.29,7.64),new k(-6.29,7.64),new k(-6.29,7.64),new k(-6.29,7.64)],G:[new k(.91,21.71),new k(.82,21.13),new k(.78,20.56),new k(.78,20.87)],I:[new k(.19,26.06),new k(.03,25.46),new k(-.04,24.89),new k(-.03,25.2)]},Pa:{D:[new k(13.69,4.12),new k(19.33,5.53),new k(15.33,6.2)],F:[new k(12.67,7.34),new k(14.83,8.08),new k(12.92,8.48)],G:[new k(6.48,6.94),new k(7.05,6.49),new k(6.79,6.43)],I:[new k(11.96,2.87),new k(24.08,3.3),new k(19.09,3.9)]},Qa:{D:[new k(-9.69,3.24),new k(-12.61,2.91),
new k(-10.56,3.43)],F:[new k(-6.68,4.54),new k(-8.18,4.3),new k(-7.89,4.3)],G:[new k(-.35,5.31),new k(-.65,5.17),new k(-.63,5.09)],I:[new k(-10.28,2.16),new k(-17.91,2.01),new k(-14.94,2.54)]},Va:{D:[new k(14.82,9.43),new k(14.82,9.43)],F:[new k(11.23,8.98),new k(11.23,8.98)],G:[new k(8.09,8.53),new k(8.09,8.53)]},Na:{D:[new k(-11.59,7.12),new k(-11.57,7.18),new k(-11.59,7.2),new k(-11.61,7.26)],F:[new k(-7.46,8.54),new k(-7.43,8.59),new k(-7.43,8.56),new k(-7.43,8.57)],G:[new k(-3.85,11.23),new k(-3.84,
11.27),new k(-3.84,11.21),new k(-3.83,11.17)],I:[new k(-17.85,7.02),new k(-17.84,7.07),new k(-17.86,7.15),new k(-17.89,7.3)]},Oa:{D:[new k(17.65,9.84),new k(18.77,10.73)],F:[new k(13.16,10.31),new k(14.52,10.42)],G:[new k(6.59,11.2),new k(8.36,10.74)],I:[new k(23.38,8.95),new k(25.05,10.63)]},Sc:{D:[new k(8.87,10.75)]},Bc:{D:[new k(0,12)]}};for(var da=0;20>da;da++)offsets.Bc.D.push(new k(0,12));function w(a,d,e,f){this.D=a;this.F=d;this.G=e;this.I=f}
function x(a,d,e,f,g,h,u,v,p){this.offset=a;this.size=d;this.lb=e;this.ua=f;this.Nc=g;this.Ic=h;this.Xc=u;this.type=v;this.kb=p}
chars={sc:new function(a){this.attributes=a;this.i={Sa:new w(new x(offsets.Sa.D,3.906,10,361,70,30,0,1,0),new x(offsets.Sa.F,3.906,9,361,70,20,0,1,0),new x(offsets.Sa.G,3.906,9,361,70,20,0,1,0),new x(offsets.Sa.I,3.906,13,67,70,42,0,1,0)),Ja:new w(new x(offsets.Ja.D,3.906,10,361,70,30,0,1,0),new x(offsets.Ja.F,3.906,9,361,70,25,0,1,0),new x(offsets.Ja.G,3.906,9,361,70,10,0,1,0),new x(offsets.Ja.I,3.906,13,361,70,30,0,1,0)),Ya:new w(new x(offsets.Ya.D,3.906,4,100,40,30,0,1,0),new x(offsets.Ya.F,3.906,
4,100,40,30,0,1,0),new x(offsets.Ya.G,3.906,4,100,40,30,0,1,0),new x(offsets.Ya.I,3.906,4,90,40,30,0,0,0)),Za:new w(new x(offsets.Za.D,3.906,10,361,80,50,0,1,0),new x(offsets.Za.F,3.906,10,361,80,50,0,1,0),new x(offsets.Za.G,3.906,10,361,80,50,0,1,0),new x(offsets.Za.I,3.906,10,361,80,50,0,0,0)),La:new w(new x(offsets.La.D,3.515,13,290,70,40,0,1,0),new x(offsets.La.F,3.515,10,80,70,40,0,1,0),new x(offsets.La.G,3.515,9,361,70,30,0,1,0),new x(offsets.La.I,3.515,9,361,70,20,0,1,0)),fb:new w(new x(offsets.fb.D,
3.906,13,90,70,40,0,1,0),new x(offsets.fb.F,3.906,10,80,70,30,0,1,0),new x(offsets.fb.G,3.906,9,80,70,20,0,1,0),new x(offsets.fb.I,3.906,9,80,70,18,0,1,0)),zb:new w(new x(offsets.zb.D,3.906,13,361,70,80,0,1,2),new x(offsets.zb.F,3.906,10,74,70,60,0,1,2),new x(offsets.zb.G,3.906,10,74,70,60,0,1,2)),Ab:new w(new x(offsets.Ab.D,3.906,7,361,90,20,0,1,0),new x(offsets.Ab.F,3.906,7,74,90,20,0,1,0),new x(offsets.Ab.G,3.125,6,74,90,20,0,0,0)),Ra:new w(new x(offsets.Ra.D,3.906,9,30,40,30,0,1,1),new x(offsets.Ra.F,
2.734,8,30,40,25,0,1,1),new x(offsets.Ra.G,3.047,8,30,40,20,0,1,1),new x(offsets.Ra.I,3.906,10,30,40,50,0,1,1)),hb:new w(new x(offsets.hb.D,3.906,9,110,120,40,0,1,1),new x(offsets.hb.F,3.125,9,361,118,40,0,1,1),new x(offsets.hb.G,3.047,8,361,116,40,0,1,1),new x(offsets.hb.I,3.906,12,110,100,50,0,1)),ib:new w(new x(offsets.ib.D,3.906,10,85,120,40,0,1,1),new x(offsets.ib.F,2.734,9,361,118,30,0,1,1),new x(offsets.ib.G,2.265,9,361,116,30,0,1,1),new x(offsets.ib.I,3.906,13,85,100,50,0,1,1)),Ua:new w(new x(offsets.Ua.D,
3.906,9,361,70,30,0,1,1),new x(offsets.Ua.F,2.734,9,361,70,30,0,1,1),new x(offsets.Ua.G,3.047,9,361,70,30,0,1,1),new x(offsets.Ua.I,3.906,13,361,70,60,0,1,1)),Ma:new w(new x(offsets.Ma.D,3.906,11,110,55,70,0,1,1),new x(offsets.Ma.F,3.125,9,361,60,35,0,0,1),new x(offsets.Ma.G,2.344,9,361,60,35,0,0,1),new x(offsets.Ma.I,3.906,12,110,55,70,0,1,1)),Wa:new w(new x(offsets.Wa.D,3.906,4,361,50,20,0,1,1),new x(offsets.Wa.F,3.125,4,361,50,20,0,1,1),new x(offsets.Wa.G,2.344,4,361,50,20,0,1,1),new x(offsets.Wa.I,
3.906,6,361,60,30,0,1,1)),Xa:new w(new x(offsets.Xa.D,3.906,4,361,50,20,0,1,1),new x(offsets.Xa.F,3.125,4,361,50,20,0,1,1),new x(offsets.Xa.G,2.344,4,361,50,20,0,1,1),new x(offsets.Xa.I,3.906,6,361,60,30,0,1,1)),eb:new w(new x(offsets.eb.D,3.906,4,85,25,55,0,1,0),new x(offsets.eb.F,3.125,4,96,25,55,0,1,0),new x(offsets.eb.G,3.125,4,80,25,55,0,1,0),new x(offsets.eb.I,2.344,4,76,25,55,0,1,0)),Ta:new w(new x(offsets.Ta.D,3.906,14,361,70,60,0,1,1),new x(offsets.Ta.F,3.125,14,361,70,60,0,1,1),new x(offsets.Ta.G,
3.515,14,361,70,60,0,1,1),new x(offsets.Ta.I,3.906,20,361,70,80,0,1,1)),gb:new w(new x(offsets.gb.D,4.297,8,70,100,100,0,0,1),new x(offsets.gb.F,4.297,8,70,100,100,0,0,1),new x(offsets.gb.G,4.687,15,90,80,30,0,1,1),new x(offsets.gb.I,4.297,18,90,80,60,0,1,1)),Pa:new w(new x(offsets.Pa.D,4.297,11,75,72,70,0,1,1),new x(offsets.Pa.F,3.125,11,361,100,20,0,1,1),new x(offsets.Pa.G,3.515,11,361,100,16,0,1,1),new x(offsets.Pa.I,3.906,16,70,100,70,0,1,1)),Qa:new w(new x(offsets.Qa.D,3.906,11,75,72,70,0,1,
1),new x(offsets.Qa.F,3.125,11,361,100,30,0,1,1),new x(offsets.Qa.G,3.515,11,361,100,15,0,1,1),new x(offsets.Qa.I,3.906,16,75,100,70,0,1,1)),Va:new w(new x(offsets.Va.D,3.906,0,361,100,0,0,2,3),new x(offsets.Va.F,3.906,0,361,100,0,0,2,3),new x(offsets.Va.G,3.906,0,361,100,0,0,2,3)),Na:new w(new x(offsets.Na.D,5.468,6,361,50,80,0,1,1),new x(offsets.Na.F,3.906,6,361,50,80,0,1,1),new x(offsets.Na.G,3.906,6,361,50,80,0,1,1),new x(offsets.Na.I,4.687,6,361,50,80,0,1,1)),Oa:new w(new x(offsets.Oa.D,5.468,
6,361,50,80,0,1,1),new x(offsets.Oa.F,3.906,6,361,50,80,0,1,1),new x(offsets.Oa.G,3.906,6,361,50,80,0,1,1),new x(offsets.Oa.I,4.687,6,361,50,80,0,1,1)),Sc:new w(new x(offsets.Sc.D,4.687,3,80,100,0,30,0,0)),Pe:new w(new x(new k(5.02334,15.9095),0,4,93,130,60,0,0,0)),Ne:new w(new x(new k(3.57509,0),0,5,135,50,65,0,0,0)),Me:new w(new x(new k(-1.29306,0),0,4,117,60,70,0,0,0)),Oe:new w(new x(new k(7.69851,0),0,4,50,45,70,0,0,0)),Bc:new w(new x(offsets.Bc.D,3.906,4,361,50,20,0,1,0))}}(new function(a,d,
e,f,g,h,u,v,p,l){this.Kd=a;this.Jd=d;this.Ld=e;this.Ka=f;this.Cb=g;this.Id=h;this.Rb=v;this.md=p;this.hd=l;this.qd=1.5;this.Lc=2.4;this.Gb=.085;this.fd=.8;this.Jb=1.2;this.Ia=2.2;this.zd=.03;this.Ad=.02;this.Hc=.9;this.gc=.005;this.Yd=2.5;this.$c=.15;this.Re=0;this.ad=1.6;this.Qd=.88;this.rd=11.75;this.me=1.15;this.weight=87}(15,27,1.56,1.8,.06,0,1.5,.06,1.6,4))};function y(){var a=new k(0,0);this.size=0;this.offset=a;this.type=this.Xc=this.Ic=this.Nc=this.ua=this.lb=0}
function ea(){this.active=[!1,!1,!1,!1];this.frame=0;this.id=[new y,new y,new y,new y];this.Hb=[]}
function fa(a,d){this.g=new k(0,0);this.J=new k(0,0);this.pb=new k(0,0);this.j=new k(a[0],a[1]);this.cc=new k(0,0);this.Rc=new k(0,0);this.O=!1;this.Tb=0;this.Ba=!1;this.face=d;this.U=[new k(0,0),new k(3,7),new k(0,14),new k(-3,7)];this.la=[new k(0,0),new k(3,7),new k(0,14),new k(-3,7)];this.Gc=[!1,!1,!1];this.na=[0,0];this.ra=!1;this.ta=60;this.Ga=this.vc=0;this.Z=!1;this.ab=new k(0,0);this.ab=new k(0,0);this.bb=new k(0,0);this.bb=new k(0,0);this.Nb=this.Mb=!1;this.ja=-1;this.qb=new t([0,5],[8,10]);
this.Lb=new t([0,5],[-8,10]);this.rc=0;this.Kb=!1;this.ob=new t([-4,18],[4,0]);this.Yb=this.aa=this.nb=0;this.ub=!1;this.Zb=0;this.ma=!1;this.Ea=1;this.Ib=this.Qc=!1;this.wc=!0;this.charging=!1;this.Qb=this.Ha=this.pa=0;this.ia=this.R=-1;this.va=!1;this.pc=0;this.ya=254;this.Vb=!1;this.Sb=0;this.Cc=!1;this.yd=-1;this.Oc=3;this.Fc=0}
function ga(){this.h=[new k(0,0),new k(0,0),new k(0,0),new k(0,0),new k(0,0),new k(0,0),new k(0,0),new k(0,0)];this.M=[new k(0,0),new k(0,0),new k(0,0),new k(0,0),new k(0,0),new k(0,0),new k(0,0),new k(0,0)];this.Y=[0,0,0,0,0,0,0,0];this.ba=[0,0,0,0,0,0,0,0];this.ka=[!1,!1,!1,!1,!1,!1,!1,!1];this.z=[!1,!1,!1,!1,!1,!1,!1,!1];this.B=[!1,!1,!1,!1,!1,!1,!1,!1];this.X=[!1,!1,!1,!1,!1,!1,!1,!1];this.x=[!1,!1,!1,!1,!1,!1,!1,!1];this.y=[!1,!1,!1,!1,!1,!1,!1,!1];this.r=[!1,!1,!1,!1,!1,!1,!1,!1];this.L=[!1,
!1,!1,!1,!1,!1,!1,!1];this.Eb=[!1,!1,!1,!1,!1,!1,!1];this.Db=[!1,!1,!1,!1,!1,!1,!1];this.Fb=[!1,!1,!1,!1,!1,!1,!1];this.jc=[!1,!1,!1,!1,!1,!1,!1]}function ha(a,d){this.a=new fa(a,d);this.o=94;this.c=0;this.b=new ga;this.C=chars.sc.attributes;this.A=chars.sc.i;this.Vc=this.Uc=this.Wc=!1;this.Zc=0;this.i=new ea;this.v={fa:0,ea:0,xa:0,ua:0,mb:new k(0,0),powershield:!1,cb:0};this.wa=0;this.Ca=4;this.ac=!1;this.xb=new k(0,0);this.ha=!0;this.kc=0;this.$a=new k(0,0)}
function z(){switch(Math.round(.5+5.99*Math.random())){case 1:sounds.xe.play();break;case 2:sounds.ye.play();break;case 3:sounds.ze.play();break;case 4:sounds.Ae.play();break;case 5:sounds.Be.play();break;case 6:sounds.sd.play()}}function A(){if(5==gameMode)return!0;if(versusMode)return!1;for(var a=0,d=0,e=0;4>e;e++)-1<playerType[e]&&(d++,0==player[e].Ca&&a++);return a>=d-1}function ia(a,d){var e=0;if(0!=a||0!=d)e=Math.atan2(d,a);return e}
function m(a){player[a].i.active=[!1,!1,!1,!1];player[a].i.Hb=[]}function B(a,d){if(!d&&!player[a].ha){var e=player[a].b.h[0].x,f=player[a].b.h[0].y,g=3*Math.sqrt(e*e+f*f),e=ia(e,f);targetPosition=new k(Math.cos(e)*g,Math.sin(e)*g);player[a].a.ab=new k(player[a].a.ab.x+((targetPosition.x-player[a].a.ab.x)/5+.01),player[a].a.ab.y+((targetPosition.y-player[a].a.ab.y)/5+.01))}player[a].a.bb=new k(player[a].a.j.x+player[a].a.ab.x+5*player[a].a.face/4.5,player[a].a.j.y+player[a].a.ab.y+40/4.5)}
function C(a,d){0<player[a].a.g.x?(player[a].a.g.x=d&&player[a].a.g.x>player[a].C.md?player[a].a.g.x-2*player[a].C.Rb:player[a].a.g.x-player[a].C.Rb,0>player[a].a.g.x&&(player[a].a.g.x=0)):(player[a].a.g.x=d&&player[a].a.g.x<-player[a].C.md?player[a].a.g.x+2*player[a].C.Rb:player[a].a.g.x+player[a].C.Rb,0<player[a].a.g.x&&(player[a].a.g.x=0))}
function D(a){var d=.3>Math.abs(player[a].b.h[0].x)?0:player[a].C.Hc*player[a].b.h[0].x;0>d&&player[a].a.g.x<d||0<d&&player[a].a.g.x>d?0<player[a].a.g.x?(player[a].a.g.x-=player[a].C.gc,0>player[a].a.g.x&&(player[a].a.g.x=0)):(player[a].a.g.x+=player[a].C.gc,0<player[a].a.g.x&&(player[a].a.g.x=0)):.3<Math.abs(player[a].b.h[0].x)&&(0>d&&player[a].a.g.x>d||0<d&&player[a].a.g.x<d)&&(player[a].a.g.x+=player[a].C.zd*player[a].b.h[0].x+Math.sign(player[a].b.h[0].x)*player[a].C.Ad);.3>Math.abs(player[a].b.h[0].x)&&
(0<player[a].a.g.x?(player[a].a.g.x-=player[a].C.gc,0>player[a].a.g.x&&(player[a].a.g.x=0)):(player[a].a.g.x+=player[a].C.gc,0<player[a].a.g.x&&(player[a].a.g.x=0)))}function E(a){player[a].a.Ba||(player[a].a.g.y-=player[a].C.Gb,player[a].a.g.y<-player[a].C.Ia&&(player[a].a.g.y=-player[a].C.Ia),-.65>player[a].b.h[0].y&&-.1<player[a].b.h[3].y&&0>player[a].a.g.y&&(sounds.Zd.play(),player[a].a.Ba=!0,player[a].a.g.y=-player[a].C.Yd))}
function ja(a){var d=Math.max(player[a].b.Y[0],player[a].b.ba[0]);player[a].a.ta-=.28*d-(1-d)/10;0>=player[a].a.ta&&(player[a].a.Z=!1,player[a].a.g.y=2.5,player[a].a.O=!1,player[a].a.ta=0,n("breakShield",player[a].a.j,player[a].a.face),sounds.ve.play(),aS[69].f(a))}
function ka(a,d){player[a].a.Ga=Math.max(player[a].b.Y[0],player[a].b.ba[0]);d&&0==player[a].a.Ga&&(player[a].a.Ga=1);player[a].a.vc=player[a].a.ta/60*player[a].C.rd*player[a].C.me*.575+.6*(1-player[a].a.Ga)*player[a].C.rd+(60-player[a].a.ta)/60*2}
function la(a){return player[a].b.B[0]&&!player[a].b.B[1]?!0:player[a].b.X[0]&&!player[a].b.X[1]?!0:player[a].b.x[0]&&!player[a].b.x[1]?!0:player[a].b.y[0]&&!player[a].b.y[1]?!0:.8<player[a].b.h[0].x&&.7>!player[a].b.h[1].x?!0:-.8>player[a].b.h[0].x&&-.7>!player[a].b.h[1].x?!0:.8<player[a].b.h[0].y&&.7>!player[a].b.h[1].y?!0:-.8>player[a].b.h[0].y&&-.7< !player[a].b.h[1].y?!0:.8<player[a].b.M[0].x&&.7>!player[a].b.M[1].x?!0:-.8>player[a].b.M[0].x&&-.7>!player[a].b.M[1].x?!0:.8<player[a].b.M[0].y&&
.7>!player[a].b.M[1].y?!0:-.8>player[a].b.M[0].y&&-.7< !player[a].b.M[1].y?!0:!1}
function F(a){return player[a].b.B[0]&&!player[a].b.B[1]?.79<=Math.abs(player[a].b.h[0].x)&&.3>player[a].b.h[2].x*Math.sign(player[a].b.h[0].x)?(player[a].a.face=Math.sign(player[a].b.h[0].x),[!0,57]):.66<=player[a].b.h[0].y&&.3>player[a].b.h[2].y?[!0,58]:-.66>=player[a].b.h[0].y&&-.3<player[a].b.h[2].y?[!0,59]:[!1,!1]:.79<=Math.abs(player[a].b.M[0].x)&&.79>Math.abs(player[a].b.M[1].x)?(player[a].a.face=Math.sign(player[a].b.M[0].x),[!0,57]):.66<=player[a].b.M[0].y&&.66>player[a].b.M[1].y?[!0,58]:
-.66>=player[a].b.M[0].y&&-.66<player[a].b.M[1].y?[!0,59]:[!1,!1]}function G(a,d){return player[a].b.B[0]&&!player[a].b.B[1]?.3<player[a].b.h[0].x*player[a].a.face*(d||1)&&-.05<Math.abs(player[a].b.h[0].x)-Math.abs(player[a].b.h[0].y)?[!0,49]:-.3>player[a].b.h[0].y?[!0,47]:.3<player[a].b.h[0].y?[!0,48]:[!0,50]:[!1,!1]}
function H(a){if(player[a].b.X[0]&&!player[a].b.X[1]){if(player[a].a.O)return.58<Math.abs(player[a].b.h[0].x)||.58<player[a].b.h[0].y&&Math.abs(player[a].b.h[0].x)>player[a].b.h[0].y-.2?(player[a].a.face=Math.sign(player[a].b.h[0].x),[!0,56]):.58<player[a].b.h[0].y?[!0,38]:[!1,!1];if(.58<player[a].b.h[0].y||.58<Math.abs(player[a].b.h[0].x)&&player[a].b.h[0].y>Math.abs(player[a].b.h[0].x)-.2)return[!0,38];if(.58<Math.abs(player[a].b.h[0].x))return player[a].a.face=Math.sign(player[a].b.h[0].x),[!0,
56]}return[!1,!1]}
function I(a){return.3<=player[a].b.M[0].x*player[a].a.face&&.3>player[a].b.M[1].x*player[a].a.face&&Math.abs(player[a].b.M[0].x)>Math.abs(player[a].b.M[0].y)-.1?[!0,33]:-.3>=player[a].b.M[0].x*player[a].a.face&&-.3<player[a].b.M[1].x*player[a].a.face&&Math.abs(player[a].b.M[0].x)>Math.abs(player[a].b.M[0].y)-.1?[!0,34]:.3<=player[a].b.M[0].y&&.3>player[a].b.M[1].y?[!0,35]:-.3>player[a].b.M[0].y&&-.3<player[a].b.M[1].y?[!0,36]:player[a].b.B[0]&&!player[a].b.B[1]||player[a].b.z[0]&&!player[a].b.z[1]?
.3<player[a].b.h[0].x*player[a].a.face&&Math.abs(player[a].b.h[0].x)>Math.abs(player[a].b.h[0].y)-.1?[!0,33]:-.3>player[a].b.h[0].x*player[a].a.face&&Math.abs(player[a].b.h[0].x)>Math.abs(player[a].b.h[0].y)-.1?[!0,34]:.3<player[a].b.h[0].y?[!0,35]:-.3>player[a].b.h[0].y?[!0,36]:[!0,37]:[!1,0]}function J(a){return.79<player[a].b.h[0].x*player[a].a.face&&.3>player[a].b.h[2].x*player[a].a.face?!0:!1}
function K(a){return-.79>player[a].b.h[0].x*player[a].a.face&&-.3<player[a].b.h[2].x*player[a].a.face?!0:!1}function L(a){return-.3<player[a].b.h[1].x*player[a].a.face?!0:!1}function M(a){return-.3>player[a].b.h[0].x*player[a].a.face?!0:!1}function N(a){return player[a].b.x[0]&&!player[a].b.x[1]||player[a].b.y[0]&&!player[a].b.y[1]?!0:.66<player[a].b.h[0].y&&.2>player[a].b.h[3].y?!0:!1}function O(a){return-.69>player[a].b.h[0].y?!0:!1}
aS=[{name:"WAIT",H:!0,w:!0,f:function(a){player[a].o=0;player[a].c=1;aS[0].l(a)},l:function(a){player[a].c+=.5;aS[0].m(a)||(C(a,!1),45<=player[a].c&&aS[0].f(a))},m:function(a){if(player[a].ha)var d=[!1,!1],e=[!1,!1];else d=H(a),e=G(a);var f=F(a);if(N(a)&&!player[a].ha)return aS[8].f(a),!0;if(player[a].b.L[0]||player[a].b.r[0])return aS[21].f(a),!0;if(0<player[a].b.Y[0]||0<player[a].b.ba[0])aS[21].f(a);else return d[0]?(aS[d[1]].f(a),!0):f[0]?(aS[f[1]].f(a),!0):e[0]?(aS[e[1]].f(a),!0):O(a)&&!player[a].ha?
(aS[16].f(a),!0):J(a)&&!player[a].ha?(aS[1].f(a),!0):K(a)&&!player[a].ha?(aS[3].f(a),!0):M(a)&&!player[a].ha?(player[a].a.va=L(a),aS[4].f(a),!0):.3<Math.abs(player[a].b.h[0].x)&&!player[a].ha?(aS[7].f(a,!0),!0):!1}},{name:"DASH",H:!0,w:!0,f:function(a){player[a].o=1;player[a].c=0;sounds.Nd.play();aS[1].l(a)},l:function(a){player[a].c++;if(!aS[1].m(a)&&(2==player[a].c&&(player[a].a.g.x+=player[a].C.Ld*player[a].a.face,Math.abs(player[a].a.g.x)>player[a].C.Ka&&(player[a].a.g.x=player[a].C.Ka*player[a].a.face)),
4==player[a].c&&n("dashDust",player[a].a.j,player[a].a.face),1<player[a].c))if(.3>Math.abs(player[a].b.h[0].x))C(a,!1);else{var d=player[a].b.h[0].x*player[a].C.Ka,e=player[a].b.h[0].x*player[a].C.Cb;player[a].a.g.x+=e;if(0<d&&player[a].a.g.x>d||0>d&&player[a].a.g.x<d){if(C(a,!1),0<d&&player[a].a.g.x<d||0>d&&player[a].a.g.x>d)player[a].a.g.x=d}else if(player[a].a.g.x+=e,0<d&&player[a].a.g.x>d||0>d&&player[a].a.g.x<d)player[a].a.g.x=d}},m:function(a){return player[a].b.L[0]||player[a].b.r[0]||0<player[a].b.Y[0]||
0<player[a].b.ba[0]?(player[a].a.g.x*=.25,aS[21].f(a),!0):player[a].b.B[0]&&!player[a].b.B[1]?(4>player[a].c&&.8<=player[a].b.h[0].x*player[a].a.face?(player[a].a.g.x*=.25,aS[57].f(a)):0<player[a].b.Y[0]||0<player[a].b.ba[0]?aS[73].f(a):aS[55].f(a),!0):N(a)?(aS[8].f(a),!0):player[a].b.X[0]&&!player[a].b.X[1]&&.6<Math.abs(player[a].b.h[0].x)?(player[a].a.face=Math.sign(player[a].b.h[0].x),aS[56].f(a),!0):4<player[a].c&&K(a)?(player[a].a.g.x*=.25,aS[3].f(a),!0):20<player[a].c&&.79<player[a].b.h[0].x*
player[a].a.face&&.3>player[a].b.h[2].x*player[a].a.face?(aS[1].f(a),!0):player[a].c>player[a].C.Kd&&.62<player[a].b.h[0].x*player[a].a.face?(aS[2].f(a),!0):player[a].c>player[a].C.Jd?(aS[0].f(a),!0):!1}},{name:"RUN",H:!0,w:!0,f:function(a){player[a].o=2;player[a].c=1;aS[2].l(a)},l:function(a){16<player[a].c&&(player[a].c=1);if(!aS[2].m(a)){var d=[!1,!1];2>player[a].c&&(d[0]=!0);10>player[a].c&&(d[1]=!0);var e=player[a].b.h[0].x*player[a].C.Ka;player[a].a.g.x+=1/(2.5*player[a].C.Ka)*(player[a].C.Ka*
player[a].b.h[0].x-player[a].a.g.x)*(player[a].C.Cb+player[a].C.Id/Math.sign(player[a].b.h[0].x));player[a].a.g.x*player[a].a.face>e*player[a].a.face&&(player[a].a.g.x=e);e=player[a].a.g.x*player[a].a.face/player[a].C.Ka;0<e&&(player[a].c+=e);(d[0]&&2<=player[a].c||d[1]&&10<=player[a].c)&&sounds.ed.play()}},m:function(a){if(player[a].b.B[0]&&!player[a].b.B[1])return 0<player[a].b.Y[0]||0<player[a].b.ba[0]?aS[73].f(a):aS[55].f(a),!0;if(N(a))return aS[8].f(a),!0;if(player[a].b.X[0]&&!player[a].b.X[1]&&
.6<Math.abs(player[a].b.h[0].x))return player[a].a.face=Math.sign(player[a].b.h[0].x),aS[56].f(a),!0;if(player[a].b.L[0]||player[a].b.r[0]||0<player[a].b.Y[0]||0<player[a].b.ba[0])return aS[21].f(a),!0;if(.62>Math.abs(player[a].b.h[0].x))return aS[5].f(a),!0;if(-.3>player[a].b.h[0].x*player[a].a.face)return aS[6].f(a),!0}},{name:"SMASHTURN",H:!0,ec:!0,w:!0,f:function(a){player[a].o=3;player[a].c=0;player[a].a.face*=-1;aS[3].l(a)},l:function(a){player[a].c++;aS[3].m(a)||C(a,!0)},m:function(a){var d=
G(a),e=F(a);if(N(a))return aS[8].f(a),!0;if(player[a].b.X[0]&&!player[a].b.X[1]&&.6<Math.abs(player[a].b.h[0].x))return player[a].a.face=Math.sign(player[a].b.h[0].x),aS[56].f(a),!0;if(player[a].b.L[0]||player[a].b.r[0]||0<player[a].b.Y[0]||0<player[a].b.ba[0])return aS[21].f(a),!0;if(e[0])return aS[e[1]].f(a),!0;if(d[0])aS[d[1]].f(a);else return 2==player[a].c&&.79<player[a].b.h[0].x*player[a].a.face?(aS[1].f(a),!0):11<player[a].c?(aS[0].f(a),!0):!1}},{name:"TILTTURN",H:!0,w:!0,f:function(a){player[a].o=
4;player[a].c=0;aS[4].l(a)},l:function(a){player[a].c++;6==player[a].c&&(player[a].a.face*=-1);aS[4].m(a)||C(a,!0)},m:function(a){var d=6>player[a].c?G(a,-1):G(a),e=F(a);if(N(a))return aS[8].f(a),!0;if(player[a].b.X[0]&&!player[a].b.X[1]&&.6<Math.abs(player[a].b.h[0].x))return player[a].a.face=Math.sign(player[a].b.h[0].x),aS[56].f(a),!0;if(player[a].b.L[0]||player[a].b.r[0]||0<player[a].b.Y[0]||0<player[a].b.ba[0])return aS[21].f(a),!0;if(e[0])return aS[e[1]].f(a),!0;if(d[0])6>player[a].c&&(player[a].a.face*=
-1),aS[d[1]].f(a);else return 11<player[a].c?(aS[0].f(a),!0):6==player[a].c&&.79<player[a].b.h[0].x*player[a].a.face&&player[a].a.va?(aS[1].f(a),!0):!1}},{name:"RUNBRAKE",H:!0,w:!0,f:function(a){player[a].o=5;player[a].c=0;sounds.te.play();aS[5].l(a)},l:function(a){player[a].c++;aS[5].m(a)||C(a,!0)},m:function(a){return N(a)?(aS[8].f(a),!0):1<player[a].c&&O(a)?(aS[16].f(a),!0):-.3>player[a].b.h[0].x*player[a].a.face?(aS[6].f(a),!0):25<player[a].c?(aS[0].f(a),!0):!1}},{name:"RUNTURN",H:!1,w:!0,f:function(a){player[a].o=
6;player[a].c=0;aS[6].l(a)},l:function(a){player[a].c++;if(!aS[6].m(a)){19==player[a].c&&(player[a].a.face*=-1);if(19>player[a].c&&-.3>player[a].b.h[0].x*player[a].a.face){var d=(player[a].C.Cb-(1-Math.abs(player[a].b.h[0].x))*player[a].C.Cb)*player[a].a.face;player[a].a.g.x-=d}else 18<player[a].c&&.3<player[a].b.h[0].x*player[a].a.face?(d=(player[a].C.Cb-(1-Math.abs(player[a].b.h[0].x))*player[a].C.Cb)*player[a].a.face,player[a].a.g.x+=d):C(a,!0);18==player[a].c&&0<player[a].a.g.x*player[a].a.face&&
player[a].c--}},m:function(a){return N(a)?(aS[8].f(a),!0):30<player[a].c?(.6<player[a].b.h[0].x*player[a].a.face?aS[2].f(a):aS[0].f(a),!0):!1}},{name:"WALK",H:!0,w:!0,f:function(a,d){player[a].o=7;player[a].c=1;if(d){var e=player[a].C.$c*player[a].a.face;if(0<e&&player[a].a.g.x<e||0>e&&player[a].a.g.x>e)player[a].a.g.x+=player[a].C.$c*player[a].a.face}aS[7].l(a)},l:function(a){if(!aS[7].m(a)){var d=[!1,!1];5>player[a].c&&(d[0]=!0);15>player[a].c&&(d[1]=!0);var e=player[a].C.ad*player[a].b.h[0].x;
Math.abs(player[a].a.g.x)>Math.abs(e)?C(a,!0):(player[a].a.g.x+=1/(2*player[a].C.ad)*(e-player[a].a.g.x)*(player[a].C.$c+player[a].C.Re),player[a].a.g.x*player[a].a.face>e*player[a].a.face&&(player[a].a.g.x=e));e=player[a].a.g.x*player[a].a.face/player[a].C.ad;0<e&&(player[a].c+=e);(d[0]&&5<=player[a].c||d[1]&&15<=player[a].c)&&sounds.ed.play()}},m:function(a){var d=H(a),e=G(a),f=F(a);return 18<player[a].c?(aS[7].f(a,!1),!0):0==player[a].b.h[0].x?(aS[0].f(a),!0):N(a)?(aS[8].f(a),!0):player[a].b.L[0]||
player[a].b.r[0]||0<player[a].b.Y[0]||0<player[a].b.ba[0]?(aS[21].f(a),!0):d[0]?(aS[d[1]].f(a),!0):f[0]?(aS[f[1]].f(a),!0):e[0]?(aS[e[1]].f(a),!0):O(a)?(aS[16].f(a),!0):J(a)?(aS[1].f(a),!0):K(a)?(aS[3].f(a),!0):M(a)?(player[a].a.va=L(a),aS[4].f(a),!0):!1}},{name:"KNEEBEND",H:!0,w:!0,f:function(a){player[a].o=8;player[a].c=0;player[a].a.pc=1;aS[8].l(a)},l:function(a){player[a].c++;aS[8].m(a)||(C(a,!0),!player[a].b.x[0]&&!player[a].b.y[0]&&.67>player[a].b.h[0].y&&(player[a].a.pc=0))},m:function(a){var d=
H(a);player[a].c==player[a].C.hd&&(player[a].a.j.y+=.001);return player[a].c>player[a].C.hd?(-.3<=player[a].b.h[2].x*player[a].a.face?aS[9].f(a,player[a].a.pc):aS[15].f(a,player[a].a.pc),!0):player[a].b.B[0]&&!player[a].b.B[1]&&(0<player[a].b.Y[0]||0<player[a].b.ba[0])?(aS[73].f(a),!0):player[a].b.B[0]&&!player[a].b.B[1]&&.8<=player[a].b.h[0].y&&.3>player[a].b.h[3].y||.8<=player[a].b.M[0].y&&.3>player[a].b.M[3].y?(aS[58].f(a),!0):d[0]?(aS[d[1]].f(a),!0):!1}},{name:"JUMPF",ca:!0,V:[!0,!1],ga:!0,da:!0,
w:!0,f:function(a,d){player[a].o=9;player[a].c=0;player[a].a.g.y=d?player[a].a.g.y+player[a].C.Lc:player[a].a.g.y+player[a].C.qd;player[a].a.g.x=player[a].a.g.x*player[a].C.fd+player[a].b.h[0].x*player[a].C.Jb;Math.abs(player[a].a.g.x)>player[a].C.Jb&&(player[a].a.g.x=player[a].C.Jb*Math.sign(player[a].a.g.x));player[a].a.O=!1;sounds.gd.play();sounds.Mc.play();aS[9].l(a)},l:function(a){player[a].c++;!aS[9].m(a)&&1<player[a].c&&(E(a),D(a))},m:function(a){var d=I(a),e=H(a);return d[0]?(aS[d[1]].f(a),
!0):player[a].b.L[0]&&!player[a].b.L[1]||player[a].b.r[0]&&!player[a].b.r[1]?(aS[11].f(a),!0):(player[a].b.x[0]&&!player[a].b.x[1]||player[a].b.y[0]&&!player[a].b.y[1]||.7<player[a].b.h[0].y&&.7>=player[a].b.h[1].y)&&!player[a].a.ra?(aS[19].f(a),!0):e[0]?(aS[e[1]].f(a),!0):45<player[a].c?(aS[13].f(a),!0):!1}},{name:"LANDING",H:!0,w:!0,f:function(a){player[a].o=10;player[a].c=0;n("impactLand",player[a].a.j,player[a].a.face);n("circleDust",player[a].a.j,player[a].a.face);sounds.vb.play();aS[10].l(a)},
l:function(a){player[a].c++;aS[10].m(a)||C(a,!0)},m:function(a){if(4<player[a].c&&30>=player[a].c){var d=H(a),e=G(a),f=F(a);return N(a)?(aS[8].f(a),!0):player[a].b.L[0]||player[a].b.r[0]||0<player[a].b.Y[0]||0<player[a].b.ba[0]?(aS[21].f(a),!0):d[0]?(aS[d[1]].f(a),!0):f[0]?(aS[f[1]].f(a),!0):e[0]?(aS[e[1]].f(a),!0):J(a)?(aS[1].f(a),!0):K(a)?(aS[3].f(a),!0):M(a)?(player[a].a.va=L(a),aS[4].f(a),!0):.3<Math.abs(player[a].b.h[0].x)?(aS[7].f(a,!0),!0):5==player[a].c&&-.5>player[a].b.h[0].y?(aS[17].f(a),
!0):!1}return 30<player[a].c?(aS[0].f(a),!0):!1}},{name:"ESCAPEAIR",ca:!1,V:[!1,!1],ga:!1,da:!1,w:!0,f:function(a){player[a].o=11;player[a].c=0;if(0<Math.abs(player[a].b.h[0].x)||0<Math.abs(player[a].b.h[0].y)){var d=ia(player[a].b.h[0].x,player[a].b.h[0].y);player[a].a.g.x=3.1*Math.cos(d);player[a].a.g.y=3.1*Math.sin(d)}else player[a].a.g.x=0,player[a].a.g.y=0;player[a].a.Ba=!1;player[a].a.Oc=3;aS[11].l(a)},l:function(a){player[a].c++;aS[11].m(a)||(30>player[a].c?(player[a].a.g.x*=.9,player[a].a.g.y*=
.9):(D(a),E(a)),4==player[a].c&&(player[a].a.aa=25,sounds.cd.play()))},m:function(a){return 49<player[a].c?(aS[14].f(a),!0):!1}},{name:"LANDINGFALLSPECIAL",H:!0,V:!1,w:!0,f:function(a){player[a].o=12;player[a].c=0;n("circleDust",player[a].a.j,player[a].a.face);sounds.vb.play();aS[12].l(a)},l:function(a){player[a].c+=player[a].a.Oc;aS[12].m(a)||C(a,!0)},m:function(a){return 30<player[a].c?(aS[0].f(a),!0):!1}},{name:"FALL",ca:!0,V:[!0,!1],ga:!0,da:!0,w:!0,f:function(a){player[a].o=13;player[a].c=0;
m(a);aS[13].l(a)},l:function(a){player[a].c++;aS[13].m(a)||(E(a),D(a))},m:function(a){var d=I(a),e=H(a);return d[0]?(aS[d[1]].f(a),!0):player[a].b.L[0]&&!player[a].b.L[1]||player[a].b.r[0]&&!player[a].b.r[1]?(aS[11].f(a),!0):(player[a].b.x[0]&&!player[a].b.x[1]||player[a].b.y[0]&&!player[a].b.y[1]||.7<player[a].b.h[0].y&&.7>=player[a].b.h[1].y)&&!player[a].a.ra?(aS[19].f(a),!0):e[0]?(aS[e[1]].f(a),!0):10<player[a].c?(aS[13].f(a),!0):!1}},{name:"FALLSPECIAL",ca:!0,V:[!0,!1],ga:!1,da:!1,w:!0,f:function(a){player[a].o=
14;player[a].c=0;aS[14].l(a)},l:function(a){player[a].c++;aS[14].m(a)||(E(a),D(a))},m:function(a){return 10<player[a].c?(aS[14].f(a),!0):!1}},{name:"JUMPB",ca:!0,V:[!0,!1],ga:!0,da:!0,w:!0,f:function(a,d){player[a].o=15;player[a].c=0;player[a].a.g.y=d?player[a].a.g.y+player[a].C.Lc:player[a].a.g.y+player[a].C.qd;player[a].a.g.x=player[a].a.g.x*player[a].C.fd+player[a].b.h[0].x*player[a].C.Jb;Math.abs(player[a].a.g.x)>player[a].C.Jb&&(player[a].a.g.x=player[a].C.Jb*Math.sign(player[a].a.g.x));player[a].a.O=
!1;sounds.gd.play();sounds.Mc.play();aS[15].l(a)},l:function(a){player[a].c++;!aS[15].m(a)&&1<player[a].c&&(E(a),D(a))},m:function(a){var d=I(a),e=H(a);return d[0]?(aS[d[1]].f(a),!0):player[a].b.L[0]&&!player[a].b.L[1]||player[a].b.r[0]&&!player[a].b.r[1]?(aS[11].f(a),!0):(player[a].b.x[0]&&!player[a].b.x[1]||player[a].b.y[0]&&!player[a].b.y[1]||.7<player[a].b.h[0].y&&.7>=player[a].b.h[1].y)&&!player[a].a.ra?(aS[19].f(a),!0):e[0]?(aS[e[1]].f(a),!0):55<player[a].c?(aS[13].f(a),!0):!1}},{name:"SQUAT",
H:!0,w:!0,f:function(a){player[a].o=16;player[a].c=0;aS[16].l(a)},l:function(a){player[a].c++;aS[16].m(a)||C(a,!0)},m:function(a){var d=H(a),e=G(a),f=F(a);return 4==player[a].c&&(-.65>player[a].b.h[0].y||-.65>player[a].b.h[1].y||-.65>player[a].b.h[2].y)&&-.3<player[a].b.h[6].y&&1==player[a].a.na[0]?(aS[20].f(a),!0):player[a].b.L[0]||player[a].b.r[0]||0<player[a].b.Y[0]||0<player[a].b.ba[0]?(aS[21].f(a),!0):d[0]?(aS[d[1]].f(a),!0):f[0]?(aS[f[1]].f(a),!0):e[0]?(aS[e[1]].f(a),!0):7<player[a].c?(aS[17].f(a),
!0):N(a)?(aS[8].f(a),!0):!1}},{name:"SQUATWAIT",H:!0,w:!0,f:function(a){player[a].o=17;player[a].c=0;aS[17].l(a)},l:function(a){player[a].c++;aS[17].m(a)||C(a,!0)},m:function(a){var d=H(a),e=G(a),f=F(a);return-.61<player[a].b.h[0].y?(aS[18].f(a),!0):N(a)?(aS[8].f(a),!0):player[a].b.L[0]||player[a].b.r[0]||0<player[a].b.Y[0]||0<player[a].b.ba[0]?(aS[21].f(a),!0):d[0]?(aS[d[1]].f(a),!0):f[0]?(aS[f[1]].f(a),!0):e[0]?(aS[e[1]].f(a),!0):J(a)?(aS[1].f(a),!0):K(a)?(aS[3].f(a),!0):!1}},{name:"SQUATRV",H:!0,
w:!0,f:function(a){player[a].o=18;player[a].c=0;aS[18].l(a)},l:function(a){player[a].c++;aS[18].m(a)||C(a,!0)},m:function(a){var d=H(a),e=G(a),f=F(a);return 8<player[a].c?(aS[0].f(a),!0):N(a)?(aS[8].f(a),!0):player[a].b.L[0]||player[a].b.r[0]||0<player[a].b.Y[0]||0<player[a].b.ba[0]?(aS[21].f(a),!0):d[0]?(aS[d[1]].f(a),!0):f[0]?(aS[f[1]].f(a),!0):e[0]?(aS[e[1]].f(a),!0):K(a)?(aS[3].f(a),!0):.3<Math.abs(player[a].b.h[0].x)?(aS[7].f(a,!0),!0):!1}},{name:"JUMPAERIALF",ca:!0,V:[!0,!1],ga:!0,da:!0,w:!0,
f:function(a){player[a].o=19;player[a].c=0;player[a].a.Ba=!1;player[a].a.ra=!0;player[a].a.g.y=player[a].C.Lc*player[a].C.Qd;player[a].a.g.x=1*player[a].b.h[0].x;n("doubleJumpRings",player[a].a.j,player[a].a.face);sounds.Mc.play();aS[19].l(a)},l:function(a){player[a].c++;aS[19].m(a)||(E(a),D(a))},m:function(a){var d=I(a),e=H(a);return d[0]?(aS[d[1]].f(a),!0):player[a].b.L[0]&&!player[a].b.L[1]||player[a].b.r[0]&&!player[a].b.r[1]?(aS[11].f(a),!0):e[0]?(aS[e[1]].f(a),!0):50<player[a].c?(aS[32].f(a),
!0):!1}},{name:"PASS",ca:!0,V:[!0,!1],ga:!0,da:!0,w:!0,f:function(a){player[a].o=20;player[a].c=0;player[a].a.O=!1;player[a].a.Qc=!1;player[a].a.Gc[player[a].a.na[1]]=!1;player[a].a.g.y=-.5;aS[20].l(a)},l:function(a){player[a].c++;1<player[a].c&&!aS[20].m(a)&&(player[a].a.Qc?E(a):(player[a].a.g.y-=player[a].C.Gb,player[a].a.g.y<-player[a].C.Ia&&(player[a].a.g.y=-player[a].C.Ia),-.3<player[a].b.h[0].y&&(player[a].a.Qc=!0)),D(a))},m:function(a){var d=I(a),e=H(a);return d[0]?(aS[d[1]].f(a),!0):player[a].b.L[0]&&
!player[a].b.L[1]||player[a].b.r[0]&&!player[a].b.r[1]?(aS[11].f(a),!0):(player[a].b.x[0]&&!player[a].b.x[1]||player[a].b.y[0]&&!player[a].b.y[1]||.7<player[a].b.h[0].y&&.7>=player[a].b.h[1].y)&&!player[a].a.ra?(aS[19].f(a),!0):e[0]?(aS[e[1]].f(a),!0):30<player[a].c?(aS[13].f(a),!0):!1}},{name:"GUARDON",H:!0,w:!0,f:function(a){player[a].o=21;player[a].c=0;player[a].a.Z=!0;player[a].a.ab=new k(0,0);player[a].a.Nb=!1;ka(a,!0);player[a].a.Mb=1==Math.max(player[a].b.Y[0],player[a].b.ba[0])?!0:!1;aS[21].l(a)},
l:function(a){0<player[a].v.cb?(C(a,!1),B(a,!0)):(player[a].c++,2==player[a].c&&1==Math.max(player[a].b.Y[0],player[a].b.ba[0])&&(player[a].a.Mb=!0),aS[21].m(a)||(1==player[a].c&&(sounds.shieldup.play(),sounds.He.play()),player[a].ha||(C(a,!1),ja(a)),B(a,!1),ka(a)))},m:function(a){return player[a].ha?8<player[a].c?(aS[22].f(a),!0):!1:N(a)||.65<player[a].b.M[0].y?(player[a].a.Z=!1,aS[8].f(a),!0):player[a].b.B[0]&&!player[a].b.B[1]?(player[a].a.Z=!1,aS[73].f(a),!0):-.7>player[a].b.h[0].y&&-.3<player[a].b.h[4].y||
-.7>player[a].b.M[0].y?(player[a].a.Z=!1,aS[54].f(a),!0):.7<player[a].b.h[0].x*player[a].a.face&&.3>player[a].b.h[4].x*player[a].a.face||.7<player[a].b.M[0].x*player[a].a.face?(player[a].a.Z=!1,aS[53].f(a),!0):-.7>player[a].b.h[0].x*player[a].a.face&&-.3<player[a].b.h[4].x*player[a].a.face||-.7>player[a].b.M[0].x*player[a].a.face?(player[a].a.Z=!1,aS[52].f(a),!0):1<player[a].c&&-.65>player[a].b.h[0].y&&-.3<player[a].b.h[6].y&&1==player[a].a.na[0]?(player[a].a.Z=!1,aS[20].f(a),!0):8<player[a].c?(aS[22].f(a),
!0):!1}},{name:"GUARD",H:!0,w:!0,f:function(a){player[a].o=22;player[a].c=0;player[a].a.Mb=!1;aS[22].l(a)},l:function(a){0<player[a].v.cb?(C(a,!1),B(a,!0)):(player[a].c++,aS[22].m(a)||(player[a].ha||(C(a,!1),ja(a)),B(a,!1),ka(a)))},m:function(a){return player[a].ha?.3>player[a].b.Y[0]&&.3>player[a].b.ba[0]?(player[a].a.Z=!1,aS[23].f(a),!0):1<player[a].c?(aS[22].f(a),!0):!1:N(a)||.66<player[a].b.M[0].y?(player[a].a.Z=!1,aS[8].f(a),!0):player[a].b.B[0]&&!player[a].b.B[1]?(player[a].a.Z=!1,aS[73].f(a),
!0):-.7>player[a].b.h[0].y&&-.3<player[a].b.h[4].y||-.7>player[a].b.M[0].y?(player[a].a.Z=!1,aS[54].f(a),!0):.7<player[a].b.h[0].x*player[a].a.face&&.3>player[a].b.h[4].x*player[a].a.face||.7<player[a].b.M[0].x*player[a].a.face?(player[a].a.Z=!1,aS[53].f(a),!0):-.7>player[a].b.h[0].x*player[a].a.face&&-.3<player[a].b.h[4].x*player[a].a.face||-.7>player[a].b.M[0].x*player[a].a.face?(player[a].a.Z=!1,aS[52].f(a),!0):-.65>player[a].b.h[0].y&&-.3<player[a].b.h[6].y&&1==player[a].a.na[0]?(player[a].a.Z=
!1,aS[20].f(a),!0):.3>player[a].b.Y[0]&&.3>player[a].b.ba[0]?(player[a].a.Z=!1,aS[23].f(a),!0):1<player[a].c?(aS[22].f(a),!0):!1}},{name:"GUARDOFF",H:!0,w:!0,f:function(a){player[a].o=23;player[a].c=0;sounds.we.play();aS[23].l(a)},l:function(a){player[a].c++;aS[23].m(a)||(6==player[a].c&&sounds.Ac.play(),C(a,!1))},m:function(a){if(N(a)&&!player[a].ha)return aS[8].f(a),!0;if(16<player[a].c)return aS[0].f(a),!0;if(player[a].a.Nb){if(player[a].ha)return e=F(a),e[0]?(aS[e[1]].f(a),!0):!1;var d=G(a),e=
F(a);if(e[0])return aS[e[1]].f(a),!0;if(d[0])return aS[d[1]].f(a),!0;if(O(a))return aS[16].f(a),!0;if(J(a))return aS[1].f(a),!0;if(K(a))return aS[3].f(a),!0;if(M(a))return player[a].a.va=L(a),aS[4].f(a),!0;if(.3<Math.abs(player[a].b.h[0].x))return aS[7].f(a,!0),!0}return!1}},{name:"CLIFFCATCH",V:!1,w:!1,f:function(a){player[a].o=24;player[a].c=0;player[a].a.g.x=0;player[a].a.g.y=0;player[a].a.J.x=0;player[a].a.J.y=0;player[a].a.Ba=!1;player[a].a.ra=!1;player[a].a.aa=38;player[a].a.kd=0;n("cliffcatchspark",
new k(stage.K[player[a].a.ja][1]?stage.s[stage.K[player[a].a.ja][0]].max.x:stage.s[stage.K[player[a].a.ja][0]].min.x,stage.s[stage.K[player[a].a.ja][0]].max.y),player[a].a.face);sounds.ie.play();aS[24].l(a)},l:function(a){player[a].c++;aS[24].m(a)||(player[a].a.j=new k((stage.K[player[a].a.ja][1]?stage.s[stage.K[player[a].a.ja][0]].max.x:stage.s[stage.K[player[a].a.ja][0]].min.x)+cliffcatchOffset[player[a].c-1][0]*player[a].a.face,stage.s[stage.K[player[a].a.ja][0]].max.y+cliffcatchOffset[player[a].c-
1][1]))},m:function(a){return 7<player[a].c?(aS[25].f(a),!0):!1}},{name:"CLIFFWAIT",V:!1,w:!1,f:function(a){player[a].o=25;player[a].c=0;aS[25].l(a)},l:function(a){player[a].c++;aS[25].m(a)||player[a].a.kd++},m:function(a){return-.5>player[a].b.h[0].x*player[a].a.face||-.5>player[a].b.h[0].y?(player[a].a.ja=-1,player[a].a.Kb=!0,aS[13].f(a),!0):.5<player[a].b.h[0].x*player[a].a.face||.5<player[a].b.h[0].y?(aS[95].f(a),!0):600<player[a].a.kd?(player[a].a.ja=-1,player[a].a.Kb=!0,aS[40].f(a),!0):60<player[a].c?
(aS[25].f(a),!0):!1}},{name:"DEADLEFT",w:!1,f:function(a){player[a].o=26;player[a].c=0;player[a].a.g.x=0;player[a].a.g.y=0;player[a].a.J.x=0;player[a].a.J.y=0;player[a].wa=0;n("blastzoneExplosion",player[a].a.j,90);A()||(q(500),r(500,a));sounds.qc.play();sounds.hc.play();aS[26].l(a)},l:function(a){player[a].c++;aS[26].m(a)||4!=player[a].c||(A()?P():(q(500),r(500,a)))},m:function(a){return 60<player[a].c?(0<player[a].Ca?aS[30].f(a):aS[93].f(a),!0):!1}},{name:"DEADRIGHT",w:!1,f:function(a){player[a].o=
27;player[a].c=0;player[a].a.g.x=0;player[a].a.g.y=0;player[a].a.J.x=0;player[a].a.J.y=0;player[a].wa=0;n("blastzoneExplosion",player[a].a.j,-90);A()||(q(500),r(500,a));sounds.qc.play();sounds.hc.play();aS[27].l(a)},l:function(a){player[a].c++;aS[27].m(a)||4!=player[a].c||(A()?P():(q(500),r(500,a)))},m:function(a){return 60<player[a].c?(0<player[a].Ca?aS[30].f(a):aS[93].f(a),!0):!1}},{name:"DEADUP",w:!1,f:function(a){player[a].o=28;player[a].c=0;player[a].a.g.x=0;player[a].a.g.y=0;player[a].a.J.x=
0;player[a].a.J.y=0;player[a].wa=0;n("blastzoneExplosion",player[a].a.j,180);A()||(q(500),r(500,a));sounds.qc.play();sounds.hc.play();aS[28].l(a)},l:function(a){player[a].c++;aS[28].m(a)||4!=player[a].c||(A()?P():(q(500),r(500,a)))},m:function(a){return 60<player[a].c?(0<player[a].Ca?aS[30].f(a):aS[93].f(a),!0):!1}},{name:"DEADDOWN",w:!1,f:function(a){player[a].o=29;player[a].c=0;player[a].a.g.x=0;player[a].a.g.y=0;player[a].a.J.x=0;player[a].a.J.y=0;player[a].wa=0;n("blastzoneExplosion",player[a].a.j,
0);A()||(q(500),r(500,a));sounds.qc.play();sounds.hc.play();aS[29].l(a)},l:function(a){player[a].c++;aS[29].m(a)||4!=player[a].c||(A()?P():(q(500),r(500,a)))},m:function(a){return 60<player[a].c?(0<player[a].Ca?aS[30].f(a):aS[93].f(a),!0):!1}},{name:"REBIRTH",w:!1,f:function(a){player[a].o=30;player[a].c=1;player[a].a.j.x=stage.Ob[a].x;player[a].a.j.y=stage.Ob[a].y+135;player[a].a.g.x=0;player[a].a.g.y=-1.5;player[a].a.face=stage.dc[a];player[a].a.ra=!1;player[a].a.Ba=!1;player[a].a.Fc=0;player[a].a.wc=
!0;player[a].Zc=0;player[a].wa=0;player[a].a.J.x=0;player[a].a.J.y=0},l:function(a){player[a].c+=.5;aS[30].m(a)},m:function(a){return 45<=player[a].c?(aS[31].f(a),!0):!1}},{name:"REBIRTHWAIT",w:!1,f:function(a){player[a].o=31;player[a].c=1;player[a].a.g.y=0},l:function(a){player[a].c+=.5;player[a].Zc++;aS[31].m(a)},m:function(a){return 45<=player[a].c?(aS[31].f(a),!0):300<player[a].Zc||.3<Math.abs(player[a].b.h[0].x)||.3<Math.abs(player[a].b.h[0].y)?(player[a].a.O=!1,player[a].a.Yb=120,aS[13].f(a),
!0):!1}},{name:"FALLAERIAL",ca:!0,V:[!0,!1],ga:!0,da:!0,w:!0,f:function(a){player[a].o=32;player[a].c=0;aS[32].l(a)},l:function(a){player[a].c++;aS[32].m(a)||(E(a),D(a))},m:function(a){var d=I(a),e=H(a);return d[0]?(aS[d[1]].f(a),!0):player[a].b.L[0]&&!player[a].b.L[1]||player[a].b.r[0]&&!player[a].b.r[1]?(aS[11].f(a),!0):(player[a].b.x[0]&&!player[a].b.x[1]||player[a].b.y[0]&&!player[a].b.y[1]||.7<player[a].b.h[0].y&&.7>=player[a].b.h[1].y)&&!player[a].a.ra?(aS[19].f(a),!0):e[0]?(aS[e[1]].f(a),!0):
10<player[a].c?(aS[32].f(a),!0):!1}},{name:"ATTACKAIRF",ca:!1,V:[!1,!1],ga:!1,da:!1,w:!0,f:function(a){player[a].o=33;player[a].c=0;player[a].a.ma=!1;player[a].oc=!0;player[a].i.id[0]=player[a].A.Sa.D;player[a].i.id[1]=player[a].A.Sa.F;player[a].i.id[2]=player[a].A.Sa.G;player[a].i.id[3]=player[a].A.Sa.I;m(a);aS[33].l(a)},l:function(a){player[a].c++;aS[33].m(a)||(E(a),D(a),2<player[a].c&&11>player[a].c&&n("swingFair",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,
player[a].c-3),4==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,sounds.rb.play()),4<player[a].c&&8>player[a].c&&player[a].i.frame++,8==player[a].c&&m(a),27==player[a].c&&(player[a].a.ma=!0))},m:function(a){if(33<player[a].c)return aS[13].f(a),!0;if(29<player[a].c){var d=I(a);if((player[a].b.x[0]&&!player[a].b.x[1]||player[a].b.y[0]&&!player[a].b.y[1]||.7<player[a].b.h[0].y&&.7>=player[a].b.h[1].y)&&!player[a].a.ra)return aS[19].f(a),!0;if(d[0])return aS[d[1]].f(a),!0}return!1}},
{name:"ATTACKAIRB",ca:!1,V:[!1,!1],ga:!1,da:!1,w:!0,f:function(a){player[a].o=34;player[a].c=0;player[a].a.ma=!1;player[a].oc=!0;m(a);player[a].i.id[0]=player[a].A.Ja.D;player[a].i.id[1]=player[a].A.Ja.F;player[a].i.id[2]=player[a].A.Ja.G;player[a].i.id[3]=player[a].A.Ja.I;aS[34].l(a)},l:function(a){player[a].c++;aS[34].m(a)||(30==player[a].c&&(player[a].a.face*=-1),E(a),D(a),2<player[a].c&&12>player[a].c&&n("swingBair",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,
player[a].c-3),7==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,sounds.rb.play()),7<player[a].c&&12>player[a].c&&player[a].i.frame++,12==player[a].c&&m(a),32==player[a].c&&(player[a].a.ma=!0))},m:function(a){if(39<player[a].c)return aS[13].f(a),!0;if(34<player[a].c){var d=I(a);if((player[a].b.x[0]&&!player[a].b.x[1]||player[a].b.y[0]&&!player[a].b.y[1]||.7<player[a].b.h[0].y&&.7>=player[a].b.h[1].y)&&!player[a].a.ra)return aS[19].f(a),!0;if(d[0])return aS[d[1]].f(a),!0}return!1}},
{name:"ATTACKAIRU",ca:!1,V:[!1,!1],ga:!1,da:!1,w:!0,f:function(a){player[a].o=35;player[a].c=0;player[a].a.ma=!0;player[a].oc=!0;m(a);player[a].i.id[0]=player[a].A.fb.D;player[a].i.id[1]=player[a].A.fb.F;player[a].i.id[2]=player[a].A.fb.G;player[a].i.id[3]=player[a].A.fb.I;aS[35].l(a)},l:function(a){player[a].c++;aS[35].m(a)||(E(a),D(a),4<player[a].c&&15>player[a].c&&n("swingUpair",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-5),5==player[a].c&&
(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,player[a].a.ma=!1,sounds.rb.play()),5<player[a].c&&9>player[a].c&&player[a].i.frame++,9==player[a].c&&m(a),27==player[a].c&&(player[a].a.ma=!0))},m:function(a){return 45<player[a].c?(aS[13].f(a),!0):!1}},{name:"ATTACKAIRD",ca:!1,V:[!1,!1],ga:!1,da:!1,w:!0,f:function(a){player[a].o=36;player[a].c=0;player[a].a.ma=!0;player[a].oc=!0;m(a);player[a].i.id[0]=player[a].A.La.D;player[a].i.id[1]=player[a].A.La.F;player[a].i.id[2]=player[a].A.La.G;player[a].i.id[3]=
player[a].A.La.I;aS[36].l(a)},l:function(a){player[a].c++;aS[36].m(a)||(E(a),D(a),4<player[a].c&&12>player[a].c&&n("swingDair",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-5),6==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,player[a].a.ma=!1,sounds.rb.play()),6<player[a].c&&10>player[a].c&&player[a].i.frame++,10==player[a].c&&m(a),48==player[a].c&&(player[a].a.ma=!0))},m:function(a){return 59<player[a].c?(aS[13].f(a),!0):
!1}},{name:"ATTACKAIRN",ca:!1,V:[!1,!1],ga:!1,da:!1,w:!0,f:function(a){player[a].o=37;player[a].c=0;player[a].a.ma=!0;player[a].oc=!0;m(a);player[a].i.id[0]=player[a].A.Ya.D;player[a].i.id[1]=player[a].A.Ya.F;player[a].i.id[2]=player[a].A.Ya.G;player[a].i.id[3]=player[a].A.Ya.I;aS[37].l(a)},l:function(a){player[a].c++;aS[37].m(a)||(E(a),D(a),4<player[a].c&&9>player[a].c&&n("swingNair1",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-5),13<player[a].c&&
18>player[a].c&&n("swingNair2",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-14),6==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,player[a].a.ma=!1,sounds.zc.play()),7==player[a].c&&player[a].i.frame++,8==player[a].c&&m(a),15==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.id[0]=player[a].A.Za.D,player[a].i.id[1]=player[a].A.Za.F,player[a].i.id[2]=player[a].A.Za.G,player[a].i.id[3]=player[a].A.Za.I,player[a].i.frame=
0,sounds.Pb.play()),15<player[a].c&&22>player[a].c&&player[a].i.frame++,22==player[a].c&&m(a),25==player[a].c&&(player[a].a.ma=!0))},m:function(a){return 49<player[a].c?(aS[13].f(a),!0):!1}},{name:"UPSPECIAL",ca:!0,V:[!0,!1],oa:[[.75685,14.41555],[.7145,15.51062],[.67334,8.65633],[.63338,2.42162],[.59462,2.11897],[.55706,1.83569],[.52069,1.57181],[.48552,1.32731],[.45155,1.10218],[.41878,.89645],[.3872,.7101],[.35682,.54314],[.32765,.39556],[.29966,.26735],[.27288,.15855],[.24729,.06912],[.2229,-9.3E-4]],
ga:!1,da:!1,w:!0,f:function(a){player[a].o=38;player[a].c=0;player[a].a.g=new k(0,0);player[a].a.Ba=!1;player[a].a.Sb=0;m(a);player[a].i.id[0]=player[a].A.zb.D;player[a].i.id[1]=player[a].A.zb.F;player[a].i.id[2]=player[a].A.zb.G;player[a].a.Oc=30/34;sounds.Sd.play();sounds.Td.play();aS[38].l(a)},l:function(a){player[a].c++;aS[38].m(a)||(0>=player[a].a.g.y&&(player[a].a.Vb=!0),6>player[a].c&&.7<Math.abs(player[a].b.h[0].x)&&(player[a].a.Sb=-player[a].b.h[0].x*Math.PI/16),6==player[a].c&&(player[a].a.O=
!1,-.7>player[a].b.h[0].x*player[a].a.face&&(player[a].a.face*=-1)),5<player[a].c&&23>player[a].c?player[a].a.g=new k(aS[38].oa[player[a].c-6][0]*player[a].a.face*Math.cos(player[a].a.Sb)-aS[38].oa[player[a].c-6][1]*Math.sin(player[a].a.Sb),aS[38].oa[player[a].c-6][0]*player[a].a.face*Math.sin(player[a].a.Sb)+aS[38].oa[player[a].c-6][1]*Math.cos(player[a].a.Sb)):22<player[a].c&&(E(a),D(a)),5==player[a].c&&(player[a].i.active=[!0,!0,!0,!1],player[a].i.frame=0),6==player[a].c&&(player[a].i.id[0]=player[a].A.Ab.D,
player[a].i.id[1]=player[a].A.Ab.F,player[a].i.id[2]=player[a].A.Ab.G),6<player[a].c&&11>player[a].c&&player[a].i.frame++,11==player[a].c&&m(a),2<player[a].c&&12>player[a].c&&n("swingUpb",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-3))},m:function(a){return 39<player[a].c?(aS[14].f(a),!0):!1}},{name:"DAMAGEFLYN",ca:!1,V:[!1,!1],ga:!1,da:!0,w:!0,f:function(a,d){player[a].o=39;player[a].c=0;player[a].a.ia=-1;player[a].a.R=-1;d&&(n("hitSparks",
player[a].v.mb,player[a].a.face),n("hitFlair",player[a].v.mb,player[a].a.face),n("hitCurve",player[a].v.mb,player[a].a.face,player[a].v.ua));player[a].i.id[0]=player[a].A.Bc.D;m(a);aS[39].l(a)},l:function(a){player[a].a.Cc&&(1==player[a].c&&0<player[a].a.g.y+player[a].a.J.y&&(player[a].i.active=[!0,!1,!1,!1],player[a].i.frame=0),1<player[a].c&&0<player[a].a.g.y+player[a].a.J.y&&player[a].i.frame++,0>=player[a].a.g.y+player[a].a.J.y&&m(a));29>player[a].c&&player[a].c++;0==player[a].v.xa%10&&n("flyingDust",
player[a].a.j);aS[39].m(a)?player[a].a.Cc=!1:1<player[a].c&&(player[a].v.xa--,player[a].a.O||(player[a].a.g.y-=player[a].C.Gb,player[a].a.g.y<-player[a].C.Ia&&(player[a].a.g.y=-player[a].C.Ia)))},m:function(a){return 1<player[a].c&&0==player[a].v.xa?(aS[40].f(a),!0):!1}},{name:"DAMAGEFALL",ca:!1,V:[!0,!1],ga:!1,da:!0,w:!0,f:function(a){player[a].o=40;player[a].c=0;m(a);aS[40].l(a)},l:function(a){player[a].c++;aS[40].m(a)||(E(a),D(a))},m:function(a){var d=I(a),e=H(a);return d[0]?(aS[d[1]].f(a),!0):
player[a].b.L[0]&&!player[a].b.L[1]||player[a].b.r[0]&&!player[a].b.r[1]?(aS[11].f(a),!0):(player[a].b.x[0]&&!player[a].b.x[1]||player[a].b.y[0]&&!player[a].b.y[1]||.7<player[a].b.h[0].y&&.7>=player[a].b.h[1].y)&&!player[a].a.ra?(aS[19].f(a),!0):e[0]?(aS[e[1]].f(a),!0):.7<player[a].b.h[0].x&&.7>player[a].b.h[1].x||-.7>player[a].b.h[0].x&&-.7<player[a].b.h[1].x||.7<player[a].b.h[0].y&&.7>player[a].b.h[1].y||-.7>player[a].b.h[0].y&&-.7<player[a].b.h[1].y?(aS[13].f(a),!0):30<player[a].c?(aS[40].f(a),
!0):!1}},{name:"DAMAGEN2",H:!0,ca:!1,V:[!1,!1],ga:!1,da:!1,w:!0,f:function(a){player[a].o=41;player[a].c=0;player[a].a.ia=-1;player[a].a.R=-1;m(a);n("hitSparks",player[a].v.mb,player[a].a.face);n("hitFlair",player[a].v.mb,player[a].a.face);n("hitCurve",player[a].v.mb,player[a].a.face,player[a].v.ua);aS[41].l(a)},l:function(a){player[a].ha?player[a].c+=.7:player[a].c++;!aS[41].m(a)&&1<player[a].c&&(player[a].v.xa--,player[a].a.O?C(a,!1):(player[a].a.g.y-=player[a].C.Gb,player[a].a.g.y<-player[a].C.Ia&&
(player[a].a.g.y=-player[a].C.Ia)))},m:function(a){if(23<player[a].c)return player[a].a.O||player[a].ha?aS[0].f(a):aS[13].f(a),!0;if(0>=player[a].v.xa&&!player[a].ha){if(player[a].a.O){var d=H(a),e=G(a),f=F(a);return N(a)?(aS[8].f(a),!0):player[a].b.L[0]||player[a].b.r[0]||0<player[a].b.Y[0]||0<player[a].b.ba[0]?(aS[21].f(a),!0):d[0]?(aS[d[1]].f(a),!0):f[0]?(aS[f[1]].f(a),!0):e[0]?(aS[e[1]].f(a),!0):O(a)?(aS[16].f(a),!0):J(a)?(aS[1].f(a),!0):K(a)?(aS[3].f(a),!0):M(a)?(player[a].a.va=L(a),aS[4].f(a),
!0):.3<Math.abs(player[a].b.h[0].x)?(aS[7].f(a,!0),!0):!1}e=I(a);d=H(a);if(e[0])return aS[e[1]].f(a),!0;if(player[a].b.L[0]&&!player[a].b.L[1]||player[a].b.r[0]&&!player[a].b.r[1])return aS[11].f(a),!0;if((player[a].b.x[0]&&!player[a].b.x[1]||player[a].b.y[0]&&!player[a].b.y[1]||.7<player[a].b.h[0].y&&.7>=player[a].b.h[1].y)&&!player[a].a.ra)return aS[19].f(a),!0;if(d[0])return aS[d[1]].f(a),!0;if(.7<player[a].b.h[0].x&&.7>player[a].b.h[1].x||-.7>player[a].b.h[0].x&&-.7<player[a].b.h[1].x||.7<player[a].b.h[0].y&&
.7>player[a].b.h[1].y||-.7>player[a].b.h[0].y&&-.7<player[a].b.h[1].y)return aS[13].f(a),!0;if(30<player[a].c)return aS[40].f(a),!0}return!1}},{name:"LANDINGATTACKAIRN",H:!0,w:!0,f:function(a){player[a].o=42;player[a].c=0;player[a].a.Ea=player[a].a.ub?2:1;n("circleDust",player[a].a.j,player[a].a.face);sounds.vb.play();aS[42].l(a)},l:function(a){player[a].c+=2*player[a].a.Ea;aS[42].m(a)||C(a,!0)},m:function(a){return 30<player[a].c?(aS[0].f(a),!0):!1}},{name:"LANDINGATTACKAIRF",H:!0,w:!0,f:function(a){player[a].o=
43;player[a].c=0;player[a].a.Ea=player[a].a.ub?2:1;n("circleDust",player[a].a.j,player[a].a.face);sounds.vb.play();aS[43].l(a)},l:function(a){player[a].c+=2*player[a].a.Ea;aS[43].m(a)||C(a,!0)},m:function(a){return 30<player[a].c?(aS[0].f(a),!0):!1}},{name:"LANDINGATTACKAIRB",H:!0,w:!0,f:function(a){player[a].o=44;player[a].c=0;player[a].a.Ea=player[a].a.ub?2:1;n("circleDust",player[a].a.j,player[a].a.face);sounds.vb.play();aS[44].l(a)},l:function(a){player[a].c+=1.25*player[a].a.Ea;aS[44].m(a)||
C(a,!0)},m:function(a){return 30<player[a].c?(aS[0].f(a),!0):!1}},{name:"LANDINGATTACKAIRD",H:!0,w:!0,f:function(a){player[a].o=45;player[a].c=0;player[a].a.Ea=player[a].a.ub?2:1;n("circleDust",player[a].a.j,player[a].a.face);sounds.vb.play();aS[45].l(a)},l:function(a){player[a].c+=.9375*player[a].a.Ea;aS[45].m(a)||C(a,!0)},m:function(a){return 30<player[a].c?(aS[0].f(a),!0):!1}},{name:"LANDINGATTACKAIRU",H:!0,w:!0,f:function(a){player[a].o=46;player[a].c=0;player[a].a.Ea=player[a].a.ub?2:1;n("circleDust",
player[a].a.j,player[a].a.face);sounds.vb.play();aS[46].l(a)},l:function(a){player[a].c+=2*player[a].a.Ea;aS[46].m(a)||C(a,!0)},m:function(a){return 30<player[a].c?(aS[0].f(a),!0):!1}},{name:"DOWNTILT",H:!1,w:!0,f:function(a){player[a].o=47;player[a].c=0;m(a);player[a].i.id[0]=player[a].A.Ra.D;player[a].i.id[1]=player[a].A.Ra.F;player[a].i.id[2]=player[a].A.Ra.G;player[a].i.id[3]=player[a].A.Ra.I;aS[47].l(a)},l:function(a){player[a].c++;aS[47].m(a)||(C(a,!0),5<player[a].c&&10>player[a].c&&n("swingDtilt",
new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-6),7==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,sounds.Pb.play()),7<player[a].c&&10>player[a].c&&player[a].i.frame++,10==player[a].c&&m(a))},m:function(a){if(49<player[a].c)return aS[17].f(a),!0;if(19<player[a].c){var d=H(a),e=G(a),f=F(a);if(N(a))return aS[8].f(a),!0;if(d[0])return aS[d[1]].f(a),!0;if(f[0])return aS[f[1]].f(a),!0;if(e[0])return aS[e[1]].f(a),!0;if(J(a))return aS[1].f(a),
!0;if(K(a))return aS[3].f(a),!0;if(-.3>player[a].b.h[0].x*player[a].a.face&&Math.abs(player[a].b.h[0].x)>-1*player[a].b.h[0].y)return player[a].a.va=L(a),aS[4].f(a),!0;if(.3<player[a].b.h[0].x*player[a].a.face&&Math.abs(player[a].b.h[0].x)>-1*player[a].b.h[0].y)return aS[7].f(a,!0),!0}return!1}},{name:"UPTILT",H:!1,w:!0,f:function(a){player[a].o=48;player[a].c=0;m(a);player[a].i.id[0]=player[a].A.hb.D;player[a].i.id[1]=player[a].A.hb.F;player[a].i.id[2]=player[a].A.hb.G;player[a].i.id[3]=player[a].A.hb.I;
aS[48].l(a)},l:function(a){player[a].c++;aS[48].m(a)||(C(a,!0),4<player[a].c&&15>player[a].c&&n("swingUptilt",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-5),6==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,sounds.Pb.play()),6<player[a].c&&13>player[a].c&&player[a].i.frame++,9==player[a].c&&(player[a].i.frame=0,player[a].i.id[0]=player[a].A.ib.D,player[a].i.id[1]=player[a].A.ib.F,player[a].i.id[2]=player[a].A.ib.G,player[a].i.id[3]=
player[a].A.ib.I),13==player[a].c&&m(a))},m:function(a){if(39<player[a].c)return aS[0].f(a),!0;if(31<player[a].c){var d=H(a),e=G(a),f=F(a);if(N(a))return aS[8].f(a),!0;if(d[0])return aS[d[1]].f(a),!0;if(f[0])return aS[f[1]].f(a),!0;if(e[0])return aS[e[1]].f(a),!0;if(J(a))return aS[1].f(a),!0;if(K(a))return aS[3].f(a),!0;if(M(a))return player[a].a.va=L(a),aS[4].f(a),!0;if(.3<Math.abs(player[a].b.h[0].x))return aS[7].f(a,!0),!0}return!1}},{name:"FTILT",H:!1,w:!0,f:function(a){player[a].o=49;player[a].c=
0;m(a);player[a].i.id[0]=player[a].A.Ua.D;player[a].i.id[1]=player[a].A.Ua.F;player[a].i.id[2]=player[a].A.Ua.G;player[a].i.id[3]=player[a].A.Ua.I;aS[49].l(a)},l:function(a){player[a].c++;aS[49].m(a)||(C(a,!0),5<player[a].c&&14>player[a].c&&n("swingFtilt",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-6),7==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,sounds.Pb.play()),7<player[a].c&&11>player[a].c&&player[a].i.frame++,11==
player[a].c&&m(a))},m:function(a){return 35<player[a].c?(aS[0].f(a),!0):!1}},{name:"JAB1",H:!1,w:!0,f:function(a){player[a].o=50;player[a].c=0;player[a].a.Ib=!1;m(a);player[a].i.id[0]=player[a].A.Wa.D;player[a].i.id[1]=player[a].A.Wa.F;player[a].i.id[2]=player[a].A.Wa.G;player[a].i.id[3]=player[a].A.Wa.I;aS[50].l(a)},l:function(a){player[a].c++;aS[50].m(a)||(C(a,!0),3<player[a].c&&14>player[a].c&&n("swingJab1",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,
player[a].c-4),2<player[a].c&&26>player[a].c&&player[a].b.B[0]&&!player[a].b.B[1]&&(player[a].a.Ib=!0),4==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,sounds.zc.play()),4<player[a].c&&8>player[a].c&&player[a].i.frame++,8==player[a].c&&m(a))},m:function(a){if(19<player[a].c&&player[a].a.Ib)return aS[51].f(a),!0;if(27<player[a].c)return aS[0].f(a),!0;if(26<player[a].c){var d=H(a),e=G(a),f=F(a);if(N(a))return aS[8].f(a),!0;if(d[0])return aS[d[1]].f(a),!0;if(f[0])return aS[f[1]].f(a),
!0;if(e[0])return aS[e[1]].f(a),!0;if(J(a))return aS[1].f(a),!0;if(K(a))return aS[3].f(a),!0;if(M(a))return player[a].a.va=L(a),aS[4].f(a),!0;if(.3<Math.abs(player[a].b.h[0].x))return aS[7].f(a,!0),!0}return!1}},{name:"JAB2",H:!1,w:!0,f:function(a){player[a].o=51;player[a].c=0;player[a].a.Ib=!1;m(a);player[a].i.id[0]=player[a].A.Xa.D;player[a].i.id[1]=player[a].A.Xa.F;player[a].i.id[2]=player[a].A.Xa.G;player[a].i.id[3]=player[a].A.Xa.I;aS[51].l(a)},l:function(a){player[a].c++;aS[51].m(a)||(C(a,!0),
4<player[a].c&&14>player[a].c&&n("swingJab2",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-5),1<player[a].c&&26>player[a].c&&player[a].b.B[0]&&!player[a].b.B[1]&&(player[a].a.Ib=!0),5==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,sounds.zc.play()),5<player[a].c&&10>player[a].c&&player[a].i.frame++,10==player[a].c&&m(a))},m:function(a){if(19<player[a].c&&player[a].a.Ib)return aS[50].f(a),!0;if(28<player[a].c)return aS[0].f(a),
!0;if(27<player[a].c){var d=H(a),e=G(a),f=F(a);if(N(a))return aS[8].f(a),!0;if(d[0])return aS[d[1]].f(a),!0;if(f[0])return aS[f[1]].f(a),!0;if(e[0])return aS[e[1]].f(a),!0;if(J(a))return aS[1].f(a),!0;if(K(a))return aS[3].f(a),!0;if(M(a))return player[a].a.va=L(a),aS[4].f(a),!0;if(.3<Math.abs(player[a].b.h[0].x))return aS[7].f(a,!0),!0}return!1}},{name:"ESCAPEB",oa:[-2.267,-2.536,-2.706,-2.78,-2.758,-2.64,-2.426,-2.116,-1.711,-1.209,-.888,-.819,-.758,-.707,-.664,-.631,-.606,-.591,-.585,-.587,-.599,
-.62,-.809,-1.072,-1.205,-1.207,-1.078,-.819,-.617,-.556,-.487,-.413,-.332,-.245,-.152],H:!1,w:!0,f:function(a){player[a].o=52;player[a].c=0;player[a].a.Z=!1;aS[52].l(a)},l:function(a){player[a].c++;aS[52].m(a)||(33==player[a].c&&sounds.Ac.play(),player[a].a.g.x=aS[52].oa[player[a].c-1]*player[a].a.face,4==player[a].c&&(player[a].a.aa=20,sounds.pd.play()))},m:function(a){return 35<player[a].c?(player[a].a.g.x=0,aS[0].f(a),!0):!1}},{name:"ESCAPEF",oa:[2.267,2.536,2.706,2.78,2.758,2.64,2.426,2.116,
1.711,1.209,.888,.819,.758,.707,.664,.631,.606,.591,.585,.587,.599,.62,.809,1.072,1.205,1.207,1.078,.819,.617,.556,.487,.413,.332,.245,.152],H:!1,ec:!0,w:!0,f:function(a){player[a].o=53;player[a].c=0;player[a].a.Z=!1;aS[53].l(a)},l:function(a){player[a].c++;aS[53].m(a)||(33==player[a].c&&sounds.Ac.play(),player[a].a.g.x=aS[53].oa[player[a].c-1]*player[a].a.face,4==player[a].c&&(player[a].a.aa=20,sounds.pd.play()))},m:function(a){return 35<player[a].c?(player[a].a.g.x=0,player[a].a.face*=-1,aS[0].f(a),
!0):!1}},{name:"ESCAPEN",H:!1,w:!0,f:function(a){player[a].o=54;player[a].c=0;player[a].a.Z=!1;n("circleDust",player[a].a.j,player[a].a.face);aS[54].l(a)},l:function(a){player[a].c++;aS[54].m(a)||(1==player[a].c&&sounds.Ce.play(),2==player[a].c&&sounds.cd.play(),18==player[a].c&&sounds.Ac.play(),C(a,!0),2==player[a].c&&(player[a].a.aa=16))},m:function(a){return 27<player[a].c?(aS[0].f(a),!0):!1}},{name:"ATTACKDASH",H:!1,oa:[.755,1.962,2.714,3.01,2.849,2.232,1.184,.542,.704,1.325,1.487,1.079,.666,
.631,.597,.565,.536,.508,.482,.458,.436,.416,.398,.37,.332,.299,.27,.244,.222,.205,.191,.181,.176,.165,.148,.13,.112,.093,.073,.053,.032,.011,-.783,-.783,0,0,.001,.001,0],w:!0,f:function(a){player[a].o=55;player[a].c=0;m(a);player[a].i.id[0]=player[a].A.Ma.D;player[a].i.id[1]=player[a].A.Ma.F;player[a].i.id[2]=player[a].A.Ma.G;player[a].i.id[3]=player[a].A.Ma.I;aS[55].l(a)},l:function(a){player[a].c++;aS[55].m(a)||(player[a].a.g.x=aS[55].oa[player[a].c-1]*player[a].a.face,12<player[a].c&&21>player[a].c&&
n("swingDashAttack",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-13),12==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,sounds.zc.play()),12<player[a].c&&16>player[a].c&&player[a].i.frame++,16==player[a].c&&m(a))},m:function(a){if(49<player[a].c)return aS[0].f(a),!0;if(5>player[a].c&&0<player[a].b.Y[0]||0<player[a].b.ba[0])return player[a].a.g.x*player[a].a.face>player[a].C.Ka&&(player[a].a.g.x=player[a].C.Ka*player[a].a.face),
aS[73].f(a),!0;if(39<player[a].c){var d=H(a),e=G(a),f=F(a);if(N(a))return aS[8].f(a),!0;if(d[0])return aS[d[1]].f(a),!0;if(f[0])return aS[f[1]].f(a),!0;if(e[0])return aS[e[1]].f(a),!0;if(J(a))return aS[1].f(a),!0;if(K(a))return aS[3].f(a),!0;if(M(a))return player[a].a.va=L(a),aS[4].f(a),!0;if(.3<Math.abs(player[a].b.h[0].x))return aS[7].f(a,!0),!0}return!1}},{name:"SIDESPECIAL",ca:!1,H:!1,V:[!1,!1],ga:!1,da:!1,w:!0,f:function(a){player[a].o=56;player[a].c=0;player[a].a.O?player[a].a.g.x*=.2:(player[a].a.wc?
(player[a].a.g.y=1,player[a].a.wc=!1):player[a].a.g.y=0,player[a].a.Ba=!1,player[a].a.g.x*=.8);m(a);player[a].i.id[0]=player[a].A.eb.D;player[a].i.id[1]=player[a].A.eb.F;player[a].i.id[2]=player[a].A.eb.G;player[a].i.id[3]=player[a].A.eb.I;sounds.sd.play();aS[56].l(a)},l:function(a){player[a].c++;aS[56].m(a)||(6==player[a].c&&sounds.Md.play(),player[a].a.O?C(a,!0):(player[a].a.g.y-=.06,0<player[a].a.g.x?(player[a].a.g.x-=.0025,0>player[a].a.g.x&&(player[a].a.g.x=0)):(player[a].a.g.x+=.0025,0<player[a].a.g.x&&
(player[a].a.g.x=0))),4<player[a].c&&12>player[a].c&&n("swingSideB",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-5),6==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0),6<player[a].c&&9>player[a].c&&player[a].i.frame++,9==player[a].c&&m(a))},m:function(a){return 29<player[a].c?(player[a].a.O?aS[0].f(a):aS[13].f(a),!0):!1}},{name:"FSMASH",H:!1,w:!0,f:function(a){player[a].o=57;player[a].c=0;player[a].a.charging=!1;player[a].a.pa=
0;m(a);player[a].i.id[0]=player[a].A.Ta.D;player[a].i.id[1]=player[a].A.Ta.F;player[a].i.id[2]=player[a].A.Ta.G;player[a].i.id[3]=player[a].A.Ta.I;aS[57].l(a)},l:function(a){3==player[a].c?player[a].b.B[0]||player[a].b.z[0]?(player[a].a.charging=!0,player[a].a.pa++,5==player[a].a.pa&&sounds.Yc.play(),60==player[a].a.pa&&(player[a].c++,player[a].a.charging=!1)):(player[a].c++,player[a].a.charging=!1):(player[a].c++,player[a].a.charging=!1);aS[57].m(a)||(C(a,!0),5==player[a].c&&sounds.rb.play(),6<player[a].c&&
14>player[a].c&&n("swingFsmash",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-7),10==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,z()),10<player[a].c&&14>player[a].c&&player[a].i.frame++,14==player[a].c&&m(a))},m:function(a){if(49<player[a].c)return aS[0].f(a),!0;if(47<player[a].c&&!player[a].ha){var d=H(a),e=G(a),f=F(a);if(N(a))return aS[8].f(a),!0;if(d[0])return aS[d[1]].f(a),!0;if(f[0])return aS[f[1]].f(a),!0;if(e[0])return aS[e[1]].f(a),
!0;if(J(a))return aS[1].f(a),!0;if(K(a))return aS[3].f(a),!0;if(M(a))return player[a].a.va=L(a),aS[4].f(a),!0;if(.3<Math.abs(player[a].b.h[0].x))return aS[7].f(a,!0),!0}return!1}},{name:"UPSMASH",H:!1,w:!0,f:function(a){player[a].o=58;player[a].c=0;player[a].a.charging=!1;player[a].a.pa=0;m(a);player[a].i.id[0]=player[a].A.gb.D;player[a].i.id[1]=player[a].A.gb.F;player[a].i.id[2]=player[a].A.gb.G;player[a].i.id[3]=player[a].A.gb.I;aS[58].l(a)},l:function(a){7==player[a].c?player[a].b.B[0]||player[a].b.z[0]?
(player[a].a.charging=!0,player[a].a.pa++,5==player[a].a.pa&&sounds.Yc.play(),60==player[a].a.pa&&(player[a].c++,player[a].a.charging=!1)):(player[a].c++,player[a].a.charging=!1):(player[a].c++,player[a].a.charging=!1);aS[58].m(a)||(C(a,!0),10<player[a].c&&15>player[a].c&&n("swingUpsmash",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-11),13==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,sounds.rb.play(),z()),13<player[a].c&&
17>player[a].c&&player[a].i.frame++,17==player[a].c&&m(a))},m:function(a){if(54<player[a].c)return aS[0].f(a),!0;if(45<player[a].c&&!player[a].ha){var d=H(a),e=G(a),f=F(a);if(N(a))return aS[8].f(a),!0;if(d[0])return aS[d[1]].f(a),!0;if(f[0])return aS[f[1]].f(a),!0;if(e[0])return aS[e[1]].f(a),!0;if(J(a))return aS[1].f(a),!0;if(K(a))return aS[3].f(a),!0;if(M(a))return player[a].a.va=L(a),aS[4].f(a),!0;if(.3<Math.abs(player[a].b.h[0].x))return aS[7].f(a,!0),!0}return!1}},{name:"DSMASH",H:!1,w:!0,f:function(a){player[a].o=
59;player[a].c=0;player[a].a.charging=!1;player[a].a.pa=0;m(a);player[a].i.id[0]=player[a].A.Pa.D;player[a].i.id[1]=player[a].A.Pa.F;player[a].i.id[2]=player[a].A.Pa.G;player[a].i.id[3]=player[a].A.Pa.I;aS[59].l(a)},l:function(a){3==player[a].c?player[a].b.B[0]||player[a].b.z[0]?(player[a].a.charging=!0,player[a].a.pa++,5==player[a].a.pa&&sounds.Yc.play(),60==player[a].a.pa&&(player[a].c++,player[a].a.charging=!1)):(player[a].c++,player[a].a.charging=!1):(player[a].c++,player[a].a.charging=!1);aS[59].m(a)||
(C(a,!0),3<player[a].c&&10>player[a].c&&n("swingDsmash1",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-4),16<player[a].c&&26>player[a].c&&n("swingDsmash2",new k(player[a].a.j.x+player[a].a.g.x,player[a].a.j.y+player[a].a.g.y),player[a].a.face,player[a].c-17),5==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,sounds.rb.play(),z()),5<player[a].c&&8>player[a].c&&player[a].i.frame++,8==player[a].c&&m(a),20==player[a].c&&(player[a].i.id[0]=
player[a].A.Qa.D,player[a].i.id[1]=player[a].A.Qa.F,player[a].i.id[2]=player[a].A.Qa.G,player[a].i.id[3]=player[a].A.Qa.I,player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,sounds.rb.play()),20<player[a].c&&23>player[a].c&&player[a].i.frame++,23==player[a].c&&m(a))},m:function(a){if(64<player[a].c)return aS[0].f(a),!0;if(61<player[a].c&&!player[a].ha){var d=H(a),e=G(a),f=F(a);if(N(a))return aS[8].f(a),!0;if(d[0])return aS[d[1]].f(a),!0;if(f[0])return aS[f[1]].f(a),!0;if(e[0])return aS[e[1]].f(a),
!0;if(J(a))return aS[1].f(a),!0;if(K(a))return aS[3].f(a),!0;if(M(a))return player[a].a.va=L(a),aS[4].f(a),!0;if(.3<Math.abs(player[a].b.h[0].x))return aS[7].f(a,!0),!0}return!1}},{name:"DOWNBOUND",H:!0,w:!0,f:function(a){player[a].o=60;player[a].c=0;player[a].a.J.y=0;n("groundBounce",player[a].a.j,player[a].a.face);sounds.Ub.play();aS[60].l(a)},l:function(a){player[a].c++;aS[60].m(a)||(1==player[a].c?C(a,!0):player[a].a.g.x=0)},m:function(a){return 26<player[a].c?(aS[61].f(a),!0):!1}},{name:"DOWNWAIT",
H:!0,w:!1,f:function(a){player[a].o=61;player[a].c=0;aS[61].l(a)},l:function(a){player[a].c++;aS[61].m(a)||C(a,!0)},m:function(a){return 60<player[a].c?(aS[61].f(a),!0):-.7>player[a].b.h[0].x*player[a].a.face?(aS[63].f(a),!0):.7<player[a].b.h[0].x*player[a].a.face?(aS[64].f(a),!0):.7<player[a].b.h[0].y?(aS[62].f(a),!0):player[a].b.B[0]&&!player[a].b.B[1]||player[a].b.X[0]&&!player[a].b.X[1]?(aS[65].f(a),!0):!1}},{name:"DOWNSTANDN",H:!0,w:!0,f:function(a){player[a].o=62;player[a].c=0;aS[62].l(a)},
l:function(a){player[a].c++;aS[62].m(a)||(C(a,!0),1==player[a].c&&(player[a].a.aa=22))},m:function(a){return 30<player[a].c?(aS[0].f(a),!0):!1}},{name:"DOWNSTANDB",H:!1,w:!0,oa:[-.185,-.37,-.573,-1.54,-1.614,-1.586,-1.566,-1.614,-1.647,-1.666,-1.669,-1.657,-1.63,-1.588,-1.531,-1.397,-1.224,-1.094,-1.006,-.962,-.96,-.926,-.816,-.684,-.529,-.352,-.226,-.171,-.124,-.084,-.051,-.025,-.007,.004,.008],f:function(a){player[a].o=63;player[a].c=0;aS[63].l(a)},l:function(a){player[a].c++;aS[63].m(a)||(player[a].a.g.x=
aS[63].oa[player[a].c-1]*player[a].a.face,1==player[a].c&&(player[a].a.aa=19))},m:function(a){return 35<player[a].c?(aS[0].f(a),!0):!1}},{name:"DOWNSTANDF",H:!1,w:!0,oa:[.467,1.36,1.733,2.135,2.355,2.581,2.055,2.281,2.184,1.902,1.703,1.521,1.357,1.211,1.082,.971,.878,.802,.743,.703,.68,.674,.686,.716,.763,.775,.727,.661,.577,.474,.352,.241,.163,.101,.055],f:function(a){player[a].o=64;player[a].c=0;aS[64].l(a)},l:function(a){player[a].c++;aS[64].m(a)||(player[a].a.g.x=aS[64].oa[player[a].c-1]*player[a].a.face,
6==player[a].c&&(player[a].a.aa=14))},m:function(a){return 35<player[a].c?(aS[0].f(a),!0):!1}},{name:"DOWNATTACK",H:!1,w:!0,f:function(a){player[a].o=65;player[a].c=0;m(a);player[a].i.id[0]=player[a].A.Na.D;player[a].i.id[1]=player[a].A.Na.F;player[a].i.id[2]=player[a].A.Na.G;player[a].i.id[3]=player[a].A.Na.I;aS[65].l(a)},l:function(a){player[a].c++;aS[65].m(a)||(C(a,!0),1==player[a].c&&(player[a].a.aa=31),20==player[a].c&&(player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,sounds.Pb.play()),20<
player[a].c&&24>player[a].c&&player[a].i.frame++,24==player[a].c&&m(a),30==player[a].c&&(player[a].i.id[0]=player[a].A.Oa.D,player[a].i.id[1]=player[a].A.Oa.F,player[a].i.id[2]=player[a].A.Oa.G,player[a].i.id[3]=player[a].A.Oa.I,player[a].i.active=[!0,!0,!0,!0],player[a].i.frame=0,sounds.Pb.play()),30<player[a].c&&32>player[a].c&&player[a].i.frame++,32==player[a].c&&m(a))},m:function(a){return 49<player[a].c?(aS[0].f(a),!0):!1}},{name:"TECHN",H:!0,w:!0,f:function(a){player[a].o=66;player[a].c=0;n("tech",
player[a].a.j);sounds.fc.play();aS[66].l(a)},l:function(a){player[a].c++;aS[66].m(a)||(C(a,!0),1==player[a].c&&(player[a].a.aa=20))},m:function(a){return 26<player[a].c?(aS[0].f(a),!0):!1}},{name:"TECHB",H:!1,w:!0,oa:[0,0,0,0,0,0,0,-2.832,-2.726,-2.622,-2.521,-2.422,-2.326,-2.233,-2.142,-2.054,-1.968,-1.885,-1.811,-1.748,-1.691,-1.639,-1.593,-1.553,-1.519,-1.49,-1.467,-1.45,-1.439,-1.433,-1.433,-.002,-.003,-.004,-.005,-.006,-.006,-.007,-.007,-.006],f:function(a){player[a].o=67;player[a].c=0;n("tech",
player[a].a.j);sounds.fc.play();aS[67].l(a)},l:function(a){player[a].c++;aS[67].m(a)||(1==player[a].c&&(player[a].a.aa=20),player[a].a.g.x=aS[67].oa[player[a].c-1]*player[a].a.face)},m:function(a){return 40<player[a].c?(aS[0].f(a),!0):!1}},{name:"TECHF",H:!1,w:!0,oa:[0,0,0,0,0,0,0,4.036,3.526,2.726,2.317,1.862,1.656,1.625,1.768,1.989,2.094,2.083,1.956,1.846,1.814,1.757,1.676,1.57,1.44,1.286,1.107,.949,.834,.727,.629,.54,.459,.387,.323,.268,.222,.184,.155,.135],f:function(a){player[a].o=68;player[a].c=
0;n("tech",player[a].a.j);sounds.fc.play();aS[68].l(a)},l:function(a){player[a].c++;aS[68].m(a)||(1==player[a].c&&(player[a].a.aa=20),player[a].a.g.x=aS[68].oa[player[a].c-1]*player[a].a.face)},m:function(a){return 40<player[a].c?(aS[0].f(a),!0):!1}},{name:"SHIELDBREAKFALL",ca:!1,w:!0,V:[!1,!1],ga:!1,da:!1,f:function(a){player[a].o=69;player[a].c=0;aS[69].l(a)},l:function(a){player[a].c++;aS[69].m(a)||(player[a].a.aa=1,player[a].a.g.y-=player[a].C.Gb)},m:function(a){return 30<player[a].c?(aS[69].f(a),
!0):!1}},{name:"SHIELDBREAKDOWNBOUND",H:!0,w:!0,f:function(a){player[a].o=70;player[a].c=0;player[a].a.g.y=0;player[a].a.J.y=0;n("groundBounce",player[a].a.j,player[a].a.face);sounds.Ub.play();aS[70].l(a)},l:function(a){player[a].c++;aS[70].m(a)||(player[a].a.aa=1,1==player[a].c?C(a,!0):player[a].a.g.x=0)},m:function(a){return 26<player[a].c?(aS[71].f(a),!0):!1}},{name:"SHIELDBREAKSTAND",H:!0,w:!0,f:function(a){player[a].o=71;player[a].c=0;aS[71].l(a)},l:function(a){player[a].c++;aS[71].m(a)||(C(a,
!0),player[a].a.aa=1)},m:function(a){return 30<player[a].c?(aS[72].f(a),!0):!1}},{name:"FURAFURA",H:!0,w:!0,f:function(a){player[a].o=72;player[a].c=0;player[a].a.Ha=490;n("furaFura",new k(player[a].a.j.x+(4+2*Math.random())*player[a].a.face,player[a].a.j.y+11+3*Math.random()),player[a].a.face);player[a].kc=sounds.lc.play();aS[72].l(a)},l:function(a){player[a].c++;aS[72].m(a)||(65==player[a].c%100&&sounds.be.play(),C(a,!0),0==player[a].c%49&&n("furaFura",new k(player[a].a.j.x+(3+2*Math.random())*
player[a].a.face,player[a].a.j.y+11+3*Math.random()),player[a].a.face),20==player[a].c%49&&n("furaFura",new k(player[a].a.j.x+(5+2*Math.random())*player[a].a.face,player[a].a.j.y+8+3*Math.random()),player[a].a.face),30<player[a].a.ta&&(player[a].a.ta=30),player[a].a.Ha--,la(a)&&(player[a].a.Ha-=3))},m:function(a){return 0>=player[a].a.Ha?(sounds.lc.stop(player[a].kc),aS[0].f(a),!0):!1}},{name:"GRAB",H:!1,w:!0,f:function(a){player[a].o=73;player[a].c=0;player[a].a.charging=!1;player[a].a.pa=0;m(a);
player[a].i.id[0]=player[a].A.Va.D;player[a].i.id[1]=player[a].A.Va.F;player[a].i.id[2]=player[a].A.Va.G;aS[73].l(a)},l:function(a){player[a].c++;aS[73].m(a)||(C(a,!0),7==player[a].c&&(player[a].i.active=[!0,!0,!0,!1],player[a].i.frame=0,sounds.Va.play()),7<player[a].c&&9>player[a].c&&player[a].i.frame++,9==player[a].c&&m(a))},m:function(a){return 30<player[a].c?(aS[0].f(a),!0):!1}},{name:"CAPTUREPULLED",H:!1,w:!1,f:function(a){player[a].o=74;player[a].c=0;player[a].a.O=!0;player[a].a.face=-1*player[player[a].a.R].a.face;
player[a].a.na=[player[player[a].a.R].a.na[0],player[player[a].a.R].a.na[1]];player[a].a.Ha=100+2*player[a].wa;sounds.de.play();aS[74].l(a)},l:function(a){player[a].c++;aS[74].m(a)||2!=player[a].c||(player[a].a.j=new k(player[player[a].a.R].a.j.x+-16.41205*player[a].a.face,player[player[a].a.R].a.j.y))},m:function(a){return 2<player[a].c?(aS[75].f(a),aS[76].f(player[a].a.R),n("tech",new k(player[a].a.j.x,player[a].a.j.y+10)),!0):!1}},{name:"CAPTUREWAIT",H:!1,w:!1,f:function(a){player[a].o=75;player[a].c=
0;player[a].a.j=new k(player[player[a].a.R].a.j.x+-9.04298*player[a].a.face,player[player[a].a.R].a.j.y);aS[75].l(a)},l:function(a){player[a].c++;aS[75].m(a)||(player[a].a.Ha--,la(a)?(player[a].a.Ha-=3,player[a].a.j.x+=.5*Math.sign(Math.random()-.5)):player[a].a.j.x=player[player[a].a.R].a.j.x+-9.04298*player[a].a.face)},m:function(a){return 0>player[a].a.Ha?(aS[78].f(player[a].a.R),aS[77].f(a),!0):1<player[a].c?(aS[75].f(a),!0):!1}},{name:"CATCHWAIT",H:!1,w:!0,f:function(a){player[a].o=76;player[a].c=
0;m(a);aS[76].l(a)},l:function(a){player[a].c++;aS[76].m(a)},m:function(a){return player[a].b.B[0]&&!player[a].b.B[1]?(aS[79].f(a),!0):.7<player[a].b.h[0].y&&.7>player[a].b.h[1].y||.7<player[a].b.M[0].y?(aS[81].f(a),!0):-.7>player[a].b.h[0].y&&-.7<player[a].b.h[1].y||-.7>player[a].b.M[0].y?(aS[83].f(a),!0):-.7>player[a].b.h[0].x*player[a].a.face&&-.7<player[a].b.h[1].x*player[a].a.face||-.7>player[a].b.M[0].x*player[a].a.face?(aS[85].f(a),!0):.7<player[a].b.h[0].x*player[a].a.face&&.7>player[a].b.h[1].x*
player[a].a.face||.7<player[a].b.M[0].x*player[a].a.face?(aS[87].f(a),!0):1<player[a].c?(aS[76].f(a),!0):!1}},{name:"CAPTURECUT",H:!1,V:[!0,!1],ga:!1,w:!0,f:function(a){player[a].o=77;player[a].c=0;player[a].a.R=-1;player[a].a.g.x=-1*player[a].a.face;aS[77].l(a)},l:function(a){player[a].c++;aS[77].m(a)||(2==player[a].c&&(player[a].a.mc=!1),C(a,!0))},m:function(a){return 30<player[a].c?(aS[0].f(a),!0):!1}},{name:"CATCHCUT",H:!1,V:[!0,!1],w:!0,f:function(a){player[a].o=78;player[a].c=0;player[a].a.ia=
-1;player[a].a.g.x=-1*player[a].a.face;aS[78].l(a)},l:function(a){player[a].c++;aS[78].m(a)||C(a,!0)},m:function(a){return 29<player[a].c?(aS[0].f(a),!0):!1}},{name:"CATCHATTACK",H:!1,w:!0,f:function(a){player[a].o=79;player[a].c=0;m(a);player[a].i.id[0]=player[a].A.Sc.D;aS[79].l(a)},l:function(a){player[a].c++;aS[79].m(a)||(6==player[a].c&&(player[a].i.active=[!0,!1,!1,!1],player[a].i.frame=0),7==player[a].c&&m(a))},m:function(a){return 24<player[a].c?(aS[76].f(a),!0):!1}},{name:"CAPTUREDAMAGE",
H:!1,w:!1,ue:[9.478,9.478,9.478,9.478,9.478,9.478,9.478,9.478,9.478,9.306,8.92,8.516,8.29,8.293,8.41,8.593,8.792,8.959,9.043,9.068],f:function(a){player[a].o=80;player[a].c=0;aS[80].l(a)},l:function(a){player[a].c++;aS[80].m(a)||(player[a].a.j.x=player[player[a].a.R].a.j.x+-aS[80].ue[player[a].c-1]*player[a].a.face)},m:function(a){return 20<player[a].c?(aS[75].f(a),!0):!1}},{name:"THROWUP",H:!1,w:!0,f:function(a){player[a].o=81;player[a].c=0;aS[82].f(player[a].a.ia);m(a);player[a].i.id[0]=player[a].A.Pe.D;
z();aS[81].l(a)},l:function(a){player[a].c++;aS[81].m(a)||11!=player[a].c||(hitQueue.push([player[a].a.ia,a,0,!1,!0,!1]),m(a))},m:function(a){return 39<player[a].c?(player[a].a.ia=-1,aS[0].f(a),!0):11>player[a].c&&player[player[a].a.ia].a.R!=a?(console.log("test"),aS[78].f(a),!0):!1}},{name:"THROWNUP",H:!1,V:[!1,!1],w:!1,f:function(a){player[a].o=82;player[a].c=player[a].a.R<a?-1:0;player[a].a.O=!1;player[a].a.j=new k(player[player[a].a.R].a.j.x,player[player[a].a.R].a.j.y);aS[82].l(a)},l:function(a){player[a].c++;
aS[82].m(a)},m:function(){return!1}},{name:"THROWDOWN",H:!1,w:!0,f:function(a){player[a].o=83;player[a].c=0;aS[84].f(player[a].a.ia);m(a);player[a].i.id[0]=player[a].A.Ne.D;z();aS[83].l(a)},l:function(a){player[a].c++;aS[83].m(a)||13!=player[a].c||(hitQueue.push([player[a].a.ia,a,0,!1,!0,!0]),m(a))},m:function(a){return 37<player[a].c?(player[a].a.ia=-1,aS[0].f(a),!0):13>player[a].c&&player[player[a].a.ia].a.R!=a?(console.log("test"),aS[78].f(a),!0):!1}},{name:"THROWNDOWN",H:!1,ec:!0,V:[!1,!1],w:!1,
f:function(a){player[a].o=84;player[a].c=player[a].a.R<a?-1:0;player[a].a.O=!1;player[a].a.face*=-1;player[a].a.j=new k(player[player[a].a.R].a.j.x,player[player[a].a.R].a.j.y);aS[84].l(a)},l:function(a){player[a].c++;aS[84].m(a)},m:function(){return!1}},{name:"THROWBACK",H:!1,w:!0,f:function(a){player[a].o=85;player[a].c=0;aS[86].f(player[a].a.ia);m(a);player[a].i.id[0]=player[a].A.Me.D;z();aS[85].l(a)},l:function(a){player[a].c++;aS[85].m(a)||7!=player[a].c||(hitQueue.push([player[a].a.ia,a,0,!1,
!0,!0]),m(a))},m:function(a){return 39<player[a].c?(player[a].a.ia=-1,aS[0].f(a),!0):7>player[a].c&&player[player[a].a.ia].a.R!=a?(aS[78].f(a),!0):!1}},{name:"THROWNBACK",H:!1,ec:!0,V:[!1,!1],w:!1,f:function(a){player[a].o=86;player[a].c=player[a].a.R<a?-1:0;player[a].a.O=!1;player[a].a.face*=-1;player[a].a.j=new k(player[player[a].a.R].a.j.x,player[player[a].a.R].a.j.y);aS[86].l(a)},l:function(a){player[a].c++;aS[86].m(a)},m:function(){return!1}},{name:"THROWFORWARD",H:!1,w:!0,f:function(a){player[a].o=
87;player[a].c=0;aS[88].f(player[a].a.ia);m(a);player[a].i.id[0]=player[a].A.Oe.D;z();aS[87].l(a)},l:function(a){player[a].c++;aS[87].m(a)||13!=player[a].c||(hitQueue.push([player[a].a.ia,a,0,!1,!0,!0]),m(a))},m:function(a){return 27<player[a].c?(player[a].a.ia=-1,aS[0].f(a),!0):13>player[a].c&&player[player[a].a.ia].a.R!=a?(aS[78].f(a),!0):!1}},{name:"THROWNFORWARD",H:!1,V:[!1,!1],w:!1,f:function(a){player[a].o=88;player[a].c=player[a].a.R<a?-1:0;player[a].a.O=!1;player[a].a.j=new k(player[player[a].a.R].a.j.x,
player[player[a].a.R].a.j.y);aS[88].l(a)},l:function(a){player[a].c++;aS[88].m(a)},m:function(){return!1}},{name:"WALLDAMAGE",ca:!1,V:[!1,!1],ga:!1,w:!0,da:!0,f:function(a){player[a].o=89;player[a].c=0;sounds.Ub.play();aS[89].l(a)},l:function(a){player[a].c++;0==player[a].v.xa%10&&n("flyingDust",player[a].a.j);2==player[a].c&&(player[a].a.J.y*=.8,player[a].a.J.x*=-.8,player[a].a.pb.x*=-1);aS[89].m(a)||(player[a].v.xa--,player[a].a.g.y-=player[a].C.Gb,player[a].a.g.y<-player[a].C.Ia&&(player[a].a.g.y=
-player[a].C.Ia))},m:function(a){return 50<player[a].c?(aS[40].f(a),!0):!1}},{name:"WALLTECH",ca:!0,V:[!0,!1],ga:!0,da:!1,w:!0,f:function(a){player[a].o=90;player[a].c=0;player[a].a.Ba=!1;player[a].v.xa=0;player[a].a.J.y=0;player[a].a.J.x=0;player[a].a.g.x=0;player[a].a.aa=Math.max(player[a].a.aa,14);1==player[a].a.face?n("tech",player[a].a.U[3]):n("tech",player[a].a.U[1]);aS[90].l(a)},l:function(a){1>player[a].c?(player[a].c+=.15,1<player[a].c&&(player[a].c=1)):player[a].c++;aS[90].m(a)||(2==player[a].c&&
sounds.bd.play(),.89<player[a].c&&.91>player[a].c&&(player[a].a.g.x=.5*player[a].a.face),1<=player[a].c&&(E(a),D(a)))},m:function(a){if(1<player[a].c){var d=I(a),e=H(a);if(d[0])return aS[d[1]].f(a),!0;if(player[a].b.L[0]&&!player[a].b.L[1]||player[a].b.r[0]&&!player[a].b.r[1])return aS[11].f(a),!0;if((player[a].b.x[0]&&!player[a].b.x[1]||player[a].b.y[0]&&!player[a].b.y[1]||.7<player[a].b.h[0].y&&.7>=player[a].b.h[1].y)&&!player[a].a.ra)return aS[19].f(a),!0;if(e[0])return aS[e[1]].f(a),!0;if(26<
player[a].c)return aS[13].f(a),!0}return!1}},{name:"WALLJUMP",ca:!0,V:[!0,!1],ga:!0,da:!1,w:!0,f:function(a){player[a].o=91;player[a].c=0;player[a].a.Ba=!1;player[a].v.xa=0;player[a].a.g.x=0;player[a].a.g.y=0;player[a].a.aa=Math.max(player[a].a.aa,14);player[a].a.g.x=1.3*player[a].a.face;player[a].a.g.y=2.4*Math.pow(.97,player[a].a.Fc);player[a].a.Fc++;player[a].v.ea=5;player[a].v.fa=0;1==player[a].a.face?n("tech",player[a].a.U[3]):n("tech",player[a].a.U[1]);aS[91].l(a)},l:function(a){player[a].c++;
2==player[a].c&&sounds.bd.play();aS[91].m(a)||(E(a),D(a))},m:function(a){if(1<player[a].c){var d=I(a),e=H(a);if(d[0])return aS[d[1]].f(a),!0;if(player[a].b.L[0]&&!player[a].b.L[1]||player[a].b.r[0]&&!player[a].b.r[1])return aS[11].f(a),!0;if((player[a].b.x[0]&&!player[a].b.x[1]||player[a].b.y[0]&&!player[a].b.y[1]||.7<player[a].b.h[0].y&&.7>=player[a].b.h[1].y)&&!player[a].a.ra)return aS[19].f(a),!0;if(e[0])return aS[e[1]].f(a),!0;if(40<player[a].c)return aS[13].f(a),!0}return!1}},{name:"WALLTECHJUMP",
ca:!0,V:[!0,!1],ga:!0,da:!1,w:!0,f:function(a){player[a].o=92;player[a].c=0;player[a].a.Ba=!1;player[a].v.xa=0;player[a].a.J.y=0;player[a].a.J.x=0;player[a].a.g.x=0;player[a].a.g.y=0;player[a].a.aa=Math.max(player[a].a.aa,14);1==player[a].a.face?n("tech",player[a].a.U[3]):n("tech",player[a].a.U[1]);aS[92].l(a)},l:function(a){1>player[a].c?(player[a].c+=.15,1<player[a].c&&(player[a].c=1)):player[a].c++;2==player[a].c&&sounds.bd.play();aS[90].m(a)||(.89<player[a].c&&.91>player[a].c&&(player[a].a.g.x=
1.3*player[a].a.face,player[a].a.g.y=2.4),1<=player[a].c&&(E(a),D(a)))},m:function(a){if(1<player[a].c){var d=I(a),e=H(a);if(d[0])return aS[d[1]].f(a),!0;if(player[a].b.L[0]&&!player[a].b.L[1]||player[a].b.r[0]&&!player[a].b.r[1])return aS[11].f(a),!0;if((player[a].b.x[0]&&!player[a].b.x[1]||player[a].b.y[0]&&!player[a].b.y[1]||.7<player[a].b.h[0].y&&.7>=player[a].b.h[1].y)&&!player[a].a.ra)return aS[19].f(a),!0;if(e[0])return aS[e[1]].f(a),!0;if(40<player[a].c)return aS[13].f(a),!0}return!1}},{name:"SLEEP",
w:!1,f:function(a){player[a].o=93;player[a].c=0;player[a].v.xa=0;player[a].a.J.y=0;player[a].a.J.x=0;player[a].a.g.x=0;player[a].a.g.y=0;player[a].a.j.x=300;aS[93].l(a)},l:function(){},m:function(){return!1}},{name:"ENTRANCE",w:!1,f:function(a){player[a].o=94;player[a].c=0;player[a].a.O=!1;aS[94].l(a)},l:function(a){player[a].c++;aS[94].m(a)},m:function(a){60<player[a].c&&aS[13].f(a)}},{name:"CLIFFGETUPQUICK",w:!0,offset:[[-71.33,-23.71],[-71.38,-23.71],[-71.42,-23.71],[-71.45,-23.71],[-71.46,-23.71],
[-71.44,-23.71],[-71.38,-23.71],[-71.26,-23.71],[-71.07,-22.69],[-70.8,-19.99],[-70.47,-16.19],[-70.11,-11.83],[-69.71,-7.48],[-69.28,-3.68],[-68.83,-1.01],[-67.88,0],[-67.38,0],[-66.87,0],[-66.35,0],[-65.81,0],[-65.27,0],[-64.73,0],[-64.19,0],[-63.65,0],[-63.12,0],[-62.59,0],[-62.08,0],[-61.6,0],[-61.17,0],[-60.8,0],[-60.5,0],[-60.28,0]],f:function(a){player[a].o=95;player[a].c=0;player[a].a.aa=30;aS[95].l(a)},l:function(a){player[a].c++;if(!aS[95].m(a)){var d=stage.K[player[a].a.ja][1]?stage.s[stage.K[player[a].a.ja][0]].max.x:
stage.s[stage.K[player[a].a.ja][0]].min.x,e=stage.s[stage.K[player[a].a.ja][0]].max.y;16>player[a].c?player[a].a.j=new k(d+(aS[95].offset[player[a].c-1][0]+68.4)*player[a].a.face,e+aS[95].offset[player[a].c-1][1]):player[a].a.j.x=d+(68.4+aS[95].offset[player[a].c-1][0])*player[a].a.face;16==player[a].c&&(player[a].a.O=!0,player[a].a.na=[0,stage.K[player[a].a.ja][0]],player[a].a.Tb=0,player[a].a.j.y=e)}},m:function(a){return 32<player[a].c?(player[a].a.ja=-1,player[a].a.Kb=!0,aS[0].f(a),!0):!1}}];
twoPi=2*Math.PI;function b(a,d,e,f,g,h,u){for(var v=0;v<g.length;v++){var p=g[v][0]*h*d+e,l=g[v][1]*u+f;0==v?(c.fillStyle=a,c.beginPath(),c.moveTo(p,l)):c.lineTo(p,l)}c.closePath();c.fill()}
function Q(a){var d=player[a].a.j.x*stage.scale+stage.offset[0],e=player[a].a.j.y*-stage.scale+stage.offset[1],f=player[a].a.face,g=Math.floor(player[a].c);0==g&&(g=1);var h=animations[charSelect[a]][aS[player[a].o].name][g-1];switch(player[a].o){case 15:case 17:case 20:case 25:case 61:case 72:case 94:h=animations[charSelect[a]][aS[player[a].o].name][0]}aS[player[a].o].ec?f*=-1:4==player[a].o?5<g&&(f*=-1):6==player[a].o?18<g&&(f*=-1):34==player[a].o&&29<g&&(f*=-1);if(player[a].a.Z&&!(player[a].a.Nb&&
0<player[a].v.ea)){var u=player[a].a.bb.x*stage.scale+stage.offset[0],v=player[a].a.bb.y*-stage.scale+stage.offset[1],p=palettes[pPal[a]][2];0<Math.floor(player[a].v.cb)&&(p=palettes[pPal[a]][4]);c.fillStyle=p+.6*player[a].a.Ga+")";c.beginPath();c.arc(u,v,player[a].a.vc*stage.scale,twoPi,0);c.fill()}if(26>player[a].o||29<player[a].o){var l;player[a].a.Z&&player[a].a.Nb&&0<player[a].v.ea?l="rgb(255,255,255)":3<player[a].a.aa%9||3<player[a].a.Yb%9||0<player[a].v.ea?l=palettes[pPal[a]][1]:player[a].a.charging&&
3<player[a].a.pa%9?l="rgba(252, 255, 91, 0.7)":l=72==player[a].o&&6>player[a].c%30?palettes[pPal[a]][3]:palettes[pPal[a]][0];3==player[a].a.pa%4?d+=2:1==player[a].a.pa%4&&(d-=2);1220<d||-20>d||880<e||-30>e?(u=new k(d-600,e-375),v=new k(0,0),p=(u.y-v.y)/(u.x-v.x),-375<=600*p&&375>=600*p?(u.x>v.x?(player[a].xb=new k(1150,600*p+375),player[a].nd=0):(player[a].xb=new k(50,600*-p+375),player[a].nd=1),player[a].ac=!0):-600<=375/p&&600>=375/p?(player[a].xb=u.y>v.y?50>d?new k(50,700):1150<d?new k(1150,700):
new k(d,700):new k(-375/p+stage.offset[0],50),player[a].nd=2,player[a].ac=!0):player[a].ac=!1):player[a].ac=!1;player[a].ac&&93!=player[a].o?(c.fillStyle="black",c.strokeStyle=palettes[pPal[a]][0],c.beginPath(),c.arc(player[a].xb.x,player[a].xb.y,35,twoPi,0),c.fill(),c.lineWidth=6,c.stroke(),c.lineWidth=1,b(l,f,player[a].xb.x,player[a].xb.y+30,h,.14,.14)):94==player[a].o?b(l,f,d,e,h,stage.scale/4.5*.2,stage.scale/4.5*Math.min(.2,.2*(1.5-startTimer))):b(l,f,d,e,h,stage.scale/4.5*.2,stage.scale/4.5*
.2)}hasTag[a]&&(c.fillStyle="rgba(0,0,0,0.5)",c.strokeStyle=palettes[pPal[a]][0],f=10*tagText[a].length,c.fillRect(d-f/2,e-stage.scale/4.5*130,f,20),c.strokeRect(d-f/2,e-stage.scale/4.5*130,f,20),c.font="13px Lucida Console, monaco, monospace",c.textAlign="center",c.fillStyle="white",c.fillText(tagText[a],d,e+15-stage.scale/4.5*130),c.fillStyle=palettes[pPal[a]][0],c.beginPath(),c.moveTo(d-8,e+20-stage.scale/4.5*130),c.lineTo(d+8,e+20-stage.scale/4.5*130),c.lineTo(d,e+28-stage.scale/4.5*130),c.closePath(),
c.fill(),c.textAlign="start");if(30==player[a].o||31==player[a].o)c.fillStyle=palettes[pPal[a]][1],c.strokeStyle=palettes[pPal[a]][0],c.beginPath(),c.moveTo(d+stage.scale/4.5*18,e+stage.scale/4.5*13.5),c.lineTo(d+stage.scale/4.5*31.5,e),c.lineTo(d-stage.scale/4.5*31.5,e),c.lineTo(d-stage.scale/4.5*18,e+stage.scale/4.5*13.5),c.closePath(),c.fill(),c.stroke();player[a].Wc&&(c.strokeStyle="#4478ff",c.strokeRect(player[a].a.qb.min.x*stage.scale+stage.offset[0],player[a].a.qb.min.y*-stage.scale+stage.offset[1],
14*stage.scale,10*stage.scale),c.strokeStyle="#ff4444",c.strokeRect(player[a].a.Lb.min.x*stage.scale+stage.offset[0],player[a].a.Lb.min.y*-stage.scale+stage.offset[1],14*stage.scale,10*stage.scale));player[a].Uc&&(c.fillStyle="#ff8d2f",c.beginPath(),c.moveTo(player[a].a.la[0].x*stage.scale+stage.offset[0],player[a].a.la[0].y*-stage.scale+stage.offset[1]),c.lineTo(player[a].a.la[1].x*stage.scale+stage.offset[0],player[a].a.la[1].y*-stage.scale+stage.offset[1]),c.lineTo(player[a].a.la[2].x*stage.scale+
stage.offset[0],player[a].a.la[2].y*-stage.scale+stage.offset[1]),c.lineTo(player[a].a.la[3].x*stage.scale+stage.offset[0],player[a].a.la[3].y*-stage.scale+stage.offset[1]),c.closePath(),c.fill(),c.strokeStyle="white",c.beginPath(),c.moveTo(player[a].a.U[0].x*stage.scale+stage.offset[0],player[a].a.U[0].y*-stage.scale+stage.offset[1]),c.lineTo(player[a].a.U[1].x*stage.scale+stage.offset[0],player[a].a.U[1].y*-stage.scale+stage.offset[1]),c.lineTo(player[a].a.U[2].x*stage.scale+stage.offset[0],player[a].a.U[2].y*
-stage.scale+stage.offset[1]),c.lineTo(player[a].a.U[3].x*stage.scale+stage.offset[0],player[a].a.U[3].y*-stage.scale+stage.offset[1]),c.closePath(),c.stroke(),c.beginPath(),c.moveTo(d,e-6),c.lineTo(d,e+6),c.closePath(),c.stroke(),c.beginPath(),c.moveTo(d+6,e),c.lineTo(d-6,e),c.closePath(),c.stroke());if(player[a].Vc)for(c.fillStyle=hurtboxColours[player[a].a.nb],c.fillRect(player[a].a.ob.min.x*stage.scale+stage.offset[0],player[a].a.ob.min.y*-stage.scale+stage.offset[1],8*stage.scale,18*stage.scale),
c.fillStyle="rgba(255, 29, 29, 0.69)",d=0;4>d;d++)player[a].i.active[d]&&(e=player[a].i.id[d].offset[player[a].i.frame],39==player[a].o&&(e=player[a].i.id[d].offset[0]),c.beginPath(),c.arc((e.x*player[a].a.face+player[a].a.j.x)*stage.scale+stage.offset[0],(e.y+player[a].a.j.y)*-stage.scale+stage.offset[1],player[a].i.id[d].size*stage.scale,2*Math.PI,0),c.fill());$("#actState"+a).empty().append(aS[player[a].o].name);$("#stateNum"+a).empty().append(g);$("#face"+a).empty().append(player[a].a.face);$("#percent"+
a).empty().append(player[a].wa)}lostStockQueue=[];
function ma(a){c.strokeStyle="black";if(!versusMode){c.fillStyle="white";c.lineWidth=2;c.font="900 40px Arial";c.textAlign="center";var d=Math.floor(matchTimer/60).toString(),e=(matchTimer%60).toFixed(2);c.fillText((2>d.length?"0"+d:d)+":"+(5>e.length?"0"+e[0]:e[0]+e[1]),590,70);c.strokeText((2>d.length?"0"+d:d)+":"+(5>e.length?"0"+e[0]:e[0]+e[1]),590,70);c.font="900 25px Arial";c.fillText(5>e.length?e[2]+e[3]:e[3]+e[4],670,70);c.strokeText(5>e.length?e[2]+e[3]:e[3]+e[4],670,70)}if(a){c.font="900 53px Arial";
c.lineWidth=2;c.textAlign="end";c.save();c.scale(.8,1);for(a=0;4>a;a++)-1<playerType[a]&&(c.fillStyle="rgb(255,"+Math.max(255-player[a].wa,0)+", "+Math.max(255-player[a].wa,0)+")",c.fillText(player[a].wa+"%",1.25*(450+145*a+player[a].$a.x),670+player[a].$a.y),c.strokeText(player[a].wa+"%",1.25*(450+145*a+player[a].$a.x),670+player[a].$a.y));c.restore();for(a=0;4>a;a++)if(-1<playerType[a])for(c.fillStyle=palettes[pPal[a]][0],d=0;d<player[a].Ca;d++)c.beginPath(),c.arc(337+145*a+30*d,600,12,0,twoPi),
c.closePath(),c.fill(),c.stroke();lostStockPopQueue=[];c.fillStyle="white";c.strokeStyle="white";for(a=0;a<lostStockQueue.length;a++)lostStockQueue[a][2]++,20<lostStockQueue[a][2]?lostStockPopQueue.push(a):(c.save(),c.translate(337+145*lostStockQueue[a][0]+30*lostStockQueue[a][1]-2,598),c.fillRect(lostStockQueue[a][2],0,4,4),c.fillRect(lostStockQueue[a][2],lostStockQueue[a][2],4,4),c.fillRect(-lostStockQueue[a][2],lostStockQueue[a][2],4,4),c.fillRect(lostStockQueue[a][2],-lostStockQueue[a][2],4,4),
c.fillRect(-lostStockQueue[a][2],-lostStockQueue[a][2],4,4),c.fillRect(-lostStockQueue[a][2],0,4,4),c.fillRect(0,lostStockQueue[a][2],4,4),c.fillRect(0,-lostStockQueue[a][2],4,4),c.beginPath(),c.arc(2,2,lostStockQueue[a][2]/2,0,twoPi),c.closePath(),c.stroke(),c.restore());for(a=0;a<lostStockPopQueue.length;a++)lostStockQueue.splice(lostStockPopQueue[a]-a,1);c.textAlign="start"}}
function na(){c.fillStyle="#8e8e8e";c.save();c.fillRect(45,48,300,24);c.fillStyle="#3724a6";c.fillRect(60,50,50,20);c.beginPath();c.arc(60,60,10,0,twoPi);c.closePath();c.fill();c.beginPath();c.arc(110,60,10,0,twoPi);c.closePath();c.fill();c.restore();c.save();c.translate(950,650);c.fillRect(0,0,8,45);c.fillRect(0,25,200,20);c.fillRect(192,0,8,45);c.fillRect(0,0,12,4);c.fillRect(188,0,12,4);for(var a=54,d=0;3>d;d++)c.fillRect(a-2,-6,4,12),c.fillRect(a-6,-2,12,4),a+=46;c.beginPath();c.arc(169,2,12,
0,twoPi);c.closePath();c.fill();c.fillStyle="#21792f";c.beginPath();c.arc(123,2,15,0,twoPi);c.closePath();c.fill();c.fillStyle="#9a2622";c.beginPath();c.arc(40,62,12,0,twoPi);c.closePath();c.fill();c.fillStyle="#636363";c.beginPath();c.arc(31,2,15,.8*Math.PI,twoPi);c.closePath();c.fill();c.beginPath();c.arc(77,2,15,twoPi/2,.2*Math.PI);c.closePath();c.fill();c.fillRect(14,55,4,12);c.fillRect(10,59,12,4);c.fillRect(60,52,140,20);c.fillStyle="black";c.font="800 20px Arial";c.fillText("S",158,8);c.fillText("B",
32,70);c.fillText("Z",-872,-583);c.font="800 17px Arial";c.fillText("T",170,9);c.scale(1.2,1);c.font="900 24px Arial";c.fillText("RESET",72,43);c.fillText("L",17,7);c.fillText("R",56,7);c.fillText("A",93,9);c.font="900 20px Arial";c.fillText("RUNBACK",53,70);c.font="900 18px Arial";c.fillText("FRAME ADVANCE",-685,-584);c.restore()}angB=0;angles=[0,Math.PI];mlPos=mlVel=angR=0;mlDir=1;
circlePos=[[200,0,.4,1,200],[600,240,.21,1,250],[10,600,.7,-1,150],[350,500,.65,-1,270],[1E3,50,.9,1,200],[900,400,.1,-1,260]];var R=1;lightDust=[];for(var S=0;20>S;S++)lightDust[S]=[3*Math.random()+2,330+(26*S+26*Math.random()),520,.2];
function oa(){c.fillStyle="rgba(46, 8, 154, 1)";var a=c.createRadialGradient(600,375,5,600,375,750);a.addColorStop(0,"#27005b");a.addColorStop(.25,"#2b0170");a.addColorStop(.5,"#2b005b");a.addColorStop(.75,"#35005b");a.addColorStop(1,"#38005b");c.fillStyle=a;c.fillRect(0,0,canvas.width,canvas.height);c.save();c.scale(1.5,1);c.shadowBlur=60;c.shadowColor="rgba(147, 14, 42, 1)";c.shadowOffsetX=-3150;c.fillStyle="rgba(147, 14, 42, 0.5)";c.translate(2440,380);for(var d=a=0;10>d;d++)c.beginPath(),c.arc(0,
0,720,a,a+Math.PI/20),c.lineTo(0,0),c.closePath(),c.fill(),a+=Math.PI/5;c.restore();c.save();c.lineWidth=60;c.strokeStyle="rgba(92, 18, 18, 0.2)";for(a=0;6>a;a++){circlePos[a][0]+=circlePos[a][2]*circlePos[a][3];circlePos[a][1]+=circlePos[a][2]*circlePos[a][3];if(1300<circlePos[a][0]||850<circlePos[a][1])--circlePos[a][0],--circlePos[a][1],circlePos[a][3]*=-1;if(-100>circlePos[a][0]||-100>circlePos[a][1])circlePos[a][0]+=1,circlePos[a][1]+=1,circlePos[a][3]*=-1;c.beginPath();c.arc(Math.round(circlePos[a][0]),
Math.round(circlePos[a][1]),circlePos[a][4],0,twoPi);c.closePath();c.stroke()}c.restore();c.save();c.fillStyle="#333236";c.translate(600,375);a=angB+=.001;for(d=0;30>d;d++)c.beginPath(),c.arc(0,0,720,a,a+Math.PI/30),c.lineTo(0,0),c.closePath(),c.fill(),a+=Math.PI/15;c.restore();a=c.createRadialGradient(600,375,5,600,375,300);a.addColorStop(0,"rgb(51, 51, 51)");a.addColorStop(1,"rgba(51, 51, 51, 0)");c.fillStyle=a;c.fillRect(0,0,canvas.width,canvas.height);c.save();c.lineWidth=3;c.strokeStyle="rgba(149, 255, 131, 0.12)";
c.scale(1.3,1.1);a=20;for(d=0;15>d;d++)c.beginPath(),c.arc(515,530+10*d,a,0,twoPi),c.closePath(),c.stroke(),a+=30+5*d;c.restore();c.save();c.lineWidth=3;c.strokeStyle="rgba(149, 255, 131, 0.12)";c.translate(670,580);angR+=.001;c.rotate(angR);a=[angles[0],angles[1]];for(d=0;25>d;d++)c.beginPath(),c.moveTo(0,0),c.bezierCurveTo(6E3*Math.cos(a[0]),6E3*Math.sin(a[0]),6E3*Math.cos(a[1]),6E3*Math.sin(a[1]),0,0),c.closePath(),c.stroke(),a[0]+=Math.PI/16,a[1]-=Math.PI/16;c.restore();c.save();c.strokeStyle=
"rgba(0, 0, 0, 0.3)";c.strokeStyle="rgba(255, 255, 255, 0.6)";c.lineWidth=5;c.globalCompositeOperation="xor";a=c.createLinearGradient(0,0,0,390);a.addColorStop(0,"rgba(0, 0, 0, 1)");a.addColorStop(1,"rgba(255, 255, 255, 0.5)");c.fillStyle=a;c.textAlign="center";c.font="900 250px Arial";c.strokeText("Melee",600,350);c.fillText("Melee",600,350);c.globalCompositeOperation="lighter";a=c.createLinearGradient(0,440+mlPos,0,500+mlPos);a.addColorStop(0,"rgba(255, 255, 255,0.45)");a.addColorStop(1,"rgba(255, 255, 255,0.2)");
c.fillStyle=a;c.shadowBlur=30;c.shadowColor="rgba(255, 255, 255, 0.7)";c.font="900 150px Arial";c.fillText("LIGHT",600,500+mlPos);mlVel+=.05*mlDir;mlPos+=mlVel;if(.8<Math.abs(mlVel)&&(mlDir*=-1,-1==mlDir))for(a=0;10>a;a++);c.restore();for(a=0;20>a;a++)410>lightDust[a][2]&&(lightDust[a]=[3*Math.random()+2,330+(26*a+26*Math.random()),520,.2]),lightDust[a][2]-=lightDust[a][0],lightDust[a][3]=Math.max(0,lightDust[a][3]-.01),c.fillStyle="rgba(155,155,255,"+lightDust[a][3]+")",c.beginPath(),c.arc(lightDust[a][1],
lightDust[a][2],10,0,twoPi),c.closePath(),c.fill();c.save();c.fillStyle="#989898";c.beginPath();c.arc(600,580,30,0,twoPi);c.closePath();c.fill();c.fillStyle="#6c6b6b";c.beginPath();c.arc(600,580,15,0,twoPi);c.closePath();c.fill();c.lineWidth=7;c.font="900 40px monospace";c.textAlign="center";c.fillStyle="#f0c900";c.strokeStyle="black";c.strokeText("PRESS START",600,600);c.fillText("PRESS START",600,600);c.fillStyle="rgba(0,0,0,0.6)";c.beginPath();c.arc(600,-2900,3E3,.05*Math.PI,.95*Math.PI);c.closePath();
c.fill();c.beginPath();c.arc(600,3650,3E3,1.05*Math.PI,1.95*Math.PI);c.closePath();c.fill();c.restore()}menuSelected=0;menuText=["VS. Melee","Target Test","Target Builder"];menuExplanation=["Multiplayer Battles!","Smash ten targets!","Build target test stages!"];menuColours=[238,358,117];menuCurColour=238;stickHold=menuGlobalTimer=menuTimer=menuCycle=0;stickHoldEach=[];menuAngle=menuColourOffset=0;menuRandomBox=[Math.random(),Math.random(),Math.random(),Math.random()];var pa=new Image;pa.src="marth.png";
var qa=new Image;qa.src="handpoint.png";var T=new Image;T.src="handopen.png";var ra=new Image;ra.src="handgrab.png";choosingTag=-1;handType=[0,0,0,0];handPos=[new k(140,700),new k(365,700),new k(590,700),new k(815,700)];tokenPos=[new k(568,268),new k(608,268),new k(568,308),new k(608,308)];chosenChar=[0,0,0,0];tokenGrabbed=[!1,!1,!1,!1];bHold=[0,0,0,0];readyToFight=!1;rtfFlash=25;rtfFlashD=1;crossHairPos=new k(0,0);targetTool=targetBuilder=0;showingCode=!1;toolInfoTimer=0;toolInfo="Box Platform Ledge Target Move Delete".split(" ");
holdingA=!1;drawingBox=new t([0,0],[0,0]);drawingPlatform=[new k(0,0),new k(0,0)];tooSmallTimer=0;tooSmallPos=new k(0,0);stageTemp={s:[],platform:[],N:[],P:[],S:[],T:[],target:[],W:new k(0,0),K:[],Aa:new t([-250,-250],[250,250]),scale:3,offset:[600,375],u:{s:[],platform:[],N:[],P:[],S:[],T:[],target:[],W:new k(600,375),K:[]}};ledgeHoverItem=hoverItem=grabbedItem=0;builderPaused=!1;builderPauseSelected=0;undoList=[];
function sa(){var a;a="{startingPoint:new Vec2D("+(stageTemp.W.x+","+stageTemp.W.y+"),box:[");for(var d=0;d<stageTemp.s.length;d++)a+="new Box2D(["+stageTemp.s[d].min.x+","+stageTemp.s[d].min.y+"],["+stageTemp.s[d].max.x+","+stageTemp.s[d].max.y+"])",d!=stageTemp.s.length-1&&(a+=",");a+="],ground:[";for(d=0;d<stageTemp.N.length;d++)a+="[new Vec2D("+stageTemp.N[d][0].x+","+stageTemp.N[d][0].y+"),new Vec2D("+stageTemp.N[d][1].x+","+stageTemp.N[d][1].y+")]",d!=stageTemp.N.length-1&&(a+=",");a+="],ceiling:[";
for(d=0;d<stageTemp.P.length;d++)a+="[new Vec2D("+stageTemp.P[d][0].x+","+stageTemp.P[d][0].y+"),new Vec2D("+stageTemp.P[d][1].x+","+stageTemp.P[d][1].y+")]",d!=stageTemp.P.length-1&&(a+=",");a+="],wallL:[";for(d=0;d<stageTemp.S.length;d++)a+="[new Vec2D("+stageTemp.S[d][0].x+","+stageTemp.S[d][0].y+"),new Vec2D("+stageTemp.S[d][1].x+","+stageTemp.S[d][1].y+")]",d!=stageTemp.S.length-1&&(a+=",");a+="],wallR:[";for(d=0;d<stageTemp.T.length;d++)a+="[new Vec2D("+stageTemp.T[d][0].x+","+stageTemp.T[d][0].y+
"),new Vec2D("+stageTemp.T[d][1].x+","+stageTemp.T[d][1].y+")]",d!=stageTemp.T.length-1&&(a+=",");a+="],platform:[";for(d=0;d<stageTemp.platform.length;d++)a+="[new Vec2D("+stageTemp.platform[d][0].x+","+stageTemp.platform[d][0].y+"),new Vec2D("+stageTemp.platform[d][1].x+","+stageTemp.platform[d][1].y+")]",d!=stageTemp.platform.length-1&&(a+=",");a+="],ledge:[";for(d=0;d<stageTemp.K.length;d++)a+="["+stageTemp.K[d][0]+","+stageTemp.K[d][1]+"]",d!=stageTemp.K.length-1&&(a+=",");a+="],target:[";for(d=
0;d<stageTemp.target.length;d++)a+="new Vec2D("+stageTemp.target[d].x+","+stageTemp.target[d].y+")",d!=stageTemp.target.length-1&&(a+=",");return a+="],scale:"+stageTemp.scale+",blastzone:new Box2D([-250,-250],[250,250]),offset:[600,375]}"}function ta(a){for(var d=!1,e=0;e<stageTemp.target.length;e++)if(30>=Math.abs(a.x-stageTemp.u.target[e].x)&&30>=Math.abs(a.y-stageTemp.u.target[e].y)){hoverItem=["target",e];d=!0;break}return d}
function ua(a){for(var d=!1,e=0;e<stageTemp.platform.length;e++)if(Math.abs(a.x-(stageTemp.u.platform[e][0].x+stageTemp.u.platform[e][1].x)/2)<=Math.abs(stageTemp.u.platform[e][0].x-stageTemp.u.platform[e][1].x)/2+10&&20>=Math.abs(a.y-stageTemp.u.platform[e][0].y)){hoverItem=["platform",e];d=!0;break}return d}
function va(a){for(var d=!1,e=0;e<stageTemp.s.length;e++)if(a.x>=stageTemp.u.s[e].min.x-5&&a.x<=stageTemp.u.s[e].max.x+5&&a.y>=stageTemp.u.s[e].max.y-5&&a.y<=stageTemp.u.s[e].min.y+5){hoverItem=["box",e];d=!0;break}return d}
function wa(a){var d=hoverItem;switch(d[0]){case "startingPoint":stageTemp.u.W=new k(a.x,a.y);stageTemp.W=new k(crossHairPos.x,crossHairPos.y);break;case "target":stageTemp.u.target[d[1]]=new k(a.x,a.y);stageTemp.target[d[1]]=new k(crossHairPos.x,crossHairPos.y);break;case "platform":var e=Math.abs(stageTemp.platform[d[1]][0].x-stageTemp.platform[d[1]][1].x)/2,f=Math.abs(stageTemp.u.platform[d[1]][0].x-stageTemp.u.platform[d[1]][1].x)/2;stageTemp.u.platform[d[1]]=[new k(a.x-f,a.y),new k(a.x+f,a.y)];
stageTemp.platform[d[1]]=[new k(crossHairPos.x-e,crossHairPos.y),new k(crossHairPos.x+e,crossHairPos.y)];break;case "box":var e=Math.abs(stageTemp.s[d[1]].max.x-stageTemp.s[d[1]].min.x)/2,g=Math.abs(stageTemp.s[d[1]].max.y-stageTemp.s[d[1]].min.y)/2,f=Math.abs(stageTemp.u.s[d[1]].max.x-stageTemp.u.s[d[1]].min.x)/2,h=Math.abs(stageTemp.u.s[d[1]].min.y-stageTemp.u.s[d[1]].max.y)/2;stageTemp.s[d[1]]=new t([crossHairPos.x-e,crossHairPos.y-g],[crossHairPos.x+e,crossHairPos.y+g]);stageTemp.u.s[d[1]]=new t([a.x-
f,a.y+h],[a.x+f,a.y-h]);a=stageTemp.u.s[d[1]];stageTemp.u.N[d[1]]=[new k(a.min.x,a.max.y),new k(a.max.x,a.max.y)];stageTemp.u.P[d[1]]=[new k(a.min.x,a.min.y),new k(a.max.x,a.min.y)];stageTemp.u.S[d[1]]=[new k(a.min.x,a.max.y),new k(a.min.x,a.min.y)];stageTemp.u.T[d[1]]=[new k(a.max.x,a.max.y),new k(a.max.x,a.min.y)];a=stageTemp.s[d[1]];stageTemp.N[d[1]]=[new k(a.min.x,a.max.y),new k(a.max.x,a.max.y)];stageTemp.P[d[1]]=[new k(a.min.x,a.min.y),new k(a.max.x,a.min.y)];stageTemp.S[d[1]]=[new k(a.min.x,
a.max.y),new k(a.min.x,a.min.y)];stageTemp.T[d[1]]=[new k(a.max.x,a.max.y),new k(a.max.x,a.min.y)]}}targetTesting=!1;targetStagePlaying=targetPlayer=0;targetDestroyed=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];targetsDestroyed=0;endTargetGame=!1;targetRecords=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,13.43,-1,-1,-1,-1,-1,-1,-1,-1,-1];worldRecords=[14.85,10.40,14.62,12.98,13.67,9.48,10.57,25,25,25];worldRecordNames=["schmoo","schmoo","Peabnut","Peabnut","schmoo","schmoo","schmoo"];
medalTimes=[[30,21,17],[29,20,15],[35,24,19],[32,21,15],[35,23,15],[35,23,15],[35,23,15],[35,23,15],[35,23,15],[35,23,15]];medalsEarned=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]];
function xa(a,d){endTargetGame=!1;d&&(stage=stageTemp);targetTesting=d;gameMode=5;targetDestroyed=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];targetsDestroyed=0;vfxQueue=[];ya(a,!0);Q(a);player[a].a.j=new k(stage.W.x,stage.W.y);matchTimer=0;startTimer=1.5;starting=!0;sounds.$b.stop();sounds.jb.stop();sounds.jb.play("battlefieldStart");n("start",new k(0,0));findingPlayers=!1;playing=!0;player[a].ha=!1;player[a].Ca=1}targetSelectTimer=targetSelected=0;targetPointerPos=[600,635];var U=.5;
stages=[{s:[new t([-68.4,-9],[68.4,0]),new t([-29.3,-34],[-13.68,-9]),new t([13.68,-34],[29.3,-9]),new t([-13.68,-20],[13.68,-9])],platform:[[new k(-57.6,27.2),new k(-20,27.2)],[new k(20,27.2),new k(57.6,27.2)],[new k(-18.8,54.4),new k(18.8,54.4)]],N:[[new k(-68.4,0),new k(68.4,0)]],P:[[new k(-68.4,-9),new k(-29.3,-9)],[new k(-29.3,-34),new k(-13.68,-34)],[new k(13.68,-34),new k(29.3,-34)],[new k(29.3,-9),new k(68.4,-9)],[new k(-13.68,-20),new k(13.68,-20)]],S:[[new k(-68.4,0),new k(-68.4,-9)],[new k(-29.3,
-9),new k(-29.3,-34)],[new k(13.68,-20),new k(13.68,-34)]],T:[[new k(68.4,0),new k(68.4,-9)],[new k(29.3,-9),new k(29.3,-34)],[new k(-13.68,-20),new k(-13.68,-34)]],W:[new k(-50,50),new k(50,50),new k(-25,5),new k(25,5)],xc:[1,-1,1,-1],Ob:[new k(-50,50),new k(50,50),new k(-25,35),new k(25,35)],dc:[1,-1,1,-1],Aa:new t([-224,-108.8],[224,200]),K:[[0,0],[0,1]],scale:4.5,offset:[600,480],tc:function(){}},{s:[new t([-56,-100],[56,0])],platform:[[new k(-103.6,-33.25),new k(-91.7,-33.25)],[new k(-59.5,23.45),
new k(-28,23.45)],[new k(28,23.45),new k(59.5,23.45)],[new k(-15.75,42),new k(15.75,42)]],N:[[new k(-56,0),new k(56,0)]],P:[[new k(-56,-100),new k(56,-100)]],S:[[new k(-56,0),new k(-56,-100)]],T:[[new k(56,0),new k(56,-100)]],W:[new k(-42,30),new k(42,30),new k(-15,15),new k(15,15)],xc:[1,-1,1,-1],Ob:[new k(-42,30),new k(42,30),new k(-20,30),new k(-20,30)],dc:[1,-1,1,-1],Aa:new t([-175.7,-91],[173.6,168]),K:[[0,0],[0,1]],scale:5,offset:[600,430],tc:function(){var a=stage.platform[0],d=[0,0];-103.6>=
a[0].x&&-33.25<a[0].y&&(a[0].x=-103.6,a[1].x=-91.7,a[0].y-=.354845,a[1].y-=.354845,d=[0,-.354845]);91.35<=a[0].x&&-13.65>a[0].y&&(a[0].x=91.35,a[1].x=103.25,a[0].y+=.354845,a[1].y+=.354845,d=[0,.354845]);-33.25>=a[0].y&&(a[0].y=-33.25,a[1].y=-33.25,a[0].x+=.354845,a[1].x+=.354845,d=[.354845,0]);-13.65<=a[0].y&&(a[0].y=-13.65,a[1].y=-13.65,a[0].x-=.354845,a[1].x-=.354845,d=[-.354845,0]);for(a=0;4>a;a++)1==player[a].a.na[0]&&0==player[a].a.na[1]&&player[a].a.O&&(player[a].a.j.x+=d[0],player[a].a.j.y+=
d[1])}},{s:[new t([-87.7,-17.75],[87.7,0]),new t([-62,-38],[62,-17.75]),new t([-15,-112],[15,-38])],platform:[[new k(-55,25),new k(-25,25)],[new k(25,25),new k(55,25)]],N:[[new k(-87.7,0),new k(87.7,0)]],P:[[new k(-87.7,-17.75),new k(-62,-17.75)],[new k(-62,-38),new k(-15,-38)],[new k(-15,-112),new k(15,-112)],[new k(62,-17.75),new k(87.7,-17.75)],[new k(15,-38),new k(62,-38)]],S:[[new k(-87.7,0),new k(-87.7,-17.75)],[new k(-62,-17.75),new k(-62,-38)],[new k(-15,-38),new k(-15,-112)]],T:[[new k(87.7,
0),new k(87.7,-17.75)],[new k(62,-17.75),new k(62,-38)],[new k(15,-38),new k(15,-112)]],W:[new k(-45,44),new k(45,44),new k(-25,44),new k(25,44)],xc:[1,-1,1,-1],Ob:[new k(-45,44),new k(45,44),new k(-25,44),new k(25,44)],dc:[1,-1,1,-1],Aa:new t([-230,-111],[230,180]),K:[[0,0],[0,1]],scale:4.2,offset:[600,500],tc:function(){}},{s:[new t([-77.27,-36],[77.27,0])],platform:[[new k(-61.393,30.142),new k(-31.725,30.142)],[new k(-19.018,51.425),new k(19.017,51.425)],[new k(31.704,30.243),new k(63.075,30.243)]],
N:[[new k(-77.27,0),new k(77.27,0)]],P:[[new k(-77.27,-36),new k(77.27,-36)]],S:[[new k(-77.27,0),new k(-77.27,-36)]],T:[[new k(77.27,0),new k(77.27,-36)]],W:[new k(-60,50),new k(60,50),new k(-40,50),new k(40,50)],xc:[1,-1,1,-1],Ob:[new k(-60,50),new k(60,50),new k(-40,50),new k(40,50)],dc:[1,-1,1,-1],Aa:new t([-255,-123],[255,250]),K:[[0,0],[0,1]],scale:3.5,offset:[600,500],tc:function(){}}];customTargetStages=[];
targetStages=[{W:new k(0,0),s:[new t([-150.5625,70.1875],[-16.0625,88.1875]),new t([-56.5625,-21.8125],[55.5625,-14]),new t([114.70000000000009,-78.675],[143.4,17.000000000000057]),new t([82.2500000000003,-78.78749999999995],[143.46250000000018,-20.57499999999995]),new t([-172.0124999999996,-118.12499999999996],[-159.1999999999996,-13.499999999999963]),new t([-133.0749999999996,-48.812499999999964],[-111.57499999999959,-27.12499999999996]),new t([37.56250000000042,-78.71249999999993],[143.45000000000041,-50.87499999999992])],N:[[new k(-150.5625,88.1875),new k(-16.0625,88.1875)],[new k(-56.5625,-14),new k(55.5625,-14)],[new k(114.70000000000009,17.000000000000057),new k(143.4,17.000000000000057)],[new k(82.2500000000003,-20.57499999999995),new k(143.46250000000018,-20.57499999999995)],[new k(-172.0124999999996,-13.499999999999963),new k(-159.1999999999996,-13.499999999999963)],[new k(-133.0749999999996,-27.12499999999996),new k(-111.57499999999959,-27.12499999999996)],[new k(37.56250000000042,-50.87499999999992),new k(143.45000000000041,-50.87499999999992)]],P:[[new k(-150.5625,70.1875),new k(-16.0625,70.1875)],[new k(-56.5625,-21.8125),new k(55.5625,-21.8125)],[new k(114.70000000000009,-78.675),new k(143.4,-78.675)],[new k(82.2500000000003,-78.78749999999995),new k(143.46250000000018,-78.78749999999995)],[new k(-172.0124999999996,-118.12499999999996),new k(-159.1999999999996,-118.12499999999996)],[new k(-133.0749999999996,-48.812499999999964),new k(-111.57499999999959,-48.812499999999964)],[new k(37.56250000000042,-78.71249999999993),new k(143.45000000000041,-78.71249999999993)]],S:[[new k(-150.5625,88.1875),new k(-150.5625,70.1875)],[new k(-56.5625,-14),new k(-56.5625,-21.8125)],[new k(114.70000000000009,17.000000000000057),new k(114.70000000000009,-78.675)],[new k(82.2500000000003,-20.57499999999995),new k(82.2500000000003,-78.78749999999995)],[new k(-172.0124999999996,-13.499999999999963),new k(-172.0124999999996,-118.12499999999996)],[new k(-133.0749999999996,-27.12499999999996),new k(-133.0749999999996,-48.812499999999964)],[new k(37.56250000000042,-50.87499999999992),new k(37.56250000000042,-78.71249999999993)]],T:[[new k(-16.0625,88.1875),new k(-16.0625,70.1875)],[new k(55.5625,-14),new k(55.5625,-21.8125)],[new k(143.4,17.000000000000057),new k(143.4,-78.675)],[new k(143.46250000000018,-20.57499999999995),new k(143.46250000000018,-78.78749999999995)],[new k(-159.1999999999996,-13.499999999999963),new k(-159.1999999999996,-118.12499999999996)],[new k(-111.57499999999959,-27.12499999999996),new k(-111.57499999999959,-48.812499999999964)],[new k(143.45000000000041,-50.87499999999992),new k(143.45000000000041,-78.71249999999993)]],platform:[[new k(143.36250000000027,-21.537499999999948),new k(169.4625000000004,-21.537499999999948)],[new k(143.38750000000041,-50.59999999999991),new k(168.5875000000004,-50.59999999999991)],[new k(-95.19999999999959,-63.937499999999964),new k(-5.299999999999652,-63.937499999999964)],[new k(-140.1374999999996,29.93750000000004),new k(-84.63749999999959,29.93750000000004)],[new k(-193.0999999999996,70.10000000000002),new k(-149.5124999999996,70.10000000000002)]],K:[[3,0],[2,0],[4,1]],target:[new k(-48.59999999999965,0.6875),new k(48.40000000000035,0.6875),new k(156.96250000000035,-66.3125),new k(-15.13749999999959,-43.18749999999997),new k(-186.3874999999996,-86.99999999999997),new k(-113.16249999999962,47.72500000000002),new k(-128.91249999999962,103.60000000000002),new k(53.150000000000375,103.60000000000002),new k(153.96250000000038,-7.212499999999977),new k(-51.912499999999625,103.91250000000002)],scale:3,Aa:new t([-250,-250],[250,250]),offset:[600,375]},{W:new k(-159.5,-73.75),s:[new t([-200,-103],[-48.9375,-88.3125]),new t([-200,-51.3125],[-49.8125,-36.75]),new t([-145.40000000000026,-37.0375],[-111.575,20.82499999999999]),new t([-76.00000000000036,6.700000000000007],[10.36249999999965,19.950000000000006]),new t([141.33749999999978,-44.625],[155.79999999999987,60.88749999999999]),new t([181.5625,-43.5375],[195.225,61])],N:[[new k(-200,-88.3125),new k(-48.9375,-88.3125)],[new k(-200,-36.75),new k(-49.8125,-36.75)],[new k(-145.40000000000026,20.82499999999999),new k(-111.575,20.82499999999999)],[new k(-76.00000000000036,19.950000000000006),new k(10.36249999999965,19.950000000000006)],[new k(141.33749999999978,60.88749999999999),new k(155.79999999999987,60.88749999999999)],[new k(181.5625,61),new k(195.225,61)]],P:[[new k(-200,-103),new k(-48.9375,-103)],[new k(-200,-51.3125),new k(-49.8125,-51.3125)],[new k(-145.40000000000026,-37.0375),new k(-111.575,-37.0375)],[new k(-76.00000000000036,6.700000000000007),new k(10.36249999999965,6.700000000000007)],[new k(141.33749999999978,-44.625),new k(155.79999999999987,-44.625)],[new k(181.5625,-43.5375),new k(195.225,-43.5375)]],S:[[new k(-200,-88.3125),new k(-200,-103)],[new k(-200,-36.75),new k(-200,-51.3125)],[new k(-145.40000000000026,20.82499999999999),new k(-145.40000000000026,-37.0375)],[new k(-76.00000000000036,19.950000000000006),new k(-76.00000000000036,6.700000000000007)],[new k(141.33749999999978,60.88749999999999),new k(141.33749999999978,-44.625)],[new k(181.5625,61),new k(181.5625,-43.5375)]],T:[[new k(-48.9375,-88.3125),new k(-48.9375,-103)],[new k(-49.8125,-36.75),new k(-49.8125,-51.3125)],[new k(-111.575,20.82499999999999),new k(-111.575,-37.0375)],[new k(10.36249999999965,19.950000000000006),new k(10.36249999999965,6.700000000000007)],[new k(155.79999999999987,60.88749999999999),new k(155.79999999999987,-44.625)],[new k(195.225,61),new k(195.225,-43.5375)]],platform:[[new k(-43.5625,-69.6875),new k(-0.3125,-69.6875)],[new k(-139.16250000000025,47.17499999999999),new k(-117.96250000000028,47.17499999999999)],[new k(-134.8250000000004,71.9875),new k(-122.86250000000037,71.9875)],[new k(12.912499999999682,33.63750000000001),new k(48.31249999999962,33.63750000000001)],[new k(53.32499999999967,39.22500000000002),new k(90.86249999999973,39.22500000000002)],[new k(95.5625,32.86249999999999),new k(134.56249999999986,32.86249999999999)],[new k(155.5624999999997,82.92499999999993),new k(182.91249999999945,82.92499999999993)]],K:[[2,1],[2,0]],target:[new k(-185.0625,-75.0625),new k(-178.27500000000026,-19.17500000000001),new k(-129.02500000000038,95.20000000000002),new k(72.21249999999984,22.699999999999996),new k(70.67499999999984,76.43750000000001),new k(168.4375,5.5249999999999915),new k(185.1875,114.21249999999999),new k(170.125,-97.01250000000007),new k(-25.3125,-44.825000000000074),new k(-67.625,28.924999999999926)],scale:3,Aa:new t([-250,-250],[250,250]),offset:[600,375]},
{W:new k(-179.6875,-74.375),s:[new t([-150.19374999999914,-126.30625],[-115.75624999999886,39.806250000000006]),new t([-18.581249999999045,-128.59375],[16.731250000000955,36.46875]),new t([109.73125000000095,-143.15625],[144.04375000000095,36.40625]),new t([-25.237499999999635,71.27499999999998],[-11.86249999999962,129.10000000000002]),new t([11.39375000000037,70.63124999999994],[24.081250000000377,163.06875])],N:[[new k(-150.19374999999914,39.806250000000006),new k(-115.75624999999886,39.806250000000006)],[new k(-18.581249999999045,36.46875),new k(16.731250000000955,36.46875)],[new k(109.73125000000095,36.40625),new k(144.04375000000095,36.40625)],[new k(-25.237499999999635,129.10000000000002),new k(-11.86249999999962,129.10000000000002)],[new k(11.39375000000037,163.06875),new k(24.081250000000377,163.06875)]],P:[[new k(-150.19374999999914,-126.30625),new k(-115.75624999999886,-126.30625)],[new k(-18.581249999999045,-128.59375),new k(16.731250000000955,-128.59375)],[new k(109.73125000000095,-143.15625),new k(144.04375000000095,-143.15625)],[new k(-25.237499999999635,71.27499999999998),new k(-11.86249999999962,71.27499999999998)],[new k(11.39375000000037,70.63124999999994),new k(24.081250000000377,70.63124999999994)]],S:[[new k(-150.19374999999914,39.806250000000006),new k(-150.19374999999914,-126.30625)],[new k(-18.581249999999045,36.46875),new k(-18.581249999999045,-128.59375)],[new k(109.73125000000095,36.40625),new k(109.73125000000095,-143.15625)],[new k(-25.237499999999635,129.10000000000002),new k(-25.237499999999635,71.27499999999998)],[new k(11.39375000000037,163.06875),new k(11.39375000000037,70.63124999999994)]],T:[[new k(-115.75624999999886,39.806250000000006),new k(-115.75624999999886,-126.30625)],[new k(16.731250000000955,36.46875),new k(16.731250000000955,-128.59375)],[new k(144.04375000000095,36.40625),new k(144.04375000000095,-143.15625)],[new k(-11.86249999999962,129.10000000000002),new k(-11.86249999999962,71.27499999999998)],[new k(24.081250000000377,163.06875),new k(24.081250000000377,70.63124999999994)]],platform:[[new k(-181.125,-53.875),new k(-82.625,-53.875)],[new k(-170.375,-20.1875),new k(-92.6875,-20.1875)],[new k(-187.25,-84.48750000000003),new k(-75.18749999999945,-84.48750000000003)],[new k(-158.87499999999946,7.949999999999989),new k(-106.49999999999946,7.949999999999989)],[new k(-148.04999999999944,65.87499999999999),new k(-118.8999999999993,65.87499999999999)],[new k(-141.16249999999926,90.3875),new k(-126.58749999999922,90.3875)],[new k(-29.268749999999045,-85.46249999999999),new k(27.418750000000955,-85.46249999999999)],[new k(-36.206249999999045,-53.49999999999999),new k(34.356250000000955,-53.49999999999999)],[new k(-47.87499999999902,-20.6625),new k(46.02500000000093,-20.6625)],[new k(70.63750000000064,-86.5625),new k(184.66250000000014,-86.5625)],[new k(80.8125000000004,-53.775),new k(174.48750000000038,-53.775)],[new k(89.76875000000041,-21.287500000000005),new k(165.08125000000038,-21.287500000000005)],[new k(100.83750000000038,8.874999999999998),new k(152.91250000000042,8.874999999999998)],[new k(118.75625000000039,86.28749999999997),new k(133.3937500000004,86.28749999999997)],[new k(111.71250000000003,64.22500000000001),new k(141.56249999999997,64.22500000000001)],[new k(-58.86875,9.562500000000002),new k(55.69374999999997,9.562500000000002)]],K:[[0,1],[0,0],[1,0],[1,1],[2,1],[2,0]],target:[new k(-133.72499999999926,111.16250000000001),new k(-103.099999999999,-104),new k(-31.799999999999045,-36.60000000000001),new k(-0.6125000000000114,125),new k(29.800000000000374,-73.33750000000003),new k(93.30000000000038,-37.962500000000034),new k(-1.5749999999996191,53.287499999999966),new k(125.78750000000039,105.89999999999996),new k(161.97500000000042,-38.087500000000034),new k(160.16250000000042,-107.71250000000003)],scale:3,Aa:new t([-250,-250],[250,250]),offset:[600,375]},{W:new k(-131.8125,61.375),s:[new t([-154.9375,-125],[-108.5625,47.3125]),new t([-67.625,-46.8125],[-42.375,83]),new t([6.800000000000334,-47.55000000000003],[29.787500000000325,28.56249999999996]),new t([30.012500000000347,7.912499999999966],[89.71250000000039,28.549999999999955]),new t([77.52500000000042,-131.54375000000005],[100.15000000000042,-43.25625000000008]),new t([136.36250000000052,-125],[156.70000000000041,-67.23749999999995])],N:[[new k(-154.9375,47.3125),new k(-108.5625,47.3125)],[new k(-67.625,83),new k(-42.375,83)],[new k(6.800000000000334,28.56249999999996),new k(29.787500000000325,28.56249999999996)],[new k(30.012500000000347,28.549999999999955),new k(89.71250000000039,28.549999999999955)],[new k(77.52500000000042,-43.25625000000008),new k(100.15000000000042,-43.25625000000008)],[new k(136.36250000000052,-67.23749999999995),new k(156.70000000000041,-67.23749999999995)]],P:[[new k(-154.9375,-125),new k(-108.5625,-125)],[new k(-67.625,-46.8125),new k(-42.375,-46.8125)],[new k(6.800000000000334,-47.55000000000003),new k(29.787500000000325,-47.55000000000003)],[new k(30.012500000000347,7.912499999999966),new k(89.71250000000039,7.912499999999966)],[new k(77.52500000000042,-131.54375000000005),new k(100.15000000000042,-131.54375000000005)],[new k(136.36250000000052,-125),new k(156.70000000000041,-125)]],S:[[new k(-154.9375,47.3125),new k(-154.9375,-125)],[new k(-67.625,83),new k(-67.625,-46.8125)],[new k(6.800000000000334,28.56249999999996),new k(6.800000000000334,-47.55000000000003)],[new k(30.012500000000347,28.549999999999955),new k(30.012500000000347,7.912499999999966)],[new k(77.52500000000042,-43.25625000000008),new k(77.52500000000042,-131.54375000000005)],[new k(136.36250000000052,-67.23749999999995),new k(136.36250000000052,-125)]],T:[[new k(-108.5625,47.3125),new k(-108.5625,-125)],[new k(-42.375,83),new k(-42.375,-46.8125)],[new k(29.787500000000325,28.56249999999996),new k(29.787500000000325,-47.55000000000003)],[new k(89.71250000000039,28.549999999999955),new k(89.71250000000039,7.912499999999966)],[new k(100.15000000000042,-43.25625000000008),new k(100.15000000000042,-131.54375000000005)],[new k(156.70000000000041,-67.23749999999995),new k(156.70000000000041,-125)]],platform:[[new k(-108.3625,9.075000000000008),new k(-67.6124999999998,9.075000000000008)],[new k(-108.5499999999998,-13.112499999999992),new k(-67.6124999999998,-13.112499999999992)],[new k(-108.56249999999982,-40.04999999999999),new k(-67.5499999999998,-40.04999999999999)],[new k(-108.2374999999998,-89.96250000000002),new k(-40.89999999999958,-89.96250000000002)],[new k(5.850000000000439,-89.96250000000002),new k(66.91250000000036,-89.96250000000002)],[new k(-30.137499999999648,-57.83750000000001),new k(-3.774999999999674,-57.83750000000001)],[new k(30.037500000000403,-18.037500000000062),new k(64.88750000000034,-18.037500000000062)],[new k(110.26250000000034,41.79999999999993),new k(143.37500000000037,41.79999999999993)],[new k(150.25000000000037,67.48749999999994),new k(181.16250000000028,67.48749999999994)],[new k(100.11250000000037,-111.06250000000007),new k(132.77500000000052,-111.06250000000007)]],K:[[1,1],[1,0],[5,1],[4,1],[4,0],[3,1],[2,0]],target:[new k(-88.3124999999998,-26.7375),new k(-16.399999999999668,-69.71250000000003),new k(-16.399999999999668,5.099999999999967),new k(-29.987499999999663,73.81249999999994),new k(45.38750000000036,-5.437500000000066),new k(75.71250000000038,41.91249999999994),new k(188.1625000000003,95.86249999999994),new k(188.1625000000003,-10.275000000000063),new k(188.1625000000003,-101.9875000000001),new k(111.31250000000031,-91.6875000000001)],scale:3,Aa:new t([-250,-250],[250,250]),offset:[600,375]},{W:new k(0,0),s:[new t([-41.23749999999999,-50.25],[57.32499999999997,-37.8125]),new t([136.17499999999995,-50.512500000000045],[149.475,50.674999999999976]),new t([57.01249999999997,-69.06250000000004],[70.06249999999996,51.049999999999976]),new t([-40.956250000000004,-100.48750000000001],[-13.818750000000001,-78.2625000000001]),new t([137.38749999999996,-125],[200,-75.4624999999999]),new t([-150.7374999999999,-101.56249999999996],[-93.28749999999997,-78.21249999999999]),new t([-200.6,33.625000000000014],[-104.79999999999993,52.875000000000014]),new t([-200,-101.29999999999995],[-151.17499999999995,33.24999999999994])],N:[[new k(-41.23749999999999,-37.8125),new k(57.32499999999997,-37.8125)],[new k(136.17499999999995,50.674999999999976),new k(149.475,50.674999999999976)],[new k(57.01249999999997,51.049999999999976),new k(70.06249999999996,51.049999999999976)],[new k(-40.956250000000004,-78.2625000000001),new k(-13.818750000000001,-78.2625000000001)],[new k(137.38749999999996,-75.4624999999999),new k(200,-75.4624999999999)],[new k(-150.7374999999999,-78.21249999999999),new k(-93.28749999999997,-78.21249999999999)],[new k(-200.6,52.875000000000014),new k(-104.79999999999993,52.875000000000014)],[new k(-200,33.24999999999994),new k(-151.17499999999995,33.24999999999994)]],P:[[new k(-41.23749999999999,-50.25),new k(57.32499999999997,-50.25)],[new k(136.17499999999995,-50.512500000000045),new k(149.475,-50.512500000000045)],[new k(57.01249999999997,-69.06250000000004),new k(70.06249999999996,-69.06250000000004)],[new k(-40.956250000000004,-100.48750000000001),new k(-13.818750000000001,-100.48750000000001)],[new k(137.38749999999996,-125),new k(200,-125)],[new k(-150.7374999999999,-101.56249999999996),new k(-93.28749999999997,-101.56249999999996)],[new k(-200.6,33.625000000000014),new k(-104.79999999999993,33.625000000000014)],[new k(-200,-101.29999999999995),new k(-151.17499999999995,-101.29999999999995)]],S:[[new k(-41.23749999999999,-37.8125),new k(-41.23749999999999,-50.25)],[new k(136.17499999999995,50.674999999999976),new k(136.17499999999995,-50.512500000000045)],[new k(57.01249999999997,51.049999999999976),new k(57.01249999999997,-69.06250000000004)],[new k(-40.956250000000004,-78.2625000000001),new k(-40.956250000000004,-100.48750000000001)],[new k(137.38749999999996,-75.4624999999999),new k(137.38749999999996,-125)],[new k(-150.7374999999999,-78.21249999999999),new k(-150.7374999999999,-101.56249999999996)],[new k(-200.6,52.875000000000014),new k(-200.6,33.625000000000014)],[new k(-200,33.24999999999994),new k(-200,-101.29999999999995)]],T:[[new k(57.32499999999997,-37.8125),new k(57.32499999999997,-50.25)],[new k(149.475,50.674999999999976),new k(149.475,-50.512500000000045)],[new k(70.06249999999996,51.049999999999976),new k(70.06249999999996,-69.06250000000004)],[new k(-13.818750000000001,-78.2625000000001),new k(-13.818750000000001,-100.48750000000001)],[new k(200,-75.4624999999999),new k(200,-125)],[new k(-93.28749999999997,-78.21249999999999),new k(-93.28749999999997,-101.56249999999996)],[new k(-104.79999999999993,52.875000000000014),new k(-104.79999999999993,33.625000000000014)],[new k(-151.17499999999995,33.24999999999994),new k(-151.17499999999995,-101.29999999999995)]],platform:[[new k(-17.900000000000016,-13.549999999999992),new k(16.599999999999984,-13.549999999999992)],[new k(36.77499999999998,18.537499999999966),new k(57.07500000000001,18.537499999999966)],[new k(78.08125000000005,-97.62499999999999),new k(95.51875000000005,-97.62499999999999)],[new k(28.443750000000065,-97.62499999999999),new k(43.03125000000004,-97.62499999999999)],[new k(38.0625,-69.25),new k(57.375,-69.25)],[new k(186.125,-50.57500000000001),new k(200,-50.57500000000001)],[new k(148.91249999999994,-6.937500000000018),new k(164.28750000000005,-6.937500000000018)],[new k(186.44375000000014,39.01249999999998),new k(200.05624999999998,39.01249999999998)],[new k(120.47499999999998,50.62500000000001),new k(136.68750000000003,50.62500000000001)],[new k(-65.70624999999998,78.57500000000002),new k(-41.19375000000001,78.57500000000002)],[new k(-3.8624999999999936,78.57500000000002),new k(22.637500000000006,78.57500000000002)]],K:[[0,0],[1,1],[5,1],[6,1],[3,0],[3,1],[4,0],[2,0]],target:[new k(47.11249999999997,36.04999999999997),new k(47.5125,-59.025000000000006),new k(191.03750000000008,49.54999999999998),new k(190.925,-63.199999999999996),new k(90.86250000000005,-6.874999999999986),new k(116.925,-16.399999999999995),new k(-125.825,-59.550000000000054),new k(-151.89999999999998,65.50000000000001),new k(-121.86249999999995,76.00000000000001),new k(-22.925000000000004,92.13749999999997)],scale:3,Aa:new t([-250,-250],[250,250]),offset:[600,375]},{W:new k(0,0),s:[new t([-24.375,-51.062500000000036],[113.25,-37.312500000000036]),new t([45.86250000000003,-14.637500000000026],[113.17500000000003,-3.687500000000019]),new t([45.86250000000003,-3.687500000000019],[56.55000000000003,45.4]),new t([-25.037499999999984,-78.3374999999999],[56.500000000000036,-73.66249999999991]),new t([-23.16250000000021,32.91250000000016],[45.62499999999981,45.10000000000017]),new t([75.31249999999993,69.42500000000011],[129.58750000000023,74.47500000000015]),new t([99.46250000000025,30.687500000000114],[107.17500000000025,69.36250000000014]),new t([-120.86249999999986,-125],[-105.23749999999978,-29.387499999999857]),new t([-119.83750000000005,32.950000000000024],[-104.76250000000005,45.40000000000001]),new t([-151.45000000000005,-45.42500000000003],[-120.81250000000013,-29.42500000000003])],N:[[new k(-24.375,-37.312500000000036),new k(113.25,-37.312500000000036)],[new k(45.86250000000003,-3.687500000000019),new k(113.17500000000003,-3.687500000000019)],[new k(45.86250000000003,45.4),new k(56.55000000000003,45.4)],[new k(-25.037499999999984,-73.66249999999991),new k(56.500000000000036,-73.66249999999991)],[new k(-23.16250000000021,45.10000000000017),new k(45.62499999999981,45.10000000000017)],[new k(75.31249999999993,74.47500000000015),new k(129.58750000000023,74.47500000000015)],[new k(99.46250000000025,69.36250000000014),new k(107.17500000000025,69.36250000000014)],[new k(-120.86249999999986,-29.387499999999857),new k(-105.23749999999978,-29.387499999999857)],[new k(-119.83750000000005,45.40000000000001),new k(-104.76250000000005,45.40000000000001)],[new k(-151.45000000000005,-29.42500000000003),new k(-120.81250000000013,-29.42500000000003)]],P:[[new k(-24.375,-51.062500000000036),new k(113.25,-51.062500000000036)],[new k(45.86250000000003,-14.637500000000026),new k(113.17500000000003,-14.637500000000026)],[new k(45.86250000000003,-3.687500000000019),new k(56.55000000000003,-3.687500000000019)],[new k(-25.037499999999984,-78.3374999999999),new k(56.500000000000036,-78.3374999999999)],[new k(-23.16250000000021,32.91250000000016),new k(45.62499999999981,32.91250000000016)],[new k(75.31249999999993,69.42500000000011),new k(129.58750000000023,69.42500000000011)],[new k(99.46250000000025,30.687500000000114),new k(107.17500000000025,30.687500000000114)],[new k(-120.86249999999986,-125),new k(-105.23749999999978,-125)],[new k(-119.83750000000005,32.950000000000024),new k(-104.76250000000005,32.950000000000024)],[new k(-151.45000000000005,-45.42500000000003),new k(-120.81250000000013,-45.42500000000003)]],S:[[new k(-24.375,-37.312500000000036),new k(-24.375,-51.062500000000036)],[new k(45.86250000000003,-3.687500000000019),new k(45.86250000000003,-14.637500000000026)],[new k(45.86250000000003,45.4),new k(45.86250000000003,-3.687500000000019)],[new k(-25.037499999999984,-73.66249999999991),new k(-25.037499999999984,-78.3374999999999)],[new k(-23.16250000000021,45.10000000000017),new k(-23.16250000000021,32.91250000000016)],[new k(75.31249999999993,74.47500000000015),new k(75.31249999999993,69.42500000000011)],[new k(99.46250000000025,69.36250000000014),new k(99.46250000000025,30.687500000000114)],[new k(-120.86249999999986,-29.387499999999857),new k(-120.86249999999986,-125)],[new k(-119.83750000000005,45.40000000000001),new k(-119.83750000000005,32.950000000000024)],[new k(-151.45000000000005,-29.42500000000003),new k(-151.45000000000005,-45.42500000000003)]],T:[[new k(113.25,-37.312500000000036),new k(113.25,-51.062500000000036)],[new k(113.17500000000003,-3.687500000000019),new k(113.17500000000003,-14.637500000000026)],[new k(56.55000000000003,45.4),new k(56.55000000000003,-3.687500000000019)],[new k(56.500000000000036,-73.66249999999991),new k(56.500000000000036,-78.3374999999999)],[new k(45.62499999999981,45.10000000000017),new k(45.62499999999981,32.91250000000016)],[new k(129.58750000000023,74.47500000000015),new k(129.58750000000023,69.42500000000011)],[new k(107.17500000000025,69.36250000000014),new k(107.17500000000025,30.687500000000114)],[new k(-105.23749999999978,-29.387499999999857),new k(-105.23749999999978,-125)],[new k(-104.76250000000005,45.40000000000001),new k(-104.76250000000005,32.950000000000024)],[new k(-120.81250000000013,-29.42500000000003),new k(-120.81250000000013,-45.42500000000003)]],platform:[[new k(131.2999999999998,-26.0249999999999),new k(186.52499999999984,-26.0249999999999)],[new k(-71.41250000000012,-59.187499999999886),new k(-50.67500000000016,-59.187499999999886)],[new k(-97.00000000000018,-37.337499999999864),new k(-77.60000000000018,-37.337499999999864)],[new k(-121.76250000000022,-15.637499999999875),new k(-104.00000000000021,-15.637499999999875)],[new k(-15.993750000000196,-14.612499999999839),new k(14.493749999999794,-14.612499999999839)],[new k(141.71249999999978,10.237500000000162),new k(175.1750000000001,10.237500000000162)],[new k(151.90000000000018,40.65000000000017),new k(166.67500000000018,40.65000000000017)],[new k(-93.4124999999997,6.725000000000118),new k(-74.08749999999971,6.725000000000118)],[new k(-66.24374999999976,27.80000000000014),new k(-46.48124999999976,27.80000000000014)]],K:[[3,1],[0,0],[3,0],[0,1],[1,1],[2,1],[4,0]],target:[new k(103.30000000000004,-66.6125),new k(74.07500000000003,-78.27499999999993),new k(-26.58750000000021,-62.41249999999983),new k(158.97499999999994,25.187500000000195),new k(118.62500000000028,58.762500000000095),new k(86.68750000000027,58.762500000000095),new k(-112.65000000000005,19.400000000000013),new k(-134.0625,-71.60000000000005),new k(-44.50000000000007,55.962499999999984)],scale:3,Aa:new t([-250,-250],[250,250]),offset:[600,375]},{W:new k(-122.875,51.88749999999999),s:[new t([-153.4375,24.76249999999999],[-6.125,36.44999999999999]),new t([33.27500000000001,25.44999999999999],[128.02499999999998,36.4625]),new t([-90.08750000000005,5.137499999999989],[-69.33750000000005,24.762500000000006]),new t([-137.33750000000006,-77.67500000000003],[-126.46250000000005,24.69999999999999]),new t([-156.75,-125],[-109.61249999999995,-115.6875]),new t([142.21874999999986,-62.30625000000002],[201.18124999999978,-51.66875000000002]),new t([183.51249999999996,-51.33750000000001],[200,37.06249999999998]),new t([-64.56250000000001,-71.98750000000003],[-55.21250000000009,-29.150000000000016]),new t([-63.950000000000024,-28.875],[-7.725000000000023,-19.3125]),new t([-55.1875,-71.78749999999998],[-8.850000000000023,-63.51249999999997])],N:[[new k(-153.4375,36.44999999999999),new k(-6.125,36.44999999999999)],[new k(33.27500000000001,36.4625),new k(128.02499999999998,36.4625)],[new k(-90.08750000000005,24.762500000000006),new k(-69.33750000000005,24.762500000000006)],[new k(-137.33750000000006,24.69999999999999),new k(-126.46250000000005,24.69999999999999)],[new k(-156.75,-115.6875),new k(-109.61249999999995,-115.6875)],[new k(142.21874999999986,-51.66875000000002),new k(201.18124999999978,-51.66875000000002)],[new k(183.51249999999996,37.06249999999998),new k(200,37.06249999999998)],[new k(-64.56250000000001,-29.150000000000016),new k(-55.21250000000009,-29.150000000000016)],[new k(-63.950000000000024,-19.3125),new k(-7.725000000000023,-19.3125)],[new k(-55.1875,-63.51249999999997),new k(-8.850000000000023,-63.51249999999997)]],P:[[new k(-153.4375,24.76249999999999),new k(-6.125,24.76249999999999)],[new k(33.27500000000001,25.44999999999999),new k(128.02499999999998,25.44999999999999)],[new k(-90.08750000000005,5.137499999999989),new k(-69.33750000000005,5.137499999999989)],[new k(-137.33750000000006,-77.67500000000003),new k(-126.46250000000005,-77.67500000000003)],[new k(-156.75,-125),new k(-109.61249999999995,-125)],[new k(142.21874999999986,-62.30625000000002),new k(201.18124999999978,-62.30625000000002)],[new k(183.51249999999996,-51.33750000000001),new k(200,-51.33750000000001)],[new k(-64.56250000000001,-71.98750000000003),new k(-55.21250000000009,-71.98750000000003)],[new k(-63.950000000000024,-28.875),new k(-7.725000000000023,-28.875)],[new k(-55.1875,-71.78749999999998),new k(-8.850000000000023,-71.78749999999998)]],S:[[new k(-153.4375,36.44999999999999),new k(-153.4375,24.76249999999999)],[new k(33.27500000000001,36.4625),new k(33.27500000000001,25.44999999999999)],[new k(-90.08750000000005,24.762500000000006),new k(-90.08750000000005,5.137499999999989)],[new k(-137.33750000000006,24.69999999999999),new k(-137.33750000000006,-77.67500000000003)],[new k(-156.75,-115.6875),new k(-156.75,-125)],[new k(142.21874999999986,-51.66875000000002),new k(142.21874999999986,-62.30625000000002)],[new k(183.51249999999996,37.06249999999998),new k(183.51249999999996,-51.33750000000001)],[new k(-64.56250000000001,-29.150000000000016),new k(-64.56250000000001,-71.98750000000003)],[new k(-63.950000000000024,-19.3125),new k(-63.950000000000024,-28.875)],[new k(-55.1875,-63.51249999999997),new k(-55.1875,-71.78749999999998)]],T:[[new k(-6.125,36.44999999999999),new k(-6.125,24.76249999999999)],[new k(128.02499999999998,36.4625),new k(128.02499999999998,25.44999999999999)],[new k(-69.33750000000005,24.762500000000006),new k(-69.33750000000005,5.137499999999989)],[new k(-126.46250000000005,24.69999999999999),new k(-126.46250000000005,-77.67500000000003)],[new k(-109.61249999999995,-115.6875),new k(-109.61249999999995,-125)],[new k(201.18124999999978,-51.66875000000002),new k(201.18124999999978,-62.30625000000002)],[new k(200,37.06249999999998),new k(200,-51.33750000000001)],[new k(-55.21250000000009,-29.150000000000016),new k(-55.21250000000009,-71.98750000000003)],[new k(-7.725000000000023,-19.3125),new k(-7.725000000000023,-28.875)],[new k(-8.850000000000023,-63.51249999999997),new k(-8.850000000000023,-71.78749999999998)]],platform:[[new k(-69.72499999999998,65.31249999999999),new k(-38.23749999999999,65.31249999999999)],[new k(64.075,65.31249999999999),new k(101.27499999999993,65.31249999999999)],[new k(161.02499999999986,-4.687500000000019),new k(183.51249999999996,-4.687500000000019)],[new k(120.06249999999983,-51.98749999999997),new k(142.9124999999998,-51.98749999999997)],[new k(-104.42500000000001,-67.14999999999999),new k(-83.02499999999998,-67.14999999999999)],[new k(-157.2125000000003,-77.25),new k(-137.0125,-77.25)],[new k(-57.10000000000006,-115.83749999999993),new k(-23.187500000000075,-115.83749999999993)]],K:[[0,1],[1,0],[1,1],[6,0],[0,0],[4,0],[4,1],[9,1],[8,1],[8,0]],target:[new k(-109.08750000000026,10),new k(170.9624999999998,30.712499999999988),new k(152.3374999999998,-29.85000000000001),new k(96.37499999999979,-44.30000000000001),new k(55.31249999999998,-71.3875),new k(14.687499999999979,-97.28750000000001),new k(-28.937500000000018,-45.47499999999999),new k(-53.47500000000022,73.9125),new k(13.349999999999772,31.837499999999995),new k(-152.23750000000024,5.674999999999995)],scale:3,Aa:new t([-250,-250],[250,250]),offset:[600,375]},{W:new k(-61.87500000000006,-28.649999999999963),s:[new t([-1.0375000000000607,-50.32499999999997],[9.262499999999932,82.91250000000005]),new t([-79.72500000000007,14.675000000000049],[-50.487500000000104,22.35000000000004]),new t([-78.09999999999998,64.18749999999997],[-49.075,71.18749999999997]),new t([43.5249999999999,74.15000000000005],[110.91249999999991,82.63750000000005]),new t([76.66249999999991,-50.88749999999997],[146.9124999999999,7.48750000000005]),new t([75.46249999999986,-125],[145.6874999999997,-103.875]),new t([-82.90000000000036,-125],[10.499999999999659,-103.875]),new t([-200,-125],[-176.625,125]),new t([-86.7749999999999,-50.17499999999984],[-35.787499999999945,-41.574999999999854])],N:[[new k(-1.0375000000000607,82.91250000000005),new k(9.262499999999932,82.91250000000005)],[new k(-79.72500000000007,22.35000000000004),new k(-50.487500000000104,22.35000000000004)],[new k(-78.09999999999998,71.18749999999997),new k(-49.075,71.18749999999997)],[new k(43.5249999999999,82.63750000000005),new k(110.91249999999991,82.63750000000005)],[new k(76.66249999999991,7.48750000000005),new k(146.9124999999999,7.48750000000005)],[new k(75.46249999999986,-103.875),new k(145.6874999999997,-103.875)],[new k(-82.90000000000036,-103.875),new k(10.499999999999659,-103.875)],[new k(-200,125),new k(-176.625,125)],[new k(-86.7749999999999,-41.574999999999854),new k(-35.787499999999945,-41.574999999999854)]],P:[[new k(-1.0375000000000607,-50.32499999999997),new k(9.262499999999932,-50.32499999999997)],[new k(-79.72500000000007,14.675000000000049),new k(-50.487500000000104,14.675000000000049)],[new k(-78.09999999999998,64.18749999999997),new k(-49.075,64.18749999999997)],[new k(43.5249999999999,74.15000000000005),new k(110.91249999999991,74.15000000000005)],[new k(76.66249999999991,-50.88749999999997),new k(146.9124999999999,-50.88749999999997)],[new k(75.46249999999986,-125),new k(145.6874999999997,-125)],[new k(-82.90000000000036,-125),new k(10.499999999999659,-125)],[new k(-200,-125),new k(-176.625,-125)],[new k(-86.7749999999999,-50.17499999999984),new k(-35.787499999999945,-50.17499999999984)]],S:[[new k(-1.0375000000000607,82.91250000000005),new k(-1.0375000000000607,-50.32499999999997)],[new k(-79.72500000000007,22.35000000000004),new k(-79.72500000000007,14.675000000000049)],[new k(-78.09999999999998,71.18749999999997),new k(-78.09999999999998,64.18749999999997)],[new k(43.5249999999999,82.63750000000005),new k(43.5249999999999,74.15000000000005)],[new k(76.66249999999991,7.48750000000005),new k(76.66249999999991,-50.88749999999997)],[new k(75.46249999999986,-103.875),new k(75.46249999999986,-125)],[new k(-82.90000000000036,-103.875),new k(-82.90000000000036,-125)],[new k(-200,125),new k(-200,-125)],[new k(-86.7749999999999,-41.574999999999854),new k(-86.7749999999999,-50.17499999999984)]],T:[[new k(9.262499999999932,82.91250000000005),new k(9.262499999999932,-50.32499999999997)],[new k(-50.487500000000104,22.35000000000004),new k(-50.487500000000104,14.675000000000049)],[new k(-49.075,71.18749999999997),new k(-49.075,64.18749999999997)],[new k(110.91249999999991,82.63750000000005),new k(110.91249999999991,74.15000000000005)],[new k(146.9124999999999,7.48750000000005),new k(146.9124999999999,-50.88749999999997)],[new k(145.6874999999997,-103.875),new k(145.6874999999997,-125)],[new k(10.499999999999659,-103.875),new k(10.499999999999659,-125)],[new k(-176.625,125),new k(-176.625,-125)],[new k(-35.787499999999945,-41.574999999999854),new k(-35.787499999999945,-50.17499999999984)]],platform:[[new k(132.07499999999996,42.85),new k(171.8125,42.85)],[new k(32.95000000000001,-29.362499999999994),new k(55.88750000000001,-29.362499999999994)],[new k(-137.20000000000005,-86.02499999999999),new k(-115.77499999999998,-86.02499999999999)],[new k(-176.28125000000003,-60.0375),new k(-155.31874999999994,-60.0375)],[new k(-133.89999999999986,22.287499999999984),new k(-108.09999999999984,22.287499999999984)],[new k(-20.84999999999987,-8.587500000000015),new k(-0.6624999999998712,-8.587500000000015)],[new k(-19.36249999999997,44.63749999999996),new k(-1.3374999999999577,44.63749999999996)],[new k(32.68750000000008,-69.68749999999984),new k(53.81250000000008,-69.68749999999984)]],K:[[4,0],[4,1],[5,1],[5,0],[6,1],[6,0],[0,1],[0,0],[3,0],[3,1],[1,1],[1,0],[2,0],[2,1],[8,0],[8,1]],target:[new k(-49.84999999999999,38.749999999999986),new k(52.162500000000016,98.45000000000009),new k(120.13750000000003,55.71250000000009),new k(56.81250000000006,1.2750000000001627),new k(30.37500000000004,11.825000000000163),new k(15.537500000000025,-82.78749999999988),new k(-81.06249999999997,-64.97499999999985),new k(-146.87499999999997,-26.68749999999985),new k(172.71250000000006,-106.89999999999982),new k(-104.44999999999996,84.72500000000016)],scale:3,Aa:new t([-250,-250],[250,250]),offset:[600,375]}];stageSelected=4;stageSelectTimer=0;stagePointerPos=[600,635];var za=new Image;za.src="assets/stage-icons/bf.png";var Aa=new Image;Aa.src="assets/stage-icons/ys.png";var Ba=new Image;Ba.src="assets/stage-icons/dl.png";var Ca=new Image;Ca.src="assets/stage-icons/ps.png";player=[0,0,0,0];
renderTime=[10,0,100,0];gamelogicTime=[5,0,100,0];framerate=[0,0,0];gameEnd=!1;attemptingControllerReset=[!1,!1,!1,!1];function Da(){this.Pc=new k(0,0);this.Jc=new k(0,0);this.r=this.L=0}keyboardMap=[[102,186],[101,76],[100,75],[104,79],[103,73],[105,80],[107,192,222],[109,219],71,78,66,86];keyboardOccupied=!1;
map={B:[1,0,4,0],X:[2,1,3,1],x:[0,2,2,2],y:[3,3,1,3],z:[7,4,7,7],r:[5,5,6,5],L:[4,6,5,4],ka:[9,7,0,9],Kc:[12,8,8,12],Vd:[13,11,10,13],Pd:[14,9,9,14],Rd:[15,10,11,15],ke:[0,0,0,0],le:[1,1,1,1],Gd:[5,3,3,2],Hd:[2,4,4,3],jd:[3,2,5,6],od:[4,5,6,7]};mType=[0,0,0,0];cd=[new Da,new Da,new Da,new Da];currentPlayers=[];playerAmount=0;playerType=[-1,-1,-1,-1];ports=0;activePorts=[];frameByFrame=playing=!1;showVfx=findingPlayers=!0;showDebug=!1;versusMode=gameMode=0;charSelect=["marth","marth","marth","marth"];
randomTags="NEO! SELF NOVA PNDA Panda LFFN Scorp AZ AXE Tempo TMPO [A]rmada WBALLZ Westballz PPMD Kreygasm M2K Mang0 USA SCAR TOPH (.Y.) HBOX HungryBox PLUP Shroomed SFAT Wizz Lucky S2J SilentWolf aMSa S2J Hax$".split(" ");vfxQueue=[];
palettes=[["rgb(250, 89, 89)","rgb(255, 170, 170)","rgba(255, 206, 111, ","rgba(244, 68, 68, 0.6)","rgba(255, 225, 167, "],["rgb(4, 255, 134)","rgb(154, 254, 170)","rgba(252, 95, 95, ","rgba(255, 182, 96, 0.6)","rgba(254, 141, 141, "],["rgb(5, 195, 255)","rgb(121, 223, 255)","rgba(218, 96, 254, ","rgba(231, 134, 255, 0.6)","rgba(230, 144, 255, "],["rgb(255, 187, 70)","rgb(248, 255, 122)","rgba(80, 182, 255, ","rgba(255, 142, 70, 0.6)","rgba(139, 203, 249, "],["rgb(177, 89, 255)","rgb(203, 144, 255)",
"rgba(144, 255, 110, ","rgba(247, 126, 250, 0.6)","rgba(190, 255, 170, "],["rgb(182, 131, 70)","rgb(252, 194, 126)","rgba(47, 186, 123, ","rgba(255, 112, 66, 0.6)","rgba(111, 214, 168, "],["rgb(166, 166, 166)","rgb(255, 255, 255)","rgba(255, 255, 255, ","rgba(191, 119, 119, 0.6)","rgba(175, 172, 172, "]];hurtboxColours=["rgba(255, 237, 70, 0.6)","rgba(42, 57, 255, 0.6)","rgba(54, 255, 37, 0.6)"];hasTag=[!1,!1,!1,!1];tagText=["","","",""];pPal=[0,1,2,3];costumeTimeout=[];
colours=["rgba(4, 255, 82, 0.62)","rgba(117, 20, 255, 0.63)","rgba(255, 20, 20, 0.63)","rgba(255, 232, 20, 0.63)"];pause=[[!0,!0],[!0,!0],[!0,!0],[!0,!0]];frameAdvance=[[!0,!0],[!0,!0],[!0,!0],[!0,!0]];startingPoint=[[-50,50],[50,50],[-25,5],[25,5]];startingFace=[1,-1,1,-1];ground=[[-68.4,0],[68.4,0]];platforms=[[[-57.6,27.2],[-20,27.2]],[[20,27.2],[57.6,27.2]],[[-18.8,54.4],[18.8,54.4]]];wallsL=[[[-68.4,0],[-68.4,-108.8]]];wallsR=[[[68.4,0],[68.4,-108.8]]];
edges=[[[-68.4,0],[-63.4,0]],[[68.4,0],[63.4,0]]];cliffcatchOffset=[[-3.5,-22.3],[-4.7,-22.19],[-3.81,-24],[-3.4,-24],[-2.7,-23.74],[-2.34,-23.76],[-2.9,-23.75]];edgeOffset=[[-2.9,-23.7],[2.9,-23.7]];edgeOrientation=[1,-1];respawnPoints=[[-50,50,1],[50,50,-1],[25,35,1],[-25,35,-1]];
stage={s:[new t([-68.4,-108.8],[68.4,0])],platform:[[new k(-57.6,27.2),new k(-20,27.2)],[new k(20,27.2),new k(57.6,27.2)],[new k(-18.8,54.4),new k(18.8,54.4)]],N:[[new k(-68.4,0),new k(68.4,0)]],P:[[new k(-68.4,-108.8),new k(68.4,-108.8)]],S:[[new k(-68.4,0),new k(-68.4,-108.8)]],T:[[new k(68.4,0),new k(68.4,-108.8)]],W:[new k(-50,50),new k(50,50),new k(-25,5),new k(25,5)],xc:[1,-1,1,-1],Ob:[new k(-50,50),new k(50,50),new k(-25,35),new k(25,35)],dc:[1,-1,1,-1],Aa:new t([-224,-108.8],[224,200]),K:[[0,
0],[0,1]],scale:4.5,offset:[600,480]};stageSelect=0;blastzone=new t([-224,200],[224,-108.8]);starting=!0;startTimer=1.5;matchTimer=480;var V=[];window.onkeyup=function(a){V[a.keyCode]=!1};window.onkeydown=function(a){V[a.keyCode]=!0};window.addEventListener("gamepadconnected",function(a){console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",a.gamepad.index,a.gamepad.id,a.gamepad.buttons.length,a.gamepad.axes.length)});console.log(navigator.getGamepads());
function q(a){var d=[Math.random(),Math.random(),Math.random(),Math.random()];c.translate(.1*a*d[0],.1*a*d[1]);setTimeout(function(){c.translate(.05*-a*d[0],.05*-a*d[1])},20);setTimeout(function(){c.translate(.05*-a*d[0],.05*-a*d[1]);c.translate(.1*-a*d[2],.1*-a*d[3])},40);setTimeout(function(){c.translate(.05*a*d[2],.05*a*d[3])},60);setTimeout(function(){c.translate(.05*a*d[2],.05*a*d[3])},80)}
function r(a,d){player[d].$a=new k(.1*a*Math.random(),.1*a*Math.random());setTimeout(function(){player[d].$a=new k(.05*a*Math.random(),.05*a*Math.random())},20);setTimeout(function(){player[d].$a=new k(.1*-a*Math.random(),.1*-a*Math.random())},40);setTimeout(function(){player[d].$a=new k(.05*-a*Math.random(),.05*-a*Math.random())},60);setTimeout(function(){player[d].$a=new k(0,0)},80)}
function Ea(){var a=navigator.getGamepads();keyboardOccupied||(2>gameMode?(V[109]||V[219])&&4>ports&&(gameMode=1,keyboardOccupied=!0,sounds.Fa.play(),0==ports&&sounds.$b.play("menu2Start"),Fa(ports,4)):(V[101]||V[76])&&4>ports&&(keyboardOccupied=!0,Fa(ports,4)));for(var d=0;d<a.length;d++){var e=navigator.getGamepads()[d];if("undefined"!=typeof e){var f=0;"v"==e.id[0]||"1"==e.id[0]?f=1:"M"!=e.id[0]&&("G"==e.id[0]||"2"==e.id[0]?(f=2,console.log("You are using raphnet")):"X"==e.id[0]&&(f=3,console.log("You are using xbox 360")));
if(2>gameMode){if(e.buttons[map.ka[f]].pressed){for(var e=!1,g=0;g<ports;g++)currentPlayers[g]==d&&(e=!0);!e&&4>ports&&(gameMode=1,sounds.Fa.play(),0==ports&&sounds.$b.play("menu2Start"),Fa(d,f))}}else if(e.buttons[map.B[f]].pressed){e=!1;for(g=0;g<ports;g++)currentPlayers[g]==d&&(e=!0);e||4>ports&&Fa(d,f)}}}}function Fa(a,d){ports++;currentPlayers[ports-1]=a;playerType[ports-1]=0;mType[ports-1]=d}
function Ga(){for(var a=0;4>a;a++){var d=2*(-80+50*a)/3;player[a].a.j=new k(d,-30);player[a].a.ob=new t([-4+d,-12],[4+d,-30])}}
function W(a,d){if(4==mType[a]){var e=V[68]?V[65]?0:1:V[65]?-1:0,f=V[87]?V[83]?0:1:V[83]?-1:0;if(V[32]||V[16])e*=.7,f*=.7;var g=V[39]?V[37]?0:1:V[37]?-1:0,h=V[38]?V[40]?0:1:V[40]?-1:0,u=0,v=0}else{var p=navigator.getGamepads()[currentPlayers[a]],e=p.axes[map.ke[mType[a]]]-cd[a].Pc.x,f=-1*p.axes[map.le[mType[a]]]-cd[a].Pc.y,e=e/.75,f=f/.75,e=1<e?1:-1>e?-1:Math.round(80*e)/80,f=1<f?1:-1>f?-1:Math.round(80*f)/80;.3>Math.abs(e)&&(e=0);.3>Math.abs(f)&&(f=0);h=-1*p.axes[map.Hd[mType[a]]]-cd[a].Jc.y;g=p.axes[map.Gd[mType[a]]]-
cd[a].Jc.x;g/=.75;h/=.75;g=1<g?1:-1>g?-1:Math.round(80*g)/80;h=1<h?1:-1>h?-1:Math.round(80*h)/80;.3>Math.abs(g)&&(g=0);.3>Math.abs(h)&&(h=0);3==mType[a]?(u=p.buttons[map.jd[mType[a]]]-cd[a].L,v=p.buttons[map.od[mType[a]]]-cd[a].r):(u=p.axes[map.jd[mType[a]]]-cd[a].L,v=p.axes[map.od[mType[a]]]-cd[a].r,2==mType[a]&&(u*=-1,v*=-1),u+=.9,v+=.9);1<u&&(u=1);1<v&&(v=1);.3>u&&(u=0);.3>v&&(v=0)}pause[a][1]=pause[a][0];frameAdvance[a][1]=frameAdvance[a][0];4==mType[a]?(pause[a][0]=V[109]||V[219]?!0:!1,frameAdvance[a][0]=
V[107]||V[192]||V[222]?!0:!1):(pause[a][0]=p.buttons[map.ka[mType[a]]].pressed?!0:!1,frameAdvance[a][0]=p.buttons[map.z[mType[a]]].pressed?!0:!1);if(d){for(var l=0;7>l;l++)player[a].b.h[7-l].x=player[a].b.h[6-l].x,player[a].b.h[7-l].y=player[a].b.h[6-l].y,player[a].b.M[7-l].x=player[a].b.M[6-l].x,player[a].b.M[7-l].y=player[a].b.M[6-l].y,player[a].b.Y[7-l]=player[a].b.Y[6-l],player[a].b.ba[7-l]=player[a].b.ba[6-l],player[a].b.ka[7-l]=player[a].b.ka[6-l],player[a].b.z[7-l]=player[a].b.z[6-l],player[a].b.B[7-l]=
player[a].b.B[6-l],player[a].b.X[7-l]=player[a].b.X[6-l],player[a].b.x[7-l]=player[a].b.x[6-l],player[a].b.y[7-l]=player[a].b.y[6-l],player[a].b.r[7-l]=player[a].b.r[6-l],player[a].b.L[7-l]=player[a].b.L[6-l],player[a].b.Eb[7-l]=player[a].b.Eb[6-l],player[a].b.Db[7-l]=player[a].b.Db[6-l],player[a].b.Fb[7-l]=player[a].b.Fb[6-l],player[a].b.jc[7-l]=player[a].b.jc[6-l];player[a].b.h[0].x=e;player[a].b.h[0].y=f;player[a].b.M[0].x=g;player[a].b.M[0].y=h;player[a].b.Y[0]=u;player[a].b.ba[0]=v;4==mType[a]?
(player[a].b.ka[0]=V[109]||V[219],player[a].b.x[0]=V[102]||V[186],player[a].b.B[0]=V[101]||V[76],player[a].b.X[0]=V[100]||V[75],player[a].b.y[0]=V[104]||V[79],player[a].b.r[0]=V[105]||V[80],player[a].b.L[0]=V[103]||V[73],player[a].b.Eb[0]=V[86],player[a].b.Db[0]=V[66],player[a].b.Fb[0]=V[78],player[a].b.jc[0]=V[71]):(player[a].b.ka[0]=p.buttons[map.ka[mType[a]]].pressed,player[a].b.x[0]=p.buttons[map.x[mType[a]]].pressed,player[a].b.B[0]=p.buttons[map.B[mType[a]]].pressed,player[a].b.X[0]=p.buttons[map.X[mType[a]]].pressed,
player[a].b.y[0]=p.buttons[map.y[mType[a]]].pressed,player[a].b.r[0]=p.buttons[map.r[mType[a]]].pressed,player[a].b.L[0]=p.buttons[map.L[mType[a]]].pressed,player[a].b.Eb[0]=p.buttons[map.Rd[mType[a]]].pressed,player[a].b.Db[0]=p.buttons[map.Pd[mType[a]]].pressed,player[a].b.Fb[0]=p.buttons[map.Vd[mType[a]]].pressed,player[a].b.jc[0]=p.buttons[map.Kc[mType[a]]].pressed);frameByFrame||(player[a].b.z[0]=4==mType[a]?V[107]||V[192]||V[222]:p.buttons[map.z[mType[a]]].pressed,player[a].b.z[0]&&(player[a].b.Y[0]=.35,player[a].b.B[0]=!0));player[a].b.L[0]&&
(player[a].b.Y[0]=1);player[a].b.r[0]&&(player[a].b.ba[0]=1)}else 4==mType[a]?(V[101]||V[76])&&(V[103]||V[73])&&(V[105]||V[80])&&(V[109]||V[219])&&(V[100]||V[75]?Ha():Ia()):p.buttons[map.B[mType[a]]].pressed&&p.buttons[map.L[mType[a]]].pressed&&p.buttons[map.r[mType[a]]].pressed&&p.buttons[map.ka[mType[a]]].pressed&&(p.buttons[map.X[mType[a]]].pressed?Ha():Ia()),frameAdvance[a][0]&&!frameAdvance[a][1]&&(frameByFrame=!0);player[a].b.Eb[0]&&!player[a].b.Eb[1]&&(player[a].Wc^=1);player[a].b.Db[0]&&!player[a].b.Db[1]&&(player[a].Uc^=
1);player[a].b.Fb[0]&&!player[a].b.Fb[1]&&(player[a].Vc^=1);4!=mType[a]&&p.buttons[map.Kc[mType[a]]].pressed&&p.buttons[map.x[mType[a]]].pressed&&p.buttons[map.y[mType[a]]].pressed&&!attemptingControllerReset[a]&&(attemptingControllerReset[a]=!0,setTimeout(function(){p.buttons[map.Kc[mType[a]]].pressed&&p.buttons[map.x[mType[a]]].pressed&&p.buttons[map.y[mType[a]]].pressed&&(cd[a].Pc=new k(p.axes[0],-1*p.axes[1]),cd[a].Jc=new k(p.axes[5],-1*p.axes[2]),cd[a].L=p.axes[3]+.8,cd[a].r=p.axes[4]+.8,$("#resetIndicator"+a).fadeIn(100),$("#resetIndicator"+
a).fadeOut(500));attemptingControllerReset[a]=!1},2E3));pause[a][0]&&!pause[a][1]&&3==gameMode&&((playing^=1)?sounds.jb.volume(0):(sounds.pause.play(),sounds.jb.volume(0),na()));0<player[a].a.Zb&&(player[a].a.Zb--,0==player[a].a.Zb&&(player[a].a.ub=!1));0==player[a].a.Zb&&(0<player[a].b.Y[0]&&0==player[a].b.Y[1]||0<player[a].b.ba[0]&&0==player[a].b.Y[1]||player[a].b.z[0]&&!player[a].b.z[1])&&(player[a].a.Zb=7,player[a].a.ub=!0);$("#lsAxisX"+a).empty().append(e.toFixed(5));$("#lsAxisY"+a).empty().append(f.toFixed(5));
$("#lAnalog"+a).empty().append(u.toFixed(5));$("#rAnalog"+a).empty().append(v.toFixed(5));if(4==mType[a])for(l=0;12>l;l++)(1<keyboardMap[l].length?V[keyboardMap[l][0]]||V[keyboardMap[l][1]]||V[keyboardMap[l][2]]:V[keyboardMap[l]])?$("#"+a+"button"+l).show():$("#"+a+"button"+l).hide();else for(l=0;12>l;l++)e=l,0==mType[a]&&(5<e&&e++,7<e&&e++,8<e&&(e+=2)),p.buttons[e].$?$("#"+a+"button"+l).show():$("#"+a+"button"+l).hide()}
function Ja(a,d,e,f){player[a].a.j.y=d;player[a].a.O=!0;player[a].a.ra=!1;player[a].a.Tb=0;player[a].a.Ba=!1;player[a].a.Fc=0;player[a].a.wc=!0;player[a].a.na=[e,f];player[a].a.ja=-1;switch(player[a].o){case 56:break;case 33:player[a].a.ma?aS[10].f(a):aS[43].f(a);break;case 34:player[a].a.ma?aS[10].f(a):aS[44].f(a);break;case 35:player[a].a.ma?aS[10].f(a):aS[46].f(a);break;case 36:player[a].a.ma?aS[10].f(a):aS[45].f(a);break;case 37:player[a].a.ma?aS[10].f(a):aS[42].f(a);break;case 9:case 13:case 15:case 19:case 20:-1<=
player[a].a.g.y?aS[0].f(a):aS[10].f(a);break;case 41:aS[10].f(a);break;case 11:player[a].a.aa=0;player[a].a.nb=0;aS[12].f(a);break;case 39:case 40:0<player[a].a.Qb?.5<player[a].b.h[0].x*player[a].a.face?aS[68].f(a):-.5>player[a].b.h[0].x*player[a].a.face?aS[67].f(a):aS[66].f(a):aS[60].f(a);break;case 69:aS[70].f(a);break;default:aS[12].f(a)}player[a].a.g.y=0;player[a].a.J.y=0;player[a].v.xa=0;player[a].i.active=[!1,!1,!1,!1]}canvas=c=0;
function Ka(){for(var a=[],d=0;d<vfxQueue.length;d++)if(vfxQueue[d][1]++,vfxQueue[d][0].frames>=vfxQueue[d][1]){if(showVfx)if("s"==vfxQueue[d][0].name[0]&&"w"==vfxQueue[d][0].name[1])dVfx.swing(d);else dVfx[vfxQueue[d][0].name](d)}else a.push(d);for(d=0;d<a.length;d++)vfxQueue.splice(a[d]-d,1)}
function n(a,d,e,f){"undefined"===typeof f&&(f=-1);var g={};$.extend(!0,g,vfx[a]);"circleDust"==g.name&&(g.Bb[0]=-2*Math.random(),g.Bb[1]=Math.random()*-stage.scale-2,g.Bb[2]=2*Math.random(),g.Bb[3]=Math.random()*stage.scale+2);vfxQueue.push([g,0,new k(d.x,d.y),e,f])}
function La(a){starting||0==playerType[a]&&-1!=currentPlayers[a]&&W(a,!0);player[a].a.cc=new k(player[a].a.j.x,player[a].a.j.y);if(0<player[a].v.ea){player[a].v.ea--;if(0==player[a].v.ea&&0<player[a].v.fa){if(-1==player[a].a.R||44<player[a].v.fa){var d;d=player[a].v.ua;var e=player[a].v.fa,f=player[a].v.reverse,g=player[a].b.h[0].x,h=player[a].b.h[0].y,u=!1,v;80>e&&player[a].a.O&&(0==d||180==d)&&(u=!0);.2875>g&&-.2875<g&&(g=0);.2875>h&&-.2875<h&&(h=0);0==g&&0>h?v=270:0==g&&0<h?v=90:0==g&&0==h?u=!0:
(v=180/Math.PI*Math.atan(h/g)*1,0>g?v+=180:0>h&&(v+=360));361==d?32.1>e?d=f?180:0:32.1<=e?d=f?136:44:(prompt("Why would this ever get called?"),d=440*(e-32),f&&(d=180-d,0>d&&(d=360+d))):f&&(d=180-d,0>d&&(d=360+d));u?g=0:(e=d-v,180<e&&(e-=360),g=Math.sin(e*angleConversion)*Math.sqrt(g*g+h*h),g=g*g*18,18<g&&(g=18),0>e&&-180<e&&(g*=-1));d=d-g;.01>d&&(d=0);player[a].a.g.x=0;player[a].a.g.y=0;g=.03*player[a].v.fa*Math.cos(d*angleConversion);g=Math.round(1E5*g)/1E5;player[a].a.J.x=g;g=player[a].v.fa;h=
player[a].v.ua;e=.03*g*Math.sin(d*angleConversion);e=Math.round(1E5*e)/1E5;80>g&&player[a].a.O&&(0==h||180==h)&&(e=0);player[a].a.J.y=e;g=.051*Math.cos(d*angleConversion);g=Math.round(1E5*g)/1E5;player[a].a.pb.x=g;g=.051*Math.sin(d*angleConversion);g=Math.round(1E5*g)/1E5;player[a].a.pb.y=g;player[a].a.ja=-1;player[a].a.charging=!1;player[a].a.Z=!1;player[a].a.O&&(0==d||270<d?(player[a].a.J.y=0,player[a].a.pb.x=player[a].C.Rb):180<d&&(player[a].a.J.y=0,player[a].a.pb.x=-player[a].C.Rb));0<player[a].a.J.y&&
(player[a].a.O=!1)}player[a].v.fa=0}switch(player[a].o){case 41:case 39:case 21:case 22:if(0<player[a].v.ea){if(.7<player[a].b.h[0].x&&.7>player[a].b.h[1].x||-.7>player[a].b.h[0].x&&-.7<player[a].b.h[1].x||.7<player[a].b.h[0].y&&.7>player[a].b.h[1].y||-.7>player[a].b.h[0].y&&-.7<player[a].b.h[1].y)player[a].a.j.x+=6*player[a].b.h[0].x,player[a].a.j.y+=player[a].a.O?0:6*player[a].b.h[0].y}else player[a].a.j.x+=3*player[a].b.h[0].x,player[a].a.j.y+=player[a].a.O?0:3*player[a].b.h[0].y}}0==player[a].v.ea&&
(0<player[a].v.cb&&(player[a].v.cb--,0>player[a].v.cb&&(player[a].v.cb=0)),player[a].a.Vb=aS[player[a].o].ga,aS[player[a].o].l(a),0<Math.abs(player[a].a.J.x)&&(d=Math.sign(player[a].a.J.x),player[a].a.J.x-=player[a].a.pb.x,d!=Math.sign(player[a].a.J.x)&&(player[a].a.J.x=0)),0<Math.abs(player[a].a.J.y)&&(d=Math.sign(player[a].a.J.y),player[a].a.J.y-=player[a].a.pb.y,d!=Math.sign(player[a].a.J.y)&&(player[a].a.J.y=0)),68==player[a].o||67==player[a].o?(player[a].a.j.x+=player[a].a.g.x,player[a].a.j.y+=
player[a].a.g.y):(player[a].a.j.x+=player[a].a.g.x+player[a].a.J.x,player[a].a.j.y+=player[a].a.g.y+player[a].a.J.y));player[a].a.nb=30==player[a].o||31==player[a].o?1:0;0<player[a].a.Yb&&(player[a].a.Yb--,player[a].a.nb=2);0<player[a].a.aa&&(player[a].a.aa--,player[a].a.nb=1);if(-20<player[a].a.Qb)player[a].a.Qb--;else if(player[a].b.L[0]&&!player[a].b.L[1]||player[a].b.r[0]&&!player[a].b.r[1])player[a].a.Qb=20;e=player[a].a.j.x;f=player[a].a.j.y;player[a].a.O||player[a].a.Tb++;player[a].a.U=11==
player[a].o?[new k(0+e,1+f),new k(3+e,9+f),new k(0+e,14+f),new k(-3+e,9+f)]:24==player[a].o?[new k(0+e,1+f),new k(2+e,9+f),new k(0+e,14+f),new k(-2+e,9+f)]:player[a].a.O||10>player[a].a.Tb?[new k(0+e,0+f),new k(3+e,7+f),new k(0+e,14+f),new k(-3+e,7+f)]:[new k(0+e,4+f),new k(3+e,9+f),new k(0+e,14+f),new k(-3+e,9+f)];for(d=0;d<stage.platform.length;d++)player[a].a.Gc[d]&&player[a].a.U[0].y<stage.platform[d][0].y&&player[a].a.U[0].x>stage.platform[d][0].x&&player[a].a.U[0].x<stage.platform[d][1].x&&
(-.56<player[a].b.h[0].y&&aS[player[a].o].ca||!aS[player[a].o].ca)&&(0<player[a].v.ea?player[a].a.j.y=stage.platform[d][0].y:Ja(a,stage.platform[d][0].y,1,d));for(d=0;d<stage.platform.length;d++)player[a].a.Gc[d]=player[a].a.U[0].y>stage.platform[d][0].y?!0:!1;player[a].a.O&&(d=!0,0==player[a].a.na[0]?(g=player[a].a.na[1],player[a].a.U[0].x<stage.N[g][0].x-.1?aS[player[a].o].H?-.6>player[a].b.h[0].x||1==player[a].a.face?d=!1:0==player[a].a.g.x&&0==player[a].a.J.x?d=!1:(player[a].a.g.x=0,player[a].a.j.x=
stage.N[g][0].x,aS[0].f(a)):0==player[a].a.g.x&&0==player[a].a.J.x&&(74>player[a].o||84<player[a].o)?d=!1:(player[a].a.g.x=0,player[a].a.j.x=stage.N[g][0].x):player[a].a.U[0].x>stage.N[g][1].x+.1&&(aS[player[a].o].H?.6<player[a].b.h[0].x||-1==player[a].a.face?d=!1:0==player[a].a.g.x&&0==player[a].a.J.x?d=!1:(player[a].a.g.x=0,player[a].a.j.x=stage.N[g][1].x,aS[0].f(a)):0==player[a].a.g.x&&0==player[a].a.J.x&&(74>player[a].o||84<player[a].o)?d=!1:(player[a].a.g.x=0,player[a].a.j.x=stage.N[g][1].x))):
(g=player[a].a.na[1],player[a].a.U[0].x<stage.platform[g][0].x-.1?aS[player[a].o].H?-.6>player[a].b.h[0].x||1==player[a].a.face?d=!1:0==player[a].a.g.x&&0==player[a].a.J.x?d=!1:(player[a].a.g.x=0,player[a].a.j.x=stage.platform[g][0].x,aS[0].f(a)):0==player[a].a.g.x&&0==player[a].a.J.x&&(74>player[a].o||84<player[a].o)?d=!1:(player[a].a.g.x=0,player[a].a.j.x=stage.platform[g][0].x):player[a].a.U[0].x>stage.platform[g][1].x+.1&&(aS[player[a].o].H?.6<player[a].b.h[0].x||-1==player[a].a.face?d=!1:0==
player[a].a.g.x&&0==player[a].a.J.x?d=!1:(player[a].a.g.x=0,player[a].a.j.x=stage.platform[g][1].x,aS[0].f(a)):0==player[a].a.g.x&&0==player[a].a.J.x&&(74>player[a].o||84<player[a].o)?d=!1:(player[a].a.g.x=0,player[a].a.j.x=stage.platform[g][1].x))),d||(player[a].a.O=!1,player[a].a.Z=!1,aS[13].f(a),Math.abs(player[a].a.g.x)>player[a].C.Hc&&(player[a].a.g.x=Math.sign(player[a].a.g.x)*player[a].C.Hc)));g=[!0,!0];for(d=0;d<stage.S.length;d++)player[a].a.U[1].y<stage.S[d][0].y&&player[a].a.U[1].y>stage.S[d][1].y&&
player[a].a.U[1].x>=stage.S[d][1].x&&player[a].a.U[1].x<stage.S[d][1].x+5&&(g[0]=!1,player[a].a.j.x-=player[a].a.U[1].x-stage.S[d][1].x,39==player[a].o?0==player[a].v.ea&&(player[a].a.face=-1,0<player[a].a.Qb?player[a].b.x[0]||player[a].b.y[0]||.7<player[a].b.h[0].y?aS[92].f(a):aS[90].f(a):(n("wallBounce",new k(stage.S[d][1].x,player[a].a.U[1].y),-1,0),aS[89].f(a))):player[a].a.Vb&&(254==player[a].a.ya&&.5<=player[a].a.Rc.x&&(player[a].a.ya=0),0<=player[a].a.ya&&120>player[a].a.ya&&(-.7>=player[a].b.h[0].x&&
0<=player[a].b.h[3].x?(player[a].a.ya=254,player[a].a.face=-1,aS[91].f(a)):player[a].a.ya++)));for(d=0;d<stage.T.length;d++)player[a].a.U[3].y<stage.T[d][0].y&&player[a].a.U[3].y>stage.T[d][1].y&&player[a].a.U[3].x<=stage.T[d][1].x&&player[a].a.U[3].x>stage.T[d][1].x-5&&(g[1]=!1,player[a].a.j.x-=player[a].a.U[3].x-stage.T[d][1].x,39==player[a].o?0==player[a].v.ea&&(player[a].a.face=1,0<player[a].a.Qb?player[a].b.x[0]||player[a].b.y[0]||.7<player[a].b.h[0].y?aS[92].f(a):aS[90].f(a):(n("wallBounce",
new k(stage.T[d][1].x,player[a].a.U[3].y),1,1),aS[89].f(a))):player[a].a.Vb&&(254==player[a].a.ya&&.5<=player[a].a.Rc.x&&(player[a].a.ya=0),0<=player[a].a.ya&&120>player[a].a.ya&&(.7<=player[a].b.h[0].x&&0>=player[a].b.h[3].x?(player[a].a.ya=254,player[a].a.face=1,aS[91].f(a)):player[a].a.ya++)));g[0]&&g[1]&&player[a].a.Vb&&(player[a].a.ya=254);if(player[a].a.O)for(d=0;4>d;d++)-1<playerType[d]&&a!=d&&player[d].a.O&&player[d].a.na[0]==player[a].a.na[0]&&player[d].a.na[1]==player[a].a.na[1]&&player[a].a.ia!=
d&&player[a].a.R!=d&&(g=Math.abs(player[a].a.j.x-player[d].a.j.x),6.5>g&&0<g?player[d].a.j.x+=-.3*Math.sign(player[a].a.j.x-player[d].a.j.x):0==g&&Math.abs(player[a].a.g.x)>Math.abs(player[d].a.g.x)&&(player[d].a.j.x+=-.3*Math.sign(player[a].a.g.x)));0==player[a].a.Z&&(player[a].a.ta+=.07,60<player[a].a.ta&&(player[a].a.ta=60));e=player[a].a.j.x;f=player[a].a.j.y;player[a].a.la=11==player[a].o?[new k(0+e,1+f),new k(3+e,9+f),new k(0+e,14+f),new k(-3+e,9+f)]:24==player[a].o?[new k(0+e,1+f),new k(2+
e,9+f),new k(0+e,14+f),new k(-2+e,9+f)]:player[a].a.O||10>player[a].a.Tb?[new k(0+e,0+f),new k(3+e,7+f),new k(0+e,14+f),new k(-3+e,7+f)]:[new k(0+e,4+f),new k(3+e,9+f),new k(0+e,14+f),new k(-3+e,9+f)];if(!player[a].a.O){for(d=0;d<stage.N.length;d++)if(player[a].a.la[0].y<stage.N[d][0].y&&player[a].a.la[0].x>stage.N[d][0].x&&player[a].a.la[0].x<stage.N[d][1].x&&player[a].a.la[2].y>stage.P[d][0].y)if(player[a].a.cc.y+(player[a].a.la[0].y-player[a].a.j.y)<stage.P[d][0].y)player[a].a.j.y=stage.P[d][0].y-
14,aS[player[a].o].da&&(player[a].a.g.y=0,aS[13].f(a));else{0<player[a].v.ea?player[a].a.j.y=stage.N[d][0].y:Ja(a,stage.N[d][0].y,0,d);break}for(d=0;d<stage.P.length;d++)player[a].a.la[2].y>stage.P[d][0].y&&player[a].a.la[0].x>stage.P[d][0].x&&player[a].a.la[0].x<stage.P[d][1].x&&(g=stage.N[0][0].y,"undefined"!=typeof stage.N[d]&&(g=stage.N[d][0].y),player[a].a.la[2].y<g&&(player[a].a.j.y=stage.P[d][0].y-14,aS[player[a].o].da&&(player[a].a.g.y=0,aS[13].f(a))))}player[a].a.ob=new t([-4+e,18+f],[4+
e,f]);player[a].a.qb=new t([player[a].a.j.x,player[a].a.j.y+22],[player[a].a.j.x+14,player[a].a.j.y+12]);player[a].a.Lb=new t([player[a].a.j.x-14,player[a].a.j.y+22],[player[a].a.j.x,player[a].a.j.y+12]);player[a].a.Kb&&(player[a].a.rc--,0==player[a].a.rc&&(player[a].a.Kb=!1));h=g=-1;if(-1==player[a].a.ja&&!player[a].a.Kb)for(d=0;d<stage.K.length;d++){e=!0;for(f=0;4>f;f++)-1<playerType[f]&&f!=a&&player[f].a.ja==d&&(e=!1);e&&(e=stage.K[d][1]?stage.s[stage.K[d][0]].max.x:stage.s[stage.K[d][0]].min.x,
f=stage.s[stage.K[d][0]].max.y,e>player[a].a.qb.min.x&&e<player[a].a.qb.max.x&&f<player[a].a.qb.min.y&&f>player[a].a.qb.max.y&&0==stage.K[d][1]&&(player[a].a.O||aS[player[a].o].V[0]&&(g=d)),e>player[a].a.Lb.min.x&&e<player[a].a.Lb.max.x&&f<player[a].a.Lb.min.y&&f>player[a].a.qb.max.y&&1==stage.K[d][1]&&(player[a].a.O||aS[player[a].o].V[0]&&(h=d)));0>player[a].a.g.y&&-.5<player[a].b.h[0].y&&(-1<g?-2*stage.K[g][1]+1==player[a].a.face&&(player[a].a.ja=g,player[a].a.rc=30,player[a].a.face=-2*stage.K[g][1]+
1,player[a].a.j=new k(stage.s[stage.K[g][0]].min.x+edgeOffset[0][0],stage.s[stage.K[g][0]].min.y+edgeOffset[0][1]),aS[24].f(a)):-1<h&&-2*stage.K[h][1]+1==player[a].a.face&&(player[a].a.ja=h,player[a].a.rc=30,player[a].a.face=-2*stage.K[h][1]+1,player[a].a.j=new k(stage.s[stage.K[h][0]].max.x+edgeOffset[1][0],stage.s[stage.K[h][0]].min.y+edgeOffset[1][1]),aS[24].f(a)))}(26>player[a].o||29<player[a].o)&&93!=player[a].o&&(d=0,player[a].a.j.x<stage.Aa.min.x?d=26:player[a].a.j.x>stage.Aa.max.x?d=27:player[a].a.j.y<
stage.Aa.min.y?d=29:player[a].a.j.y>stage.Aa.max.y&&(d=28),0<d&&(player[a].Ca--,lostStockQueue.push([a,player[a].Ca,0]),0==player[a].Ca&&versusMode&&(player[a].Ca=1),aS[d].f(a)));-80<player[a].a.cc.y&&-80>=player[a].a.j.y&&sounds.je.play();player[a].a.Rc=new k(Math.abs(player[a].a.j.x-player[a].a.cc.x),Math.abs(player[a].a.j.y-player[a].a.cc.y));$("#velocityX"+a).empty().append(player[a].a.g.x.toFixed(5));$("#velocityY"+a).empty().append(player[a].a.g.y.toFixed(5));$("#kvelocityX"+a).empty().append(player[a].a.J.x.toFixed(5));
$("#kvelocityY"+a).empty().append(player[a].a.J.y.toFixed(5));$("#pvelocityX"+a).empty().append(player[a].a.j.x.toFixed(5));$("#pvelocityY"+a).empty().append(player[a].a.j.y.toFixed(5))}lastFrameTimeMs=delta=0;lastUpdate=performance.now();
function Ma(){var a=performance.now(),d=0;if(0==gameMode)Ea();else if(1==gameMode)for(var e=0;e<ports;e++){W(e,!0);var f=e,a=!1,g=menuSelected;if(player[f].b.B[0]&&!player[f].b.B[1])sounds.Fa.play(),0==menuSelected?(gameMode=2,Ga()):1==menuSelected?(targetPlayer=f,targetPointerPos=[178.5,137],player[f].b.B[1]=!0,gameMode=7):2==menuSelected&&(targetBuilder=f,player[f].b.B[1]=!0,gameMode=4);else if(!player[f].b.X[0])if(.7<player[f].b.h[0].y)stickHoldEach[f]=!0,0==stickHold?(menuSelected--,a=!0,stickHold++):
(stickHold++,0==stickHold%10&&(menuSelected--,a=!0));else if(-.7>player[f].b.h[0].y)stickHoldEach[f]=!0,0==stickHold?(menuSelected++,a=!0,stickHold++):(stickHold++,0==stickHold%10&&(menuSelected++,a=!0));else if(stickHoldEach[f]=!1,f==ports-1){for(var f=!1,h=0;h<ports;h++)if(stickHoldEach[h]){f=!0;break}f||(stickHold=0)}a&&(menuTimer=menuCycle=0,sounds.sa.play(),-1==menuSelected&&(menuSelected=2),3==menuSelected&&(menuSelected=0),3==g+menuSelected?1==menuSelected?menuColours[menuSelected]=0:menuCurColour=
0:1==g&&(menuCurColour=358,menuColours[1]=358),menuColourOffset=menuColours[menuSelected]-menuCurColour)}else if(2==gameMode){for(e=0;4>e;e++){if(e<ports){W(e,!0);a=e;if(-1==choosingTag){player[a].b.X[0]?(bHold[a]++,60==bHold[a]&&(sounds.wb.play(),gameMode=1)):bHold[a]=0;handPos[a].x+=12*player[a].b.h[0].x;handPos[a].y+=12*-player[a].b.h[0].y;1200<handPos[a].x?handPos[a].x=1200:0>handPos[a].x&&(handPos[a].x=0);750<handPos[a].y?handPos[a].y=750:0>handPos[a].y&&(handPos[a].y=0);if(400>handPos[a].y&&
160<handPos[a].y)if(handType[a]=1,player[a].b.X[0]&&!player[a].b.X[1]&&0==playerType[a]&&(handType[a]=2,tokenPos[a]=new k(handPos[a].x,handPos[a].y),tokenGrabbed[a]=!0),tokenGrabbed[a]){if(handType[a]=2,tokenPos[a]=new k(handPos[a].x,handPos[a].y),player[a].b.B[0]&&!player[a].b.B[1]||0==!playerType[a])tokenPos[a]=new k(568+a%2*40,268+(1<a?40:0)),tokenGrabbed[a]=!1,sounds.sc.play()}else handPos[a].y>tokenPos[a].y-50&&handPos[a].y<tokenPos[a].y+50&&handPos[a].x>tokenPos[a].x-50&&handPos[a].x<tokenPos[a].x+
50&&0==!playerType[a]&&player[a].b.B[0]&&!player[a].b.B[1]&&0==playerType[a]&&(handType[a]=2,tokenPos[a]=new k(handPos[a].x,handPos[a].y),tokenGrabbed[a]=!0);else for(handType[a]=0,tokenPos[a]=new k(568+a%2*40,268+(1<a?40:0)),tokenGrabbed[a]=!1,g=0;4>g;g++)430<handPos[a].y&&485>handPos[a].y&&handPos[a].x>109+225*g&&handPos[a].x<207+225*g&&player[a].b.B[0]&&!player[a].b.B[1]&&(sounds.sa.play(),f=g,playerType[f]++,2==playerType[f]&&(playerType[f]=-1),0==playerType[f]&&ports<=f&&(playerType[f]=1),hasTag[g]=
!1);160>handPos[a].y&&920<handPos[a].x&&player[a].b.B[0]&&!player[a].b.B[1]&&(sounds.wb.play(),gameMode=1);player[a].b.x[0]&&!player[a].b.x[1]&&(sounds.sa.play(),pPal[a]++,6<pPal[a]&&(pPal[a]=0));player[a].b.y[0]&&!player[a].b.y[1]&&(sounds.sa.play(),pPal[a]--,0>pPal[a]&&(pPal[a]=6));100<handPos[a].y&&160>handPos[a].y&&380<handPos[a].x&&910>handPos[a].x&&player[a].b.B[0]&&!player[a].b.B[1]&&(sounds.sa.play(),versusMode=1-versusMode);640<handPos[a].y&&680>handPos[a].y&&handPos[a].x>130+225*a&&handPos[a].x<
310+225*a&&player[a].b.B[0]&&!player[a].b.B[1]&&(handPos[a].x<154+225*a?(sounds.sa.play(),hasTag[a]=!0,tagText[a]=randomTags[Math.round((randomTags.length-1)*Math.random())]):handPos[a].x>286+225*a?(sounds.sa.play(),hasTag[a]=!1):(sounds.sa.play(),hasTag[a]=!0,choosingTag=a,c.fillStyle="rgba(0,0,0,0.8)",c.fillRect(0,0,canvas.width,canvas.height),$("#pTagEdit"+a).show().select()))}else choosingTag==a&&player[a].b.B[0]&&!player[a].b.B[1]&&(sounds.sa.play(),tagText[choosingTag]=$("#pTagEdit"+choosingTag).val(),
$("#pTagEdit"+choosingTag).hide(),choosingTag=-1);readyToFight&&-1==choosingTag&&pause[a][0]&&!pause[a][1]&&(sounds.Fa.play(),gameMode=6)}aS[player[e].o].l(e)}for(e=0;4>e;e++)-1<playerType[e]&&aa(e);ba();hitQueue=[];Ea()}else if(6==gameMode)for(e=0;4>e;e++){if(e<ports){W(e,!0);a=e;stagePointerPos[0]+=15*player[a].b.h[0].x;stagePointerPos[1]+=-15*player[a].b.h[0].y;if(450<=stagePointerPos[1]&&540>=stagePointerPos[1])for(g=0;4>g;g++){if(stagePointerPos[0]>=225+200*g&&stagePointerPos[0]<=375+200*g){stageSelected!=
g&&sounds.sa.play();stageSelected=g;break}}else 525<=stagePointerPos[0]&&675>=stagePointerPos[0]&&590<=stagePointerPos[1]&&680>=stagePointerPos[1]&&(4!=stageSelected&&sounds.sa.play(),stageSelected=4);if(player[a].b.X[0]&&!player[a].b.X[1])sounds.wb.play(),gameMode=2;else if(player[a].b.ka[0]&&!player[a].b.ka[1]||player[a].b.B[0]&&!player[a].b.B[1])sounds.Fa.play(),4==stageSelected&&(stageSelected=Math.floor(3.99*Math.random())),stageSelect=stageSelected,Ha()}}else if(7==gameMode){W(targetPlayer,
!0);a=targetPlayer;targetPointerPos[0]+=15*player[a].b.h[0].x;targetPointerPos[1]+=-15*player[a].b.h[0].y;c.fillRect(50+260*Math.floor(a/5)+65*Math.floor(a/10),110+a%5*60,250,50);if(45<=targetPointerPos[1]&&420>=targetPointerPos[1])for(e=0;7>e;e++)if(targetPointerPos[0]>=50+260*Math.floor(e/5)+65*Math.floor(e/10)&&targetPointerPos[0]<=300+260*Math.floor(e/5)+65*Math.floor(e/10)&&targetPointerPos[1]>=110+e%5*60&&targetPointerPos[1]<=160+e%5*60){targetSelected!=e&&sounds.sa.play();targetSelected=e;
break}if(player[a].b.X[0]&&!player[a].b.X[1])sounds.wb.play(),gameMode=1;else if(player[a].b.ka[0]&&!player[a].b.ka[1]||player[a].b.B[0]&&!player[a].b.B[1])sounds.Fa.play(),stage=targetStages[targetSelected],targetStagePlaying=targetSelected,xa(a,!1)}else if(4==gameMode)if(W(targetBuilder,!0),a=targetBuilder,showingCode)player[a].b.B[0]&&!player[a].b.B[1]&&(showingCode=!1,$("#customStageContainer").hide(),sounds.Fa.play());else if(builderPaused)if(.7<=player[a].b.h[0].y&&.7>player[a].b.h[1].y?(builderPauseSelected--,
0>builderPauseSelected&&(builderPauseSelected=2),sounds.sa.play()):-.7>=player[a].b.h[0].y&&-.7<player[a].b.h[1].y&&(builderPauseSelected++,2<builderPauseSelected&&(builderPauseSelected=0),sounds.sa.play()),player[a].b.B[0]&&!player[a].b.B[1])switch(builderPauseSelected){case 0:sounds.Fa.play();xa(targetBuilder,!0);break;case 1:sounds.Fa.play();showingCode=!0;e=sa();$("#customStageContainer").show();$("#cStageEdit").select().val(e);break;case 2:sounds.Fa.play(),gameMode=1}else player[a].b.ka[0]&&!player[a].b.ka[1]&&
(builderPaused=!1,builderPauseSelected=0,sounds.wb.play());else{ledgeHoverItem=hoverItem=0;player[a].b.z[0]&&!player[a].b.z[1]&&(e=sa(),console.log(e));e=player[a].b.y[0]||player[a].b.x[0]?1:5;crossHairPos.x+=player[a].b.h[0].x*e;crossHairPos.y+=player[a].b.h[0].y*e;e=new k(3*crossHairPos.x+600,-3*crossHairPos.y+375);200<crossHairPos.x&&(crossHairPos.x=200,e.x=1200);-200>crossHairPos.x&&(crossHairPos.x=-200,e.x=0);125<crossHairPos.y&&(crossHairPos.y=125,e.y=0);-125>crossHairPos.y&&(crossHairPos.y=
-125,e.y=750);player[a].b.L[0]&&!player[a].b.L[1]?(sounds.sa.play(),targetTool--,-1==targetTool&&(targetTool=5),toolInfoTimer=120):player[a].b.r[0]&&!player[a].b.r[1]&&(sounds.sa.play(),targetTool++,6==targetTool&&(targetTool=0),toolInfoTimer=120);switch(targetTool){case 0:holdingA?player[a].b.B[0]?drawingBox.max=new k(e.x,e.y):(drawingBox.max=new k(e.x,e.y),11.19<=Math.abs(drawingBox.min.x-drawingBox.max.x)&&Math.abs(drawingBox.min.y-drawingBox.max.y)>=2.8*3?(stageTemp.u.s.push(new t([Math.min(drawingBox.min.x,
drawingBox.max.x),Math.max(drawingBox.min.y,drawingBox.max.y)],[Math.max(drawingBox.min.x,drawingBox.max.x),Math.min(drawingBox.min.y,drawingBox.max.y)])),e=stageTemp.u.s[stageTemp.u.s.length-1],stageTemp.u.N.push([new k(e.min.x,e.max.y),new k(e.max.x,e.max.y)]),stageTemp.u.P.push([new k(e.min.x,e.min.y),new k(e.max.x,e.min.y)]),stageTemp.u.S.push([new k(e.min.x,e.max.y),new k(e.min.x,e.min.y)]),stageTemp.u.T.push([new k(e.max.x,e.max.y),new k(e.max.x,e.min.y)]),stageTemp.s.push(new t([(Math.min(drawingBox.min.x,
drawingBox.max.x)-600)/3,(Math.max(drawingBox.min.y,drawingBox.max.y)-375)/-3],[(Math.max(drawingBox.min.x,drawingBox.max.x)-600)/3,(Math.min(drawingBox.min.y,drawingBox.max.y)-375)/-3])),e=stageTemp.s[stageTemp.s.length-1],stageTemp.N.push([new k(e.min.x,e.max.y),new k(e.max.x,e.max.y)]),stageTemp.P.push([new k(e.min.x,e.min.y),new k(e.max.x,e.min.y)]),stageTemp.S.push([new k(e.min.x,e.max.y),new k(e.min.x,e.min.y)]),stageTemp.T.push([new k(e.max.x,e.max.y),new k(e.max.x,e.min.y)]),undoList.push("box")):
(tooSmallTimer=60,tooSmallPos=new k(e.x,e.y)),holdingA=!1,sounds.sb.play()):player[a].b.B[0]&&!player[a].b.B[1]&&(20>stageTemp.s.length?(drawingBox.min=new k(e.x,e.y),drawingBox.max=new k(e.x,e.y),holdingA=!0):sounds.ic.play());break;case 1:holdingA?player[a].b.B[0]?drawingPlatform[1]=new k(e.x,drawingPlatform[0].y):(drawingPlatform[1]=new k(e.x,drawingPlatform[0].y),console.log(drawingPlatform),10<=Math.abs(drawingPlatform[0].x-drawingPlatform[1].x)?(stageTemp.u.platform.push([new k(Math.min(drawingPlatform[0].x,
drawingPlatform[1].x),drawingPlatform[0].y),new k(Math.max(drawingPlatform[0].x,drawingPlatform[1].x),drawingPlatform[1].y)]),stageTemp.platform.push([new k((Math.min(drawingPlatform[0].x,drawingPlatform[1].x)-600)/3,(drawingPlatform[0].y-375)/-3),new k((Math.max(drawingPlatform[0].x,drawingPlatform[1].x)-600)/3,(drawingPlatform[1].y-375)/-3)]),stageTemp.platform[stageTemp.platform.length-1][0].x>stageTemp.platform[stageTemp.platform.length-1][1].x&&console.log("wtf"),undoList.push("platform")):(tooSmallTimer=
60,tooSmallPos=new k(e.x,e.y)),holdingA=!1,sounds.sb.play()):player[a].b.B[0]&&!player[a].b.B[1]&&(20>stageTemp.platform.length?(drawingPlatform[0]=new k(e.x,e.y),drawingPlatform[1]=new k(e.x,drawingPlatform[0].y),holdingA=!0):sounds.ic.play());break;case 2:for(g=ledgeHoverItem=0;g<stageTemp.s.length;g++)if(e.x>=stageTemp.u.s[g].min.x-5&&e.x<=stageTemp.u.s[g].max.x+5&&e.y>=stageTemp.u.s[g].max.y-5&&e.y<=stageTemp.u.s[g].min.y+5){ledgeHoverItem=["box",g];break}if(0!=ledgeHoverItem&&(Math.abs(e.x-stageTemp.u.s[g].min.x)<
Math.abs(e.x-stageTemp.u.s[g].max.x)?ledgeHoverItem.push(0):ledgeHoverItem.push(1),player[a].b.B[0]&&!player[a].b.B[1])){g=!1;for(e=0;e<stageTemp.K.length;e++)if(stageTemp.K[e][0]==ledgeHoverItem[1]&&stageTemp.K[e][1]==ledgeHoverItem[2]){stageTemp.K.splice(e,1);g=!0;break}g||(stageTemp.K.push([ledgeHoverItem[1],ledgeHoverItem[2]]),undoList.push("ledge"));sounds.sb.play()}break;case 3:player[a].b.B[0]&&!player[a].b.B[1]&&(10>stageTemp.target.length?(stageTemp.u.target.push(new k(e.x,e.y)),stageTemp.target.push(new k(crossHairPos.x,
crossHairPos.y)),undoList.push("target"),sounds.sb.play()):sounds.ic.play());break;case 4:0==grabbedItem?30>=Math.abs(e.x-stageTemp.u.W.x)&&30>=Math.abs(e.y-stageTemp.u.W.y)?hoverItem=["startingPoint",0]:ta(e)||ua(e)||va(e)||(hoverItem=0):hoverItem=grabbedItem;0!=hoverItem&&(holdingA?player[a].b.B[0]?wa(e):(wa(e),holdingA=!1,grabbedItem=0,sounds.sb.play()):player[a].b.B[0]&&!player[a].b.B[1]&&(wa(e),grabbedItem=hoverItem,holdingA=!0));break;case 5:if(30>=Math.abs(e.x-stageTemp.u.W.x)&&30>=Math.abs(e.y-
stageTemp.u.W.y)?hoverItem=["startingPoint",0]:ta(e)||ua(e)||va(e)||(hoverItem=0),0!=hoverItem&&player[a].b.B[0]&&!player[a].b.B[1]){switch(hoverItem[0]){case "startingPoint":sounds.ic.play();break;case "platform":case "target":stageTemp.u[hoverItem[0]].splice(hoverItem[1],1);stageTemp[hoverItem[0]].splice(hoverItem[1],1);sounds.wb.play();break;case "box":var converted="s";g=[];for(e=0;e<stageTemp.K.length;e++)stageTemp.K[e][0]==hoverItem[1]&&g.push(e);for(e=0;e<g.length;e++)stageTemp.K.splice(g[e]-e,1);for(e=0;e<
stageTemp.K.length;e++)stageTemp.K[e][0]>hoverItem[1]&&stageTemp.K[e][0]--;stageTemp.u[converted].splice(hoverItem[1],1);stageTemp[converted].splice(hoverItem[1],1);stageTemp.u.N.splice(hoverItem[1],1);stageTemp.N.splice(hoverItem[1],1);stageTemp.u.S.splice(hoverItem[1],1);stageTemp.S.splice(hoverItem[1],1);stageTemp.u.T.splice(hoverItem[1],1);stageTemp.T.splice(hoverItem[1],1);stageTemp.u.P.splice(hoverItem[1],1);stageTemp.P.splice(hoverItem[1],1);sounds.wb.play()}hoverItem=0}}player[a].b.ka[0]&&
!player[a].b.ka[1]&&(builderPaused=!0,sounds.pause.play())}else if(5==gameMode)if(endTargetGame&&P(),playing||frameByFrame){lastUpdate=d=performance.now();La(targetBuilder);d=targetBuilder;for(e=0;e<stage.target.length;e++)if(!targetDestroyed[e])for(g=0;4>g;g++){if(f=player[d].i.active[g])f=new k(player[d].a.j.x+player[d].i.id[g].offset[player[d].i.frame].x*player[d].a.face,player[d].a.j.y+player[d].i.id[g].offset[player[d].i.frame].y),h=new k(stage.target[e].x,stage.target[e].y),f=Math.pow(h.x-f.x,
2)+Math.pow(f.y-h.y,2)<=Math.pow(player[d].i.id[g].size+7,2);if(f){g=e;targetDestroyed[g]=!0;targetsDestroyed++;n("targetDestroy",stage.target[g]);sounds.Ke.play();targetsDestroyed==stage.target.length&&(endTargetGame=!0);break}}starting||versusMode?(startTimer-=.01666667,0>startTimer&&(starting=!1)):(matchTimer+=.016667,$("#matchMinutes").empty().append(Math.floor(matchTimer/60)),d=(matchTimer%60).toFixed(2),$("#matchSeconds").empty().append(5>d.length?"0"+d:d));player[targetBuilder].b.ka[0]&&!player[targetBuilder].b.ka[1]&&
Ia();frameByFrame=!1;d=performance.now()-a;gamelogicTime[0]+=d;gamelogicTime[0]/=2;10<=d&&gamelogicTime[3]++;d<gamelogicTime[2]&&(gamelogicTime[2]=d);d>gamelogicTime[1]&&(gamelogicTime[1]=d);$("#gamelogicAvg").empty().append(Math.round(gamelogicTime[0]));$("#gamelogicHigh").empty().append(Math.round(gamelogicTime[1]));$("#gamelogicLow").empty().append(Math.round(gamelogicTime[2]));$("#gamelogicPeak").empty().append(gamelogicTime[3])}else gameEnd||W(targetBuilder,!1);else if(playing||frameByFrame){lastUpdate=
d=performance.now();hitQueue=[];stage.tc();for(e=0;4>e;e++)-1<playerType[e]&&La(e);for(e=0;4>e;e++)-1<playerType[e]&&aa(e);ba();starting||versusMode?(startTimer-=.01666667,0>startTimer&&(starting=!1)):(matchTimer-=.016667,$("#matchMinutes").empty().append(Math.floor(matchTimer/60)),d=(matchTimer%60).toFixed(2),$("#matchSeconds").empty().append(5>d.length?"0"+d:d),0>=matchTimer&&P());frameByFrame=!1;d=performance.now()-a;gamelogicTime[0]+=d;gamelogicTime[0]/=2;10<=d&&gamelogicTime[3]++;d<gamelogicTime[2]&&
(gamelogicTime[2]=d);d>gamelogicTime[1]&&(gamelogicTime[1]=d);$("#gamelogicAvg").empty().append(Math.round(gamelogicTime[0]));$("#gamelogicHigh").empty().append(Math.round(gamelogicTime[1]));$("#gamelogicLow").empty().append(Math.round(gamelogicTime[2]));$("#gamelogicPeak").empty().append(gamelogicTime[3])}else if(findingPlayers)Ea();else if(!gameEnd)for(e=0;4>e;e++)0==playerType[e]&&-1!=currentPlayers[e]&&W(e,!1);setTimeout(Ma,16-d)}otherFrame=!0;fps30=!1;
function Na(){window.requestAnimationFrame(Na);otherFrame^=1;if(fps30&&otherFrame||!fps30){if(0==gameMode)oa();else if(1==gameMode){menuGlobalTimer++;600<menuGlobalTimer&&(menuGlobalTimer=0);var a=c.createLinearGradient(0,0,1200,750);a.addColorStop(0,"rgba(12, 11, 54, 1)");a.addColorStop(1,"rgba(1, 2, 15, 1)");c.fillStyle=a;c.fillRect(0,0,canvas.width,canvas.height);c.save();c.fillStyle="rgba(18, 16, 85, 0.4)";c.translate(400,400);c.rotate(.7);c.fillRect(-150,800-10*menuGlobalTimer,40,70);c.fillRect(-350,
1200-9*menuGlobalTimer,30,170);c.fillRect(-320,1900-10*menuGlobalTimer,40,120);c.fillRect(-420,1E3-5*menuGlobalTimer,90,210);c.fillRect(-100,1600-6*menuGlobalTimer,95,200);c.fillRect(-80,2100-6*menuGlobalTimer,65,260);c.fillRect(-170,2200-8*menuGlobalTimer,65,80);c.fillRect(-400,2700-10*menuGlobalTimer,30,130);c.fillRect(-300,3E3-7*menuGlobalTimer,40,90);c.fillRect(-50,4400-10*menuGlobalTimer,80,90);c.fillRect(-220,4500-9*menuGlobalTimer,50,180);c.fillRect(-500,4900-10*menuGlobalTimer,20,220);c.fillRect(-480,
5100-15*menuGlobalTimer,50,80);c.fillRect(-300,5500-10*menuGlobalTimer,30,90);c.fillRect(-50,5900-12*menuGlobalTimer,40,110);0==menuGlobalTimer%130&&(menuRandomBox=[Math.random(),Math.random(),Math.random(),Math.random()]);50>menuGlobalTimer%130&&(c.fillStyle="rgba(118, 113, 255,"+Math.max(.5-menuGlobalTimer%130*.01,0)+")",c.fillRect(-450*menuRandomBox[0],800*menuRandomBox[1]-400,50*menuRandomBox[2]+30,60*menuRandomBox[3]+30));c.restore();c.lineWidth=5;c.strokeStyle="rgb(0, 0, 0)";for(a=0;60>a;a++)c.beginPath(),
c.moveTo(0,900-15*a),c.lineTo(1200,750-15*a),c.stroke();c.strokeStyle="rgba(3, 31, 219,0.5)";c.fillStyle="hsla("+menuCurColour+",100%,50%,0.5)";c.save();c.translate(800,400);c.rotate(.7);menuAngle+=.015;menuAngle>=twoPi&&(menuAngle=0);c.beginPath();c.arc(160*Math.cos(menuAngle),400*Math.sin(menuAngle),15,0,twoPi);c.closePath();c.fill();c.scale(.4,1);c.beginPath();c.arc(0,0,400,0,twoPi);c.closePath();c.stroke();c.restore();c.save();c.translate(800,400);c.rotate(.8);c.scale(.4,1);c.beginPath();c.arc(0,
0,400,0,twoPi);c.closePath();c.stroke();c.restore();c.lineWidth=3;c.strokeStyle="rgba(255,255,255,0.13)";c.beginPath();for(a=0;60>a;a++)c.moveTo(0+30*a,0),c.lineTo(0+30*a,750),c.moveTo(0,0+30*a),c.lineTo(1200,0+30*a);c.stroke();menuCurColour!=menuColours[menuSelected]&&(menuCurColour+=.05*menuColourOffset,19==menuTimer&&(menuCurColour=Math.round(menuCurColour)));c.fillStyle="hsla("+menuCurColour+", 60%, 41%,0.75)";c.strokeStyle="hsl("+menuCurColour+", 60%, 41%)";c.beginPath();c.moveTo(300,620);c.lineTo(180,
620);c.bezierCurveTo(130,620,130,620,130,570);c.lineTo(130,200);c.bezierCurveTo(130,150,130,150,180,150);c.lineTo(550,150);c.lineTo(600,80);c.lineTo(1020,80);c.bezierCurveTo(1070,80,1070,80,1070,130);c.lineTo(1070,570);c.bezierCurveTo(1070,620,1070,620,1020,620);c.lineTo(900,620);c.lineTo(900,680);c.lineTo(1050,680);c.bezierCurveTo(1100,680,1100,680,1100,630);c.lineTo(1100,110);c.bezierCurveTo(1100,60,1100,60,1050,60);c.lineTo(590,60);c.lineTo(540,130);c.lineTo(150,130);c.bezierCurveTo(100,130,100,
130,100,180);c.lineTo(100,630);c.bezierCurveTo(100,680,100,680,150,680);c.lineTo(300,680);c.closePath();c.fill();c.stroke();c.beginPath();c.moveTo(590,60);c.lineTo(570,60);c.lineTo(520,130);c.lineTo(540,130);c.closePath();c.fill();c.stroke();c.beginPath();c.moveTo(570,60);c.lineTo(550,60);c.lineTo(500,130);c.lineTo(520,130);c.closePath();c.fill();c.stroke();c.beginPath();c.moveTo(550,60);c.lineTo(530,60);c.lineTo(480,130);c.lineTo(500,130);c.closePath();c.fill();c.stroke();c.fillStyle="rgba(0,0,0,0.7)";
c.strokeStyle="white";c.beginPath();c.moveTo(330,610);c.lineTo(870,610);c.bezierCurveTo(890,610,890,610,890,630);c.lineTo(890,670);c.bezierCurveTo(890,690,890,690,870,690);c.lineTo(330,690);c.bezierCurveTo(310,690,310,690,310,670);c.lineTo(310,630);c.bezierCurveTo(310,610,310,610,330,610);c.closePath();c.fill();c.stroke();c.save();c.textAlign="center";c.fillStyle="rgba(255, 255, 255, 0.8)";c.font="700 35px Arial";c.fillText(menuExplanation[menuSelected],600,660);c.fillStyle="rgba(255, 255, 255, 0.5)";
c.font="italic 900 48px Arial";c.fillText("Main Menu",300,120);c.fillStyle="rgba(0, 0, 0, 0.76)";c.lineWidth=5;c.strokeStyle="rgba(255, 214, 0, 0.95)";for(a=0;3>a;a++)c.beginPath(),c.moveTo(410-80*a,250+100*a),c.lineTo(960-80*a,250+100*a),c.arc(960-80*a,285+100*a,35,1.5*Math.PI,.5*Math.PI),c.lineTo(960-80*a,312+100*a),c.arc(960-80*a,285+100*a,20,.5*Math.PI,1.5*Math.PI,!0),c.lineTo(960-80*a,275+100*a),c.arc(960-80*a,285+100*a,10,1.5*Math.PI,.5*Math.PI),c.lineTo(960-80*a,320+100*a),c.lineTo(405-80*
a,320+100*a),c.lineTo(395-80*a,300+100*a),c.closePath(),c.fill(),c.stroke();c.fillStyle="rgb(254, 238, 27)";for(a=0;3>a;a++){var d=1E3;menuSelected==a&&(d=0);c.beginPath();c.moveTo(410-80*a+d,250+100*a);c.lineTo(960-80*a+d,250+100*a);c.arc(960-80*a+d,285+100*a,35,1.5*Math.PI,.5*Math.PI);c.lineTo(960-80*a+d,312+100*a);c.arc(960-80*a+d,285+100*a,20,.5*Math.PI,1.5*Math.PI,!0);c.lineTo(960-80*a+d,275+100*a);c.arc(960-80*a+d,285+100*a,10,1.5*Math.PI,.5*Math.PI);c.lineTo(960-80*a+d,320+100*a);c.lineTo(405-
80*a+d,320+100*a);c.lineTo(395-80*a+d,300+100*a);c.closePath();c.fill();c.stroke();menuSelected==a?(c.save(),c.fillStyle="black",c.textAlign="center",c.fillText(menuText[a],670-80*a,300+100*a),c.globalAlpha=.7,c.strokeStyle="rgb(255, 247, 144)",c.lineWidth=8,c.beginPath(),c.arc(960-80*a,285+100*a,35,0,twoPi),c.closePath(),c.stroke(),c.lineWidth=15,c.beginPath(),c.arc(960-80*a,285+100*a,13,0,twoPi),c.closePath(),c.stroke(),menuTimer++,60<menuTimer&&(menuTimer=0,menuCycle=1-menuCycle),c.fillStyle="rgb(255, 247, 144)",
c.globalAlpha=Math.abs(1-.033*menuTimer),c.beginPath(),c.arc(960-80*a,285+100*a,25,0,twoPi),c.closePath(),c.fill(),c.lineWidth=3,c.globalAlpha=.5,c.beginPath(),c.arc(960-80*a,285+100*a,Math.max(13,100-2*menuTimer),0,twoPi),c.closePath(),c.stroke(),1==menuCycle&&10<menuTimer&&(c.beginPath(),c.arc(960-80*a,285+100*a,Math.max(13,130-2*menuTimer),0,twoPi),c.closePath(),c.stroke()),c.restore(),c.fillStyle="rgb(254, 238, 27)"):c.fillText(menuText[a],670-80*a,300+100*a)}c.restore()}else if(2==gameMode){d=
c.createLinearGradient(0,0,1200,700);d.addColorStop(0,"rgb(17, 12, 56)");d.addColorStop(1,"black");c.fillStyle=d;c.fillRect(0,0,canvas.width,canvas.height);c.fillStyle="rgb(85, 96, 107)";c.strokeStyle="rgb(144, 152, 161)";c.save();c.strokeStyle="rgb(120, 127, 161)";c.beginPath();c.moveTo(-10,200);c.lineTo(290,200);c.arc(290,225,25,1.5*Math.PI,.5*Math.PI);c.lineTo(-10,250);c.closePath();c.stroke();c.fillStyle="rgb(29, 144, 61)";c.beginPath();c.arc(145,225,20,0,twoPi);c.closePath();c.fill();c.fillStyle=
"rgb(120, 127, 161)";c.fillText("Push     to join",37,235);c.fillStyle="rgb(17, 71, 32)";c.fillText("A",133,235);c.restore();c.save();c.lineWidth=3;c.translate(canvas.width/2,canvas.height/2+20);for(a=0;2>a;a++)c.rotate(a*Math.PI),c.beginPath(),c.moveTo(-10-canvas.width/2,-250),c.lineTo(-300,-250),c.bezierCurveTo(-240,-250,-240,-330,-180,-330),c.lineTo(10+canvas.width/2,-330),c.lineTo(10+canvas.width/2,-30-canvas.height/2),c.lineTo(-10-canvas.width/2,-30-canvas.height/2),c.closePath(),c.fill(),c.stroke();
c.restore();c.lineWidth=3;c.beginPath();c.moveTo(410,80);c.lineTo(950,80);c.lineTo(955,105);c.lineTo(946,130);c.lineTo(406,130);c.lineTo(400,105);c.closePath();c.stroke();c.lineWidth=5;c.beginPath();c.moveTo(412,81);c.lineTo(422,81);c.lineTo(412,105);c.lineTo(418,129);c.lineTo(408,129);c.lineTo(402,105);c.closePath();c.fill();c.stroke();c.beginPath();c.moveTo(938,81);c.lineTo(948,81);c.lineTo(953,105);c.lineTo(944,129);c.lineTo(934,129);c.lineTo(943,105);c.closePath();c.fill();c.stroke();c.lineWidth=
3;c.fillStyle="black";c.font="italic 900 50px Arial";c.save();c.scale(1,1.9);c.fillText("MELEE",50,65);c.restore();c.beginPath();c.arc(305,85,30,0,twoPi);c.closePath();c.fill();c.stroke();c.fillStyle="rgb(144, 152, 161)";c.font="700 32px Arial";c.fillText("VS",284,98);c.fillStyle="rgb(219, 219, 219)";c.save();c.scale(1.25,1);versusMode?c.fillText("An endless KO fest!",393,117):c.fillText("4-man survival test!",390,117);c.restore();c.fillStyle="rgba(0,0,0,0.65)";c.beginPath();c.moveTo(1100,0);c.lineTo(1E3,
110);c.lineTo(1020,125);c.lineTo(1200,125);c.lineTo(1200,0);c.closePath();c.fill();c.fillStyle="rgb(255, 222, 0)";c.beginPath();c.moveTo(1100,0);c.lineTo(1E3,110);c.lineTo(1020,125);c.lineTo(1200,125);c.lineTo(1200,119);c.lineTo(1015,119);c.lineTo(1002,110);c.lineTo(1102,0);c.closePath();c.fill();c.font="700 27px Arial";c.fillText("BACK",1035,112);c.fillStyle="rgb(194, 24, 8)";c.beginPath();c.moveTo(1025,75);c.lineTo(992,110);c.lineTo(1010,125);c.lineTo(972,110);c.closePath();c.fill();d=c.createLinearGradient(0,
250,0,350);d.addColorStop(0,"rgb(41, 47, 68)");d.addColorStop(1,"rgb(85, 95, 128)");c.lineWidth=2;c.fillStyle=d;c.beginPath();c.moveTo(545,265);c.bezierCurveTo(545,245,545,245,565,245);c.lineTo(610,245);c.bezierCurveTo(630,245,630,245,630,265);c.lineTo(630,310);c.bezierCurveTo(630,330,630,330,610,330);c.lineTo(565,330);c.bezierCurveTo(545,330,545,330,545,310);c.closePath();c.fill();c.stroke();c.fillStyle="black";c.beginPath();c.moveTo(628,305);c.lineTo(628,310);c.bezierCurveTo(628,328,628,328,610,
328);c.lineTo(565,328);c.bezierCurveTo(547,328,547,328,547,310);c.lineTo(547,305);c.closePath();c.fill();c.fillStyle="rgb(180, 180, 180)";c.font="700 18px Arial";c.fillText("MARTH",555,323);c.drawImage(pa,547,247,81,58);c.fillStyle="rgb(49, 52, 56)";for(a=0;4>a;a++)c.fillRect(145+225*a,430,210,280),c.strokeRect(145+225*a,430,210,280);c.fillStyle="rgb(55, 58, 62)";c.strokeStyle="rgb(72, 77, 85)";for(a=0;4>a;a++)c.fillRect(158+225*a,440,184,260),c.strokeRect(158+225*a,440,184,260);c.fillStyle="rgba(255,255,255,0.1)";
for(a=0;4>a;a++)c.fillRect(158+225*a,630,184,50);c.strokeStyle="rgba(0,0,0,0.2)";c.fillStyle="rgba(0,0,0,0.2)";c.lineWidth=15;for(a=0;4>a;a++)c.beginPath(),c.moveTo(150+225*a,435),c.lineTo(350+225*a,705),c.closePath(),c.stroke(),c.beginPath(),c.arc(250+225*a,570,60,0,twoPi),c.closePath(),c.stroke(),c.beginPath(),c.moveTo(150+225*a,570),c.lineTo(350+225*a,570),c.closePath(),c.stroke();c.lineWidth=3;for(a=0;4>a;a++)for(d=0;7>d;d++)c.beginPath(),c.arc(165+225*a+30*d,450,11,0,twoPi),c.closePath(),c.fill(),
c.beginPath(),c.arc(165+225*a+30*d,690,10,0,twoPi),c.closePath(),c.stroke(),3==d&&c.fill();for(a=0;4>a;a++)if(-1<playerType[a]){if(0==playerType[a])switch(a){case 0:c.fillStyle="rgb(218, 51, 51)";break;case 1:c.fillStyle="rgb(51, 53, 218)";break;case 2:c.fillStyle="rgb(226, 218, 34)";break;case 3:c.fillStyle="rgb(44, 217, 29)"}else c.fillStyle="rgb(91, 91, 91)";c.fillRect(147+225*a,432,206,276);c.fillStyle="rgba(0,0,0,0.5)";c.beginPath();c.moveTo(152+225*a,465);c.lineTo(210+225*a,465);c.lineTo(230+
225*a,450);c.lineTo(318+225*a,450);c.bezierCurveTo(338+225*a,450,338+225*a,450,338+225*a,470);c.lineTo(338+225*a,708);c.lineTo(152+225*a,708);c.closePath();c.fill();c.save();c.fillStyle="rgba(0, 0, 0, 0.3)";c.translate(250+225*a,615);c.scale(1,.3);c.beginPath();c.arc(0,0,50,0,twoPi);c.closePath();c.fill();c.restore();c.fillStyle="black";c.strokeStyle="rgb(102, 102, 102)";c.fillRect(152+225*a,640,196,60);c.strokeRect(152+225*a,640,196,60);c.save();c.fillStyle="rgb(84, 84, 84)";c.font="italic 900 45px Arial";
c.scale(1.75,1);var e="P"+(a+1);1==playerType[a]&&(e="CP");c.fillText(e,87+225*a/1.75,690);c.restore();c.fillRect(160+225*a,620,180,40);c.strokeRect(160+225*a,620,180,40);c.font="900 24px Arial";0==playerType[a]&&(c.fillStyle="rgb(42, 42, 42)",c.fillRect(162+225*a,622,22,37),c.fillRect(316+225*a,622,22,37),c.fillStyle="rgb(83, 83, 83)",c.fillText("?",166+225*a,648),c.fillText("x",319+225*a,647));c.font="500 28px Arial";c.fillStyle="white";e="Marth";hasTag[a]&&(e=tagText[a]);c.textAlign="center";c.fillText(e,
250+225*a,650);c.textAlign="start"}c.fillStyle="rgb(82, 81, 81)";for(a=0;4>a;a++){c.fillStyle="rgb(82, 81, 81)";switch(playerType[a]){case 0:c.fillStyle="rgb(201, 178, 20)";break;case 1:c.fillStyle="rgb(161, 161, 161)";break;default:c.fillStyle="rgb(82, 81, 81)"}c.beginPath();c.moveTo(139+225*a,420);c.lineTo(220+225*a,420);c.lineTo(237+225*a,432);c.lineTo(215+225*a,455);c.lineTo(142+225*a,455);c.lineTo(139+225*a,452);c.closePath();c.fill()}c.fillStyle="rgba(0, 0, 0,0.7)";c.strokeStyle="rgba(0, 0, 0,0.7)";
c.lineWidth=4;for(a=0;4>a;a++)c.beginPath(),c.moveTo(160+225*a,424),c.lineTo(215+225*a,424),c.lineTo(228+225*a,432),c.lineTo(210+225*a,451),c.lineTo(160+225*a,451),c.closePath(),c.fill(),c.beginPath(),c.moveTo(139+225*a,420),c.lineTo(151+225*a,424),c.lineTo(151+225*a,451),c.lineTo(140+225*a,451),c.stroke();c.fillStyle="rgb(82, 81, 81)";c.font="700 22px Arial";for(a=0;4>a;a++){c.fillStyle="rgb(82, 81, 81)";e="N/A";switch(playerType[a]){case 0:e="HMN";c.fillStyle="rgb(201, 178, 20)";break;case 1:e=
"CPU",c.fillStyle="rgb(161, 161, 161)"}c.fillText(e,163+225*a,445)}for(a=0;4>a;a++)if(-1<playerType[a]){d=Math.floor(player[a].c);0==d&&(d=1);var e=player[a].a.face,f=animations[charSelect[a]][aS[player[a].o].name][d-1];switch(player[a].o){case 15:case 17:case 20:case 25:case 61:case 72:case 94:f=animations[charSelect[a]][aS[player[a].o].name][0]}aS[player[a].o].ec?e*=-1:4==player[a].o?5<d&&(e*=-1):6==player[a].o?18<d&&(e*=-1):34==player[a].o&&29<d&&(e*=-1);b(palettes[pPal[a]][0],e,6.75*player[a].a.j.x+
600,-4.5*player[a].a.j.y+480,f,.3,.3);player[a].a.Z&&(c.fillStyle=palettes[pPal[a]][2]+.6*player[a].a.Ga+")",c.beginPath(),c.arc(6.75*player[a].a.bb.x+600,-4.5*player[a].a.bb.y+460,6.75*player[a].a.vc,twoPi,0),c.fill())}c.font="900 31px Arial";c.lineWidth=2;for(a=0;4>a;a++)if(-1<playerType[a]){d=c.createLinearGradient(tokenPos[a].x-100,tokenPos[a].y,tokenPos[a].x+50,tokenPos[a].y);d.addColorStop(0,"rgb(255, 255, 255)");e="";switch(playerType[a]){case 0:e="P"+(a+1);switch(a){case 0:d.addColorStop(1,
"rgb(233, 57, 57)");break;case 1:d.addColorStop(1,"rgb(62, 130, 233)");break;case 2:d.addColorStop(1,"rgb(255, 253, 47)");break;case 3:d.addColorStop(1,"rgb(36, 242, 45)")}break;case 1:e="CP",d.addColorStop(1,"rgb(135, 135, 135)")}c.fillStyle="rgba(0,0,0,0.4)";c.beginPath();c.arc(tokenPos[a].x,tokenPos[a].y,34,0,twoPi);c.closePath();c.fill();c.fillStyle=d;c.beginPath();c.arc(tokenPos[a].x,tokenPos[a].y,30,0,twoPi);c.closePath();c.fill();c.fillStyle="rgba(0,0,0,0.4)";c.beginPath(tokenPos[a].y);c.arc(tokenPos[a].x,
tokenPos[a].y,26,1.2*Math.PI,.4*Math.PI);c.arc(tokenPos[a].x-3,tokenPos[a].y,23,.5*Math.PI,1.2*Math.PI,!0);c.closePath();c.fill();c.strokeStyle="rgb(57, 57, 57)";c.fillStyle="rgb(207, 207, 207)";c.fillText(e,tokenPos[a].x-22,tokenPos[a].y+13);c.strokeText(e,tokenPos[a].x-22,tokenPos[a].y+13)}for(a=0;a<ports;a++){switch(handType[a]){case 0:c.drawImage(qa,handPos[a].x-40,handPos[a].y-30,101,133);break;case 1:c.drawImage(T,handPos[a].x-40,handPos[a].y-30,101,133);break;case 2:c.drawImage(ra,handPos[a].x-
40,handPos[a].y-30,101,133)}switch(a){case 0:c.fillStyle="rgb(233, 57, 57)";break;case 1:c.fillStyle="rgb(62, 130, 233)";break;case 2:c.fillStyle="rgb(255, 253, 47)";break;case 3:c.fillStyle="rgb(36, 242, 45)"}c.fillText("P"+(a+1),handPos[a].x-15,handPos[a].y+60);c.strokeText("P"+(a+1),handPos[a].x-15,handPos[a].y+60)}for(d=a=0;4>d;d++)if(-1<playerType[d])if(a++,2<=a){readyToFight=!0;break}else readyToFight=!1;readyToFight&&(c.save(),c.fillStyle="rgba(223, 31, 31, 0.8)",c.beginPath(),c.moveTo(50,
300),c.bezierCurveTo(450,270,750,270,1150,300),c.bezierCurveTo(750,280,450,280,50,300),c.closePath(),c.fill(),c.beginPath(),c.moveTo(50,370),c.bezierCurveTo(450,350,750,350,1150,370),c.bezierCurveTo(750,360,900,365,900,365),c.bezierCurveTo(850,365,830,380,800,380),c.lineTo(400,380),c.bezierCurveTo(370,380,350,365,300,365),c.bezierCurveTo(300,360,450,370,0,370),c.closePath(),c.fill(),c.fillStyle="rgba(0,0,0,0.5)",c.beginPath(),c.moveTo(50,300),c.bezierCurveTo(450,280,750,280,1150,300),c.arc(1150,335,
35,1.5*Math.PI,.5*Math.PI,!0),c.bezierCurveTo(750,350,450,350,50,370),c.arc(50,335,35,.5*Math.PI,1.5*Math.PI,!0),c.closePath(),c.fill(),c.scale(1.4,1),rtfFlash+=.5*rtfFlashD,25>rtfFlash&&(rtfFlashD=1),50<rtfFlash&&(rtfFlashD=-1),c.fillStyle="hsl(52, 85%, "+rtfFlash+"%)",c.font="italic 600 65px Arial",c.rotate(-.03),c.fillText("READY",120,353),c.rotate(.03),c.fillText("TO",390,342),c.rotate(.03),c.fillText("FIGHT",520,329),c.rotate(-.03),c.fillStyle="rgb(193, 193, 193)",c.font="900 15px Arial",c.scale(2.3/
1.4,1),c.fillText("PRESS START",205,373),c.restore());-1<choosingTag&&(c.fillStyle="rgba(0,0,0,0.8)",c.fillRect(0,0,canvas.width,canvas.height),c.fillStyle="white",c.textAlign="center",c.fillText("Type tag now",250+225*choosingTag,570),c.fillText("Press A to finish",250+225*choosingTag,600),c.textAlign="start")}else if(6==gameMode){a=c.createLinearGradient(0,0,1200,750);a.addColorStop(0,"rgb(17, 11, 65)");a.addColorStop(1,"rgb(61, 8, 37)");c.fillStyle=a;c.fillRect(0,0,canvas.width,canvas.height);
c.lineWidth=3;U+=.01;1.8<U&&(U=-.8);d=0>U?.05+.3125*(.8+U):1<U?.3-.3125*(U-1):.3;a=c.createLinearGradient(0,0,1200,750);a.addColorStop(0,"rgba(255, 255, 255,0.05)");a.addColorStop(Math.min(Math.max(0,U),1),"rgba(255,255,255,"+d+")");a.addColorStop(1,"rgba(255, 255, 255,0.05)");c.strokeStyle=a;c.beginPath();for(a=0;60>a;a++)c.moveTo(0+30*a,0),c.lineTo(0+30*a,750),c.moveTo(0,0+30*a),c.lineTo(1200,0+30*a);c.stroke();c.lineWidth=4;c.strokeStyle="rgba(255, 255, 255, 0.57)";c.strokeRect(198,98,804,304);
c.fillStyle="black";c.textAlign="center";c.font="500 16px Arial";c.lineWidth=3;stageSelectTimer++;for(a=0;4>a;a++)c.strokeStyle=stageSelected==a?4<stageSelectTimer%8?"rgb(251, 116, 155)":"rgb(255, 182, 204)":"rgb(166, 166, 166)",c.fillRect(225+200*a,450,150,90),c.strokeRect(225+200*a,450,150,90);c.fillRect(525,590,150,90);c.fillStyle="rgb(245, 144, 61)";c.strokeStyle="rgb(245, 144, 61)";4==stageSelected&&4<stageSelectTimer%8&&(c.fillStyle="rgb(251, 195, 149)",c.strokeStyle="rgb(251, 195, 149)");c.font=
"700 25px Arial";c.lineWidth=4;c.strokeRect(525,590,150,90);c.fillText("RANDOM",600,665);c.font="700 32px Arial";c.fillText("?",600,630);c.beginPath();c.arc(600,618,18,0,twoPi);c.closePath();c.stroke();c.fillStyle="white";c.font="500 16px Arial";c.fillText("BATTLEFIELD",300,530);c.fillText("Y-STORY",500,530);c.fillText("P-STADIUM",700,530);c.fillText("DREAMLAND",900,530);c.drawImage(za,227,452,146,55);c.drawImage(Aa,427,452,146,55);c.drawImage(Ca,627,452,146,55);c.drawImage(Ba,827,452,146,55);c.textAlign=
"start";c.fillStyle="rgba(255,255,255,0.6)";c.font="900 48px Arial";switch(stageSelected){case 0:c.drawImage(za,200,100,800,300);c.fillText("Battlefield",220,380);break;case 1:c.drawImage(Aa,200,100,800,300);c.fillText("Yoshi's Story",220,380);break;case 2:c.drawImage(Ca,200,100,800,300);c.fillText("Pokemon Stadium",220,380);break;case 3:c.drawImage(Ba,200,100,800,300);c.fillText("Dreamland",220,380);break;case 4:c.textAlign="center",c.lineWidth=9,c.fillStyle="rgba(0,0,0,0.7)",c.fillRect(202,102,
796,296),c.fillStyle="rgb(255, 161, 84)",c.strokeStyle="rgb(255, 161, 84)",c.font="900 100px Arial",c.fillText("?",600,230),c.fillText("RANDOM",600,355),c.beginPath(),c.arc(600,192,55,0,twoPi),c.closePath(),c.stroke()}c.textAlign="center";c.lineWidth=8;c.strokeStyle="rgba(255,255,255,0.8)";c.beginPath();c.arc(stagePointerPos[0],stagePointerPos[1],40,0,twoPi);c.closePath();c.stroke()}else if(7==gameMode){a=c.createLinearGradient(0,0,1200,750);a.addColorStop(0,"rgb(66, 42, 6)");a.addColorStop(1,"rgb(26, 2, 2)");
c.fillStyle=a;c.fillRect(0,0,canvas.width,canvas.height);c.lineWidth=3;U+=.01;1.8<U&&(U=-.8);d=0>U?.05+.3125*(.8+U):1<U?.3-.3125*(U-1):.3;a=c.createLinearGradient(0,0,1200,750);a.addColorStop(0,"rgba(255, 255, 255,0.05)");a.addColorStop(Math.min(Math.max(0,U),1),"rgba(255,255,255,"+d+")");a.addColorStop(1,"rgba(255, 255, 255,0.05)");c.strokeStyle=a;c.beginPath();for(a=0;60>a;a++)c.moveTo(0+30*a,0),c.lineTo(0+30*a,750),c.moveTo(0,0+30*a),c.lineTo(1200,0+30*a);c.stroke();c.lineWidth=4;c.fillStyle="rgba(255,255,255,0.7)";
c.textAlign="start";c.font="800 35px Arial";c.fillText("Select Target Stage",50,85);c.fillText("Custom Stages",640,85);c.fillStyle="black";c.lineWidth=3;targetSelectTimer++;for(a=0;7>a;a++)c.strokeStyle=targetSelected==a?4<targetSelectTimer%8?"rgb(251, 116, 155)":"rgb(255, 182, 204)":"rgb(166, 166, 166)",c.fillRect(50+260*Math.floor(a/5)+65*Math.floor(a/10),110+a%5*60,250,50),c.strokeRect(50+260*Math.floor(a/5)+65*Math.floor(a/10),110+a%5*60,250,50);c.font="700 25px Arial";c.fillStyle="rgba(255,255,255,0.6)";
for(a=0;7>a;a++)c.fillText("Target "+(a+1),60+260*Math.floor(a/5),143+a%5*60);c.save();c.setLineDash([5,5]);c.strokeStyle="rgb(157, 157, 157)";c.lineWidth=2;for(a=0;7>a;a++)c.beginPath(),c.arc(220+260*Math.floor(a/5),135+a%5*60,10,0,twoPi),c.closePath(),medalsEarned[a][0]?(d=c.createLinearGradient(210+260*Math.floor(a/5),125+a%5*60,230+260*Math.floor(a/5),145+a%5*60),d.addColorStop(0,"rgb(180, 123, 65)"),d.addColorStop(1,"rgb(236, 179, 120)"),c.fillStyle=d,c.fill()):c.stroke(),c.beginPath(),c.arc(250+
260*Math.floor(a/5),135+a%5*60,10,0,twoPi),c.closePath(),medalsEarned[a][1]?(d=c.createLinearGradient(240+260*Math.floor(a/5),125+a%5*60,260+260*Math.floor(a/5),145+a%5*60),d.addColorStop(0,"rgb(161, 161, 161)"),d.addColorStop(1,"rgb(246, 246, 246)"),c.fillStyle=d,c.fill()):c.stroke(),c.beginPath(),c.arc(280+260*Math.floor(a/5),135+a%5*60,10,0,twoPi),c.closePath(),medalsEarned[a][2]?(d=c.createLinearGradient(270+260*Math.floor(a/5),125+a%5*60,290+260*Math.floor(a/5),145+a%5*60),d.addColorStop(0,"rgb(255, 221, 42)"),
d.addColorStop(1,"rgb(255, 237, 140)"),c.fillStyle=d,c.fill()):c.stroke();c.restore();c.strokeStyle="rgba(255, 255, 255, 0.5)";c.fillStyle="rgba(0, 0, 0, 0.5)";c.fillRect(200,450,800,200);c.strokeRect(200,450,800,200);if(10>targetSelected){d=c.createLinearGradient(270,470,330,530);d.addColorStop(0,"rgb(180, 123, 65)");d.addColorStop(1,"rgb(236, 179, 120)");c.fillStyle=d;c.beginPath();c.arc(300,500,30,0,twoPi);c.closePath();c.fill();d=c.createLinearGradient(510,470,570,530);d.addColorStop(0,"rgb(161, 161, 161)");
d.addColorStop(1,"rgb(246, 246, 246)");c.fillStyle=d;c.beginPath();c.arc(540,500,30,0,twoPi);c.closePath();c.fill();d=c.createLinearGradient(750,470,810,530);d.addColorStop(0,"rgb(255, 221, 42)");d.addColorStop(1,"rgb(255, 237, 140)");c.fillStyle=d;c.beginPath();c.arc(780,500,30,0,twoPi);c.closePath();c.fill();c.fillStyle="rgba(255,255,255,0.7)";c.font="700 30px Arial";for(a=0;3>a;a++)d="0"+Math.floor(medalTimes[targetSelected][a]/60)+":",e=(medalTimes[targetSelected][a]%60).toFixed(2),d+=5>e.length?
"0"+e:e,c.fillText(d,345+240*a,513);c.font="italic 900 38px Arial";c.fillText("World Record",250,625);c.font="700 38px Arial";c.textAlign="center";d="0"+Math.floor(worldRecords[targetSelected]/60)+":";e=(worldRecords[targetSelected]%60).toFixed(2);d+=5>e.length?"0"+e:e;c.fillText(d,750,625);c.font="500 20px Arial";c.textAlign="start";c.fillText("by "+worldRecordNames[targetSelected],850,625);}c.fillStyle="rgba(255,255,255,0.7)";c.textAlign="start";c.font="italic 900 38px Arial";c.fillText("Personal Best",250,575-(9<targetSelected?15:0));c.font="700 38px Arial";c.textAlign="center";-1==targetRecords[targetSelected]?
d="--:--:--":(d="0"+Math.floor(targetRecords[targetSelected]/60)+":",e=(targetRecords[targetSelected]%60).toFixed(2),d+=5>e.length?"0"+e:e);c.fillText(d,750,575-(9<targetSelected?15:0));c.lineWidth=8;c.strokeStyle="rgba(255,255,255,0.8)";c.beginPath();c.arc(targetPointerPos[0],targetPointerPos[1],40,0,twoPi);c.closePath();c.stroke()}else if(4==gameMode){Oa();for(a=0;a<stageTemp.u.s.length;a++)d=stageTemp.u.s[a],c.fillRect(d.min.x,d.max.y,Math.abs(d.max.x-d.min.x),Math.abs(d.max.y-d.min.y));for(a=
0;a<stageTemp.u.target.length;a++)for(d=stageTemp.u.target[a].x,e=stageTemp.u.target[a].y,f=0;5>f;f++)c.fillStyle="target"==hoverItem[0]&&hoverItem[1]==a?f%2?"white":"rgb(241, 111, 111)":f%2?"white":"red",c.beginPath(),c.arc(d,e,25-5*f,0,twoPi),c.closePath(),c.fill();c.strokeStyle="#db80cc";c.lineWidth=1;for(a=0;a<stageTemp.u.N.length;a++)d=stageTemp.u.N[a],c.beginPath(),c.moveTo(d[0].x,d[0].y),c.lineTo(d[1].x,d[1].y),c.closePath(),c.stroke();c.strokeStyle="#4794c6";for(a=0;a<stageTemp.u.platform.length;a++)d=
stageTemp.u.platform[a],c.beginPath(),c.moveTo(d[0].x,d[0].y),c.lineTo(d[1].x,d[1].y),c.closePath(),c.stroke();c.strokeStyle="#47c648";for(a=0;a<stageTemp.u.S.length;a++)d=stageTemp.u.S[a],c.beginPath(),c.moveTo(d[0].x,d[0].y),c.lineTo(d[1].x,d[1].y),c.closePath(),c.stroke();c.strokeStyle="#9867de";for(a=0;a<stageTemp.u.T.length;a++)d=stageTemp.u.T[a],c.beginPath(),c.moveTo(d[0].x,d[0].y),c.lineTo(d[1].x,d[1].y),c.closePath(),c.stroke();c.strokeStyle="#f04c4c";for(a=0;a<stageTemp.u.P.length;a++)d=
stageTemp.u.P[a],c.beginPath(),c.moveTo(d[0].x,d[0].y),c.lineTo(d[1].x,d[1].y),c.closePath(),c.stroke();c.strokeStyle="#e7a44c";c.lineWidth=1;for(a=0;a<stageTemp.K.length;a++)d=stageTemp.K[a],c.beginPath(),d[1]?(c.moveTo(stageTemp.u.s[d[0]].max.x,stageTemp.u.s[d[0]].max.y+Math.min(30,(stageTemp.u.s[d[0]].min.y-stageTemp.u.s[d[0]].max.y)/2)),c.lineTo(stageTemp.u.s[d[0]].max.x,stageTemp.u.s[d[0]].max.y),c.lineTo(stageTemp.u.s[d[0]].max.x-Math.min(30,(stageTemp.u.s[d[0]].max.x-stageTemp.u.s[d[0]].min.x)/
2),stageTemp.u.s[d[0]].max.y)):(c.moveTo(stageTemp.u.s[d[0]].min.x,stageTemp.u.s[d[0]].max.y+Math.min(30,(stageTemp.u.s[d[0]].min.y-stageTemp.u.s[d[0]].max.y)/2)),c.lineTo(stageTemp.u.s[d[0]].min.x,stageTemp.u.s[d[0]].max.y),c.lineTo(stageTemp.u.s[d[0]].min.x+Math.min(30,(stageTemp.u.s[d[0]].max.x-stageTemp.u.s[d[0]].min.x)/2),stageTemp.u.s[d[0]].max.y)),c.closePath(),c.stroke();if(holdingA)switch(targetTool){case 0:c.strokeStyle="white";c.lineWidth=4;c.strokeRect(Math.min(drawingBox.min.x,drawingBox.max.x),
Math.min(drawingBox.min.y,drawingBox.max.y),Math.abs(drawingBox.min.x-drawingBox.max.x),Math.abs(drawingBox.min.y-drawingBox.max.y));break;case 1:c.strokeStyle="rgb(79, 244, 255)",c.lineWidth=4,c.beginPath(),c.moveTo(drawingPlatform[0].x,drawingPlatform[0].y),c.lineTo(drawingPlatform[1].x,drawingPlatform[1].y),c.stroke(),c.closePath()}c.textAlign="center";c.lineWidth=2;a=["rgb(0, 0, 0)","rgb(110, 255, 66)"];"startingPoint"==hoverItem[0]&&(a=["rgb(82, 82, 82)","rgb(171, 255, 145)"]);c.fillStyle=a[0];
c.fillRect(stageTemp.u.W.x-4,stageTemp.u.W.y-12,8,24);c.fillRect(stageTemp.u.W.x-12,stageTemp.u.W.y-4,24,8);c.fillRect(stageTemp.u.W.x-27,stageTemp.u.W.y-23,54,13);c.fillStyle=a[1];c.fillRect(stageTemp.u.W.x-2,stageTemp.u.W.y-10,4,20);c.fillRect(stageTemp.u.W.x-10,stageTemp.u.W.y-2,20,4);c.font="900 14px Arial";c.fillText("START",stageTemp.u.W.x,stageTemp.u.W.y-12);a=hoverItem[1];if("box"==hoverItem[0])for(c.strokeStyle="#e9bee2",c.lineWidth=3,d=stageTemp.u.N[a],c.beginPath(),c.moveTo(d[0].x,d[0].y),
c.lineTo(d[1].x,d[1].y),c.closePath(),c.stroke(),c.strokeStyle="#86df87",d=stageTemp.u.S[a],c.beginPath(),c.moveTo(d[0].x,d[0].y),c.lineTo(d[1].x,d[1].y),c.closePath(),c.stroke(),c.strokeStyle="#b99fde",d=stageTemp.u.T[a],c.beginPath(),c.moveTo(d[0].x,d[0].y),c.lineTo(d[1].x,d[1].y),c.closePath(),c.stroke(),c.strokeStyle="#fa9292",d=stageTemp.u.P[a],c.beginPath(),c.moveTo(d[0].x,d[0].y),c.lineTo(d[1].x,d[1].y),c.closePath(),c.stroke(),c.strokeStyle="#e8bd84",d=0;d<stageTemp.K.length;d++)e=stageTemp.K[d],
e[0]==a&&(c.beginPath(),e[1]?(c.moveTo(stageTemp.u.s[e[0]].max.x,stageTemp.u.s[e[0]].max.y+Math.min(30,(stageTemp.u.s[e[0]].min.y-stageTemp.u.s[e[0]].max.y)/2)),c.lineTo(stageTemp.u.s[e[0]].max.x,stageTemp.u.s[e[0]].max.y),c.lineTo(stageTemp.u.s[e[0]].max.x-Math.min(30,(stageTemp.u.s[e[0]].max.x-stageTemp.u.s[e[0]].min.x)/2),stageTemp.u.s[e[0]].max.y)):(c.moveTo(stageTemp.u.s[e[0]].min.x,stageTemp.u.s[e[0]].max.y+Math.min(30,(stageTemp.u.s[e[0]].min.y-stageTemp.u.s[e[0]].max.y)/2)),c.lineTo(stageTemp.u.s[e[0]].min.x,
stageTemp.u.s[e[0]].max.y),c.lineTo(stageTemp.u.s[e[0]].min.x+Math.min(30,(stageTemp.u.s[e[0]].max.x-stageTemp.u.s[e[0]].min.x)/2),stageTemp.u.s[e[0]].max.y)),c.closePath(),c.stroke());else"platform"==hoverItem[0]&&(c.lineWidth=3,c.strokeStyle="#7eb3d5",a=stageTemp.u.platform[a],c.beginPath(),c.moveTo(a[0].x,a[0].y),c.lineTo(a[1].x,a[1].y),c.closePath(),c.stroke());0!=ledgeHoverItem&&(c.fillStyle="rgb(255, 148, 70)",c.beginPath(),ledgeHoverItem[2]?c.arc(stageTemp.u.s[ledgeHoverItem[1]].max.x,stageTemp.u.s[ledgeHoverItem[1]].max.y,
10,0,twoPi):c.arc(stageTemp.u.s[ledgeHoverItem[1]].min.x,stageTemp.u.s[ledgeHoverItem[1]].max.y,10,0,twoPi),c.closePath(),c.fill());0<toolInfoTimer&&toolInfoTimer--;c.fillStyle="rgb(255,255,255)";c.font="13px Lucida Console, monaco, monospace";for(a=0;6>a;a++)targetTool==a?(0<toolInfoTimer&&(c.save(),c.globalAlpha=1,c.fillStyle="rgba(0,0,0,"+Math.min(toolInfoTimer/60,1)+")",c.fillRect(690+70*a,715,80,30),c.fillStyle="rgba(255,255,255,"+Math.min(toolInfoTimer/60,1)+")",c.fillText(toolInfo[targetTool],
730+70*a,733),c.restore()),c.globalAlpha=.6):c.globalAlpha=.2,c.beginPath(),c.moveTo(700+70*a,660),c.arc(710+70*a,660,10,Math.PI,1.5*Math.PI),c.lineTo(750+70*a,650),c.arc(750+70*a,660,10,1.5*Math.PI,twoPi),c.lineTo(760+70*a,710),c.arc(750+70*a,700,10,0,Math.PI/2),c.lineTo(710+70*a,710),c.arc(710+70*a,700,10,Math.PI/2,Math.PI),c.closePath(),c.fill();c.globalAlpha=1;c.fillStyle="rgba(0,0,0,0.8)";c.strokeStyle="rgba(0,0,0,0.8)";c.lineWidth=4;c.font="600 14px Lucida Console, monaco, monospace";c.fillText(20-
stageTemp.s.length,745,707);c.strokeRect(720,670,20,20);c.fillText(20-stageTemp.platform.length,815,707);c.beginPath();c.moveTo(788,680);c.lineTo(812,680);c.stroke();c.closePath();c.beginPath();c.moveTo(860,690);c.lineTo(860,670);c.lineTo(880,670);c.stroke();c.closePath();c.fillText(10-stageTemp.target.length,955,707);c.fillStyle="rgba(255,0,0,0.8)";c.beginPath();c.arc(940,680,15,0,twoPi);c.closePath();c.fill();c.fillStyle="rgba(255,255,255,0.8)";c.beginPath();c.arc(940,680,10,0,twoPi);c.closePath();
c.fill();c.fillStyle="rgba(255,0,0,0.8)";c.beginPath();c.arc(940,680,5,0,twoPi);c.closePath();c.fill();c.drawImage(T,997,663,29,38);c.font="900 30px Arial";c.fillStyle="rgba(252, 45, 45, 0.8)";c.fillText("X",1080,692);c.font="13px Lucida Console, monaco, monospace";0<tooSmallTimer&&(tooSmallTimer--,c.fillStyle="rgba(0,0,0,"+Math.min(tooSmallTimer/60,1)+")",c.fillRect(tooSmallPos.x+30,tooSmallPos.y,80,25),c.fillStyle="rgba(255,255,255,"+Math.min(tooSmallTimer/60,1)+")",c.fillText("Too small",tooSmallPos.x+
70,tooSmallPos.y+17));4==targetTool?0==grabbedItem?c.drawImage(T,3*crossHairPos.x+600-18,-3*crossHairPos.y+375-24,36,48):c.drawImage(ra,3*crossHairPos.x+600-18,-3*crossHairPos.y+375-24,36,48):5==targetTool?(c.font="900 40px Arial",c.fillStyle="rgb(255, 83, 83)",c.strokeStyle="black",c.fillText("X",3*crossHairPos.x+600,-3*crossHairPos.y+385),c.strokeText("X",3*crossHairPos.x+600,-3*crossHairPos.y+385)):(c.fillStyle="#ffffff",c.fillRect(3*crossHairPos.x+600-2,-3*crossHairPos.y+375-10,4,20),c.fillRect(3*
crossHairPos.x+600-10,-3*crossHairPos.y+375-2,20,4));if(builderPaused){c.fillStyle="rgba(0,0,0,0.4)";c.fillRect(0,0,canvas.width,canvas.height);for(a=0;3>a;a++)c.fillStyle=builderPauseSelected==a?"rgba(255,255,255,0.9)":"rgba(255,255,255,0.2)",c.fillRect(400,150+150*a,400,100);c.font="900 50px Arial";c.fillStyle="rgba(0,0,0,0.8)";c.fillText("Test stage",600,220);c.fillText("Save stage",600,370);c.fillText("Quit",600,520)}}else if(5==gameMode){if(playing||frameByFrame)a=performance.now(),c.fillStyle=
"rgba(0, 0, 0, 1)",c.fillRect(0,0,canvas.width,canvas.height),showVfx&&Oa(),Pa(),Q(targetBuilder),Ka(),ma(!1),a=performance.now()-a,renderTime[0]+=a,renderTime[0]/=2,10<=a&&renderTime[3]++,a>renderTime[1]&&(renderTime[1]=a),a<renderTime[2]&&(renderTime[2]=a),$("#renderAvg").empty().append(Math.round(renderTime[0])),$("#renderHigh").empty().append(Math.round(renderTime[1])),$("#renderLow").empty().append(Math.round(renderTime[2])),$("#renderPeak").empty().append(renderTime[3])}else if(playing||frameByFrame){a=
performance.now();c.fillStyle="rgba(0, 0, 0, 1)";c.fillRect(0,0,canvas.width,canvas.height);showVfx&&Oa();Pa();for(d=0;4>d;d++)-1<playerType[d]&&Q(d);Ka();ma(!0);a=performance.now()-a;renderTime[0]+=a;renderTime[0]/=2;10<=a&&renderTime[3]++;a>renderTime[1]&&(renderTime[1]=a);a<renderTime[2]&&(renderTime[2]=a);$("#renderAvg").empty().append(Math.round(renderTime[0]));$("#renderHigh").empty().append(Math.round(renderTime[1]));$("#renderLow").empty().append(Math.round(renderTime[2]));$("#renderPeak").empty().append(renderTime[3])}frameByFrame&&
na()}}for(var X=0;4>X;X++)player[X]=new ha(startingPoint[X],startingFace[X]),player[X].a.face=1,player[X].o=0;function ya(a,d){player[a]=new ha(startingPoint[a],startingFace[a]);d?n("entrance",new k(stage.W.x,stage.W.y)):n("entrance",new k(startingPoint[a][0],startingPoint[a][1]))}
function Pa(){c.strokeStyle="#db80cc";c.lineWidth=1;for(var a=0;a<stage.N.length;a++)c.beginPath(),c.moveTo(stage.N[a][0].x*stage.scale+stage.offset[0],stage.N[a][0].y*-stage.scale+stage.offset[1]),c.lineTo(stage.N[a][1].x*stage.scale+stage.offset[0],stage.N[a][1].y*-stage.scale+stage.offset[1]),c.closePath(),c.stroke();c.strokeStyle="#ed6767";for(a=0;a<stage.P.length;a++)c.beginPath(),c.moveTo(stage.P[a][0].x*stage.scale+stage.offset[0],stage.P[a][0].y*-stage.scale+stage.offset[1]),c.lineTo(stage.P[a][1].x*
stage.scale+stage.offset[0],stage.P[a][1].y*-stage.scale+stage.offset[1]),c.closePath(),c.stroke();for(a=0;a<stage.s.length;a++)c.fillRect(stage.s[a].min.x*stage.scale+stage.offset[0],stage.s[a].max.y*-stage.scale+stage.offset[1],(stage.s[a].max.x-stage.s[a].min.x)*stage.scale,(stage.s[a].max.y-stage.s[a].min.y)*stage.scale);c.strokeStyle="#4794c6";for(a=0;a<stage.platform.length;a++)c.beginPath(),c.moveTo(stage.platform[a][0].x*stage.scale+stage.offset[0],stage.platform[a][0].y*-stage.scale+stage.offset[1]),
c.lineTo(stage.platform[a][1].x*stage.scale+stage.offset[0],stage.platform[a][1].y*-stage.scale+stage.offset[1]),c.closePath(),c.stroke();c.strokeStyle="#47c648";for(var d=0;d<stage.S.length;d++)c.beginPath(),c.moveTo(stage.S[d][0].x*stage.scale+stage.offset[0],stage.S[d][0].y*-stage.scale+stage.offset[1]),c.lineTo(stage.S[d][1].x*stage.scale+stage.offset[0],stage.S[d][1].y*-stage.scale+stage.offset[1]),c.closePath(),c.stroke();c.strokeStyle="#9867de";for(a=0;a<stage.T.length;a++)c.beginPath(),c.moveTo(stage.T[a][0].x*
stage.scale+stage.offset[0],stage.T[a][0].y*-stage.scale+stage.offset[1]),c.lineTo(stage.T[a][1].x*stage.scale+stage.offset[0],stage.T[a][1].y*-stage.scale+stage.offset[1]),c.closePath(),c.stroke();c.strokeStyle="#e7a44c";for(a=0;a<stage.K.length;a++)d=stage.K[a],c.beginPath(),d[1]?(c.moveTo(stage.s[d[0]].max.x*stage.scale+stage.offset[0],(stage.s[d[0]].max.y-Math.min(10,(stage.s[d[0]].max.y-stage.s[d[0]].min.y)/2))*-stage.scale+stage.offset[1]),c.lineTo(stage.s[d[0]].max.x*stage.scale+stage.offset[0],
stage.s[d[0]].max.y*-stage.scale+stage.offset[1]),c.lineTo((stage.s[d[0]].max.x-Math.min(10,(stage.s[d[0]].max.x-stage.s[d[0]].min.x)/2))*stage.scale+stage.offset[0],stage.s[d[0]].max.y*-stage.scale+stage.offset[1])):(c.moveTo(stage.s[d[0]].min.x*stage.scale+stage.offset[0],(stage.s[d[0]].max.y-Math.min(10,(stage.s[d[0]].max.y-stage.s[d[0]].min.y)/2))*-stage.scale+stage.offset[1]),c.lineTo(stage.s[d[0]].min.x*stage.scale+stage.offset[0],stage.s[d[0]].max.y*-stage.scale+stage.offset[1]),c.lineTo((stage.s[d[0]].min.x+
Math.min(10,(stage.s[d[0]].max.x-stage.s[d[0]].min.x)/2))*stage.scale+stage.offset[0],stage.s[d[0]].max.y*-stage.scale+stage.offset[1])),c.closePath(),c.stroke(),c.fill(),c.fill();if("undefined"!=typeof stage.target)for(d=0;d<stage.target.length;d++)if(!targetDestroyed[d])for(var e=stage.target[d].x*stage.scale+stage.offset[0],f=stage.target[d].y*-stage.scale+stage.offset[1],a=0;5>a;a++)c.fillStyle=a%2?"white":"red",c.beginPath(),c.arc(e,f,stage.scale/4.5*(25-5*a),0,twoPi),c.closePath(),c.fill()}
var Y=[[-30,500,300,500,900,500,1230,450,358],[-30,400,300,400,900,400,1230,350,179]],Z=[[1,-1,1,-1,1,-1,1,-1,1],[-1,1,-1,1,-1,1,-1,1,-1]];function Qa(){var a=Math.random();this.Dc=new k(5*a*Math.sign(.5-Math.random()),5*(1-a)*Math.sign(.5-Math.random()));this.Da="hsl("+358*Math.random()+", 100%, 50%)";this.j=new k(0,0);this.ld=0}bgStars=[];for(R=0;20>R;R++)bgStars[R]=new Qa,bgStars[R].j=new k(600*Math.random()*Math.sign(bgStars[R].Dc.x),400*Math.random()*Math.sign(bgStars[R].Dc.y));bgSparkle=3;
function Oa(){bgSparkle--;var a=c.createLinearGradient(0,0,0,500);a.addColorStop(0,"rgb(24, 17, 66)");a.addColorStop(1,"black");c.fillStyle=a;c.fillRect(-100,-100,canvas.width+200,canvas.height+200);for(a=0;20>a;a++){if(600<Math.abs(bgStars[a].j.x)||400<Math.abs(bgStars[a].j.y))bgStars[a]=new Qa;bgStars[a].j.x+=bgStars[a].Dc.x;bgStars[a].j.y+=bgStars[a].Dc.y;bgStars[a].ld++;0==bgSparkle&&(c.fillStyle=bgStars[a].Da,c.globalAlpha=Math.min(bgStars[a].ld/300,1),c.beginPath(),c.arc(600+bgStars[a].j.x,
375+bgStars[a].j.y,5,twoPi,0),c.fill())}0==bgSparkle&&(bgSparkle=2);for(a=c.globalAlpha=1;-1<a;a--){for(var d=0;9>d;d++)switch(Y[a][d]=8==d?Y[a][d]+.2*Z[a][d]*Math.random():Y[a][d]+1*Z[a][d]*Math.random(),d){case 0:if(1==Z[a][d]&&-10<Y[a][d]||-1==Z[a][d]&&-200>Y[a][d])Z[a][d]*=-1;break;case 1:if(1==Z[a][d]&&Y[a][d]>550-100*a||-1==Z[a][d]&&Y[a][d]<450-100*a)Z[a][d]*=-1;break;case 2:if(1==Z[a][d]&&550<Y[a][d]||-1==Z[a][d]&&0>Y[a][d])Z[a][d]*=-1;break;case 3:if(1==Z[a][d]&&Y[a][d]>550-100*a||-1==Z[a][d]&&
Y[a][d]<450-100*a)Z[a][d]*=-1;break;case 4:if(1==Z[a][d]&&1150<Y[a][d]||-1==Z[a][d]&&600>Y[a][d])Z[a][d]*=-1;break;case 5:if(1==Z[a][d]&&Y[a][d]>550-100*a||-1==Z[a][d]&&Y[a][d]<450-100*a)Z[a][d]*=-1;break;case 6:if(1==Z[a][d]&&1400<Y[a][d]||-1==Z[a][d]&&1210>Y[a][d])Z[a][d]*=-1;break;case 7:if(1==Z[a][d]&&Y[a][d]>550-100*a||-1==Z[a][d]&&Y[a][d]<450-100*a)Z[a][d]*=-1;break;case 8:if(1==Z[a][d]&&357<Y[a][d]||-1==Z[a][d]&&1>Y[a][d])Z[a][d]*=-1}c.fillStyle="hsla("+Y[a][8]+", 100%, 50%, "+(.15-.07*a)+
")";c.beginPath();c.moveTo(Y[a][0],Y[a][1]);c.bezierCurveTo(Y[a][2],Y[a][3],Y[a][4],Y[a][5],Y[a][6],Y[a][7]);1==a?(c.lineTo(Y[0][6],Y[0][7]),c.bezierCurveTo(Y[0][4],Y[0][5],Y[0][2],Y[0][3],Y[0][0],Y[0][1])):(c.lineTo(1200,750),c.lineTo(0,750));c.closePath();c.fill()}}
function Ha(){gameMode=3;vfxQueue=[];for(var a=0;4>a;a++)-1<playerType[a]&&(ya(a,!1),Q(a),player[a].ha=!1),versusMode&&(player[a].Ca=1);matchTimer=480;startTimer=1.5;starting=!0;sounds.$b.stop();sounds.jb.stop();sounds.jb.play("battlefieldStart");n("start",new k(0,0));findingPlayers=!1;playing=!0;stage=stages[stageSelect]}
function Ia(){gameEnd=!1;lostStockQueue=[];sounds.jb.stop();playing=!1;c.fillStyle="rgba(0, 0, 0, 1)";c.fillRect(-100,-100,canvas.width+200,canvas.height+200);Pa();3==gameMode?gameMode=2:5==gameMode&&(gameMode=targetTesting?4:7);sounds.$b.play("menu2Start");pause=[[!0,!0],[!0,!0],[!0,!0],[!0,!0]];frameAdvance=[[!0,!0],[!0,!0],[!0,!0],[!0,!0]];findingPlayers=!0;Ga();for(var a=0;4>a;a++)-1<playerType[a]&&(72==player[a].o&&sounds.lc.stop(player[a].kc),player[a].b.B[0]=!0,player[a].b.B[1]=!0,player[a].ha=
!0,player[a].a.face=1,player[a].o=0,player[a].c=0)}
function P(){endTargetGame=!1;gameEnd=!0;playing=!1;c.save();c.textAlign="center";var a="Game!",d=300,e=1,f=c.createLinearGradient(0,200,0,520);if(5==gameMode||8==gameMode)if(stage.target.length==targetsDestroyed){if(targetTesting)sounds.complete.play();else{if(10>targetStagePlaying)for(a=0;3>a;a++)medalsEarned[targetStagePlaying][a]||matchTimer<=medalTimes[targetStagePlaying][a]&&(medalsEarned[targetStagePlaying][a]=!0);matchTimer<targetRecords[targetStagePlaying]||-1==targetRecords[targetStagePlaying]?
(targetRecords[targetStagePlaying]=matchTimer,10>targetStagePlaying&&matchTimer<worldRecords[targetStagePlaying]&&(worldRecords[targetStagePlaying]=matchTimer,worldRecordNames[targetStagePlaying]="you"),sounds.ne.play()):sounds.complete.play()}a="Complete!";d=200;e=1.5;f=c.createLinearGradient(0,200/e,0,520/e);f.addColorStop(0,"black");f.addColorStop(.4,"black");f.addColorStop(.8,"rgb(150, 86, 46)");f.addColorStop(1,"rgb(205, 108, 45)")}else sounds.Xd.play(),a="Failure",d=250,f.addColorStop(0,"black"),f.addColorStop(.5,"black"),f.addColorStop(.7,
"rgb(51, 34, 251)"),f.addColorStop(1,"rgb(107, 71, 250)");else 0>=matchTimer?(a="Time!",sounds.time.play(),f.addColorStop(0,"black"),f.addColorStop(.5,"black"),f.addColorStop(.7,"rgb(21, 51, 180)"),f.addColorStop(1,"rgb(71, 94, 250)")):(sounds.ce.play(),f.addColorStop(0,"black"),f.addColorStop(.4,"black"),f.addColorStop(.7,"rgb(167, 27, 40)"),f.addColorStop(1,"rgb(255, 31, 52)"));c.scale(1,e);c.fillStyle=f;c.lineWidth=40;c.strokeStyle="black";c.font="900 "+d+"px Arial";c.strokeText(a,600,470/e);c.lineWidth=
20;c.strokeStyle="white";c.font="900 "+d+"px Arial";c.strokeText(a,600,470/e);c.font="900 "+d+"px Arial";c.fillText(a,600,470/e);c.restore();sounds.jb.stop();setTimeout(function(){Ia()},2500)}
$(document).ready(function(){$("#keyboardButton").click(function(){$("#keyboardControlsImg").toggle()});$("#controllerButton").click(function(){$("#controllerSupportContainer").toggle()});canvas=document.getElementById("gameCanvas");c=canvas.getContext("2d");c.fillStyle="rgba(0, 0, 0, 1)";c.fillRect(-100,-100,canvas.width+200,canvas.height+200);oa();Ma();Na();var a=Math.max(($(window).width()-1200)/2,0),d=Math.max(($(window).height()-750)/2,0);$("#display").css("margin",d+"px 0px 0px "+a+"px");$("#effectsButton").click(function(){showVfx?
$("#effectsButtonEdit").empty().append("OFF"):$("#effectsButtonEdit").empty().append("ON");showVfx^=1});$("#fpsButton").click(function(){fps30?$("#fpsButtonEdit").empty().append("60"):$("#fpsButtonEdit").empty().append("30");fps30^=1});$("#debugButton").click(function(){if(showDebug){$("#debugButtonEdit").empty().append("OFF");$("#debug").hide();$("#players").hide();var d=Math.max(($(window).height()-750)/2,0);$("#display").css("margin",d+"px 0px 0px "+a+"px")}else $("#debugButtonEdit").empty().append("ON"),
$("#debug").show(),$("#players").show(),d=Math.max(($(window).height()-900)/2,0),$("#display").css("margin",d+" 0px 0px px "+a+"px");showDebug^=1})});
